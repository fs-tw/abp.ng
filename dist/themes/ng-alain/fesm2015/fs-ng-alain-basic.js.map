{"version":3,"file":"fs-ng-alain-basic.js","sources":["../../../../themes/ng-alain/basic/src/lib/providers/styles.provider.ts","../../../../themes/ng-alain/basic/src/lib/components/fs-ng-alain-tree/fs-ng-alain-tree.component.ts","../../../../themes/ng-alain/basic/src/lib/ng-alain-basic.module.ts","../../../../themes/ng-alain/basic/src/fs-ng-alain-basic.ts"],"sourcesContent":["import { AddReplaceableComponent, CONTENT_STRATEGY, DomInsertionService } from '@abp/ng.core';\r\nimport { APP_INITIALIZER } from '@angular/core';\r\nimport { Store } from '@ngxs/store';\r\nimport { LayoutPassportComponent, PageBarComponent } from '@fs/ng-alain/layout';\r\nimport { LayoutDefaultComponent } from '@fs/ng-alain/layout';\r\nimport { LayoutFullScreenComponent } from '@fs/ng-alain/layout';\r\nimport { eThemeBasicComponents } from '@abp/ng.theme.basic';\r\nimport { eThemeCoreComponents } from '@fs/theme.core';\r\n\r\nexport const BASIC_THEME_STYLES_PROVIDERS = [\r\n  {\r\n    provide: APP_INITIALIZER,\r\n    useFactory: configureStyles,\r\n    deps: [Store],\r\n    multi: true,\r\n  },\r\n];\r\n\r\nexport function configureStyles(store: Store) {\r\n  return () => {\r\n    //domInsertion.insertContent(CONTENT_STRATEGY.AppendStyleToHead(styles));\r\n\r\n    initLayouts(store);\r\n  };\r\n}\r\n\r\nfunction initLayouts(store: Store) {\r\n  store.dispatch([\r\n    new AddReplaceableComponent({\r\n      key: eThemeBasicComponents.ApplicationLayout,\r\n      component: LayoutDefaultComponent,\r\n    }),\r\n    new AddReplaceableComponent({\r\n      key: eThemeBasicComponents.AccountLayout,\r\n      component: LayoutPassportComponent,\r\n    }),\r\n    new AddReplaceableComponent({\r\n      key: eThemeBasicComponents.EmptyLayout,\r\n      component: LayoutFullScreenComponent,\r\n    }),\r\n    new AddReplaceableComponent({\r\n      key: eThemeCoreComponents.PageBar,\r\n      component: PageBarComponent,\r\n    }),\r\n  ]);\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, TemplateRef } from '@angular/core';\r\nimport { NzTreeNode, NzFormatEmitEvent, NzTreeNodeOptions } from 'ng-zorro-antd';\r\nimport * as _ from 'lodash';\r\n\r\n@Component({\r\n  selector: 'fs-ng-alain-tree',\r\n  templateUrl: './fs-ng-alain-tree.component.html',\r\n  styleUrls: ['./fs-ng-alain-tree.component.less']\r\n})\r\nexport class FsNgAlainTreeComponent implements OnInit {\r\n\r\n  /** 佔據一行(藍底) */\r\n  @Input()\r\n  public blockNode: boolean = true;\r\n\r\n  /** 顯示節點狀態\r\n   * 0: 不顯示\r\n   * 1: 顯示子節點數\r\n   * 2: 顯示子節點總數\r\n   * 3: 顯示此節點物件數\r\n   * 4: 顯示此節點及所有子節點物件數\r\n   */\r\n  @Input()\r\n  public showCountType: number = 0;\r\n\r\n  /** 欲轉為樹狀的陣列\r\n   * Array<any> = [{\r\n   *   id: id 傳回值,\r\n   *   displayName: 節點顯示文字,\r\n   *   parentId: 父節點id (根節點設為null),\r\n   *   code: 樹結構代碼\r\n   * }]\r\n   */\r\n  @Input()\r\n  public tree: Array<any> = [];\r\n\r\n  /** 樹物件\r\n   * 僅計算節點數\r\n   */\r\n  @Input()\r\n  public treeItem: Array<any> = [];\r\n\r\n  /** 節點全部展開 */\r\n  @Input()\r\n  public nzDefaultExpandAll: boolean = false;\r\n\r\n  /** 預設展開之節點 \r\n   * Key Array\r\n   */\r\n  @Input()\r\n  public defaultExpandedKeys: Array<any> = [];\r\n\r\n  /** 顯示連結線 */\r\n  @Input()\r\n  public nzShowLine: boolean = false;\r\n\r\n  /** 預設選取(藍底) \r\n   * Key Array\r\n   */\r\n  @Input()\r\n  public defaultSelectedKeys: Array<any> = [];\r\n\r\n  /** 是否可勾選 */\r\n  @Input()\r\n  public nzCheckable: boolean = false;\r\n\r\n  /** 預設勾選 \r\n   * Key Array\r\n   */\r\n  @Input()\r\n  public defaultCheckedKeys: Array<any> = [];\r\n\r\n  /** 是否產生全選框 */\r\n  @Input()\r\n  public showCheckAll: boolean = false;\r\n\r\n  /** 全選框文字 */\r\n  @Input()\r\n  public checkAllText: string = \"全部\";\r\n\r\n  /** 拖拽 */\r\n  @Input()\r\n  public nzDraggable: boolean = false;\r\n\r\n  /** 葉節點\r\n   * 最後一層節點設為葉節點，不可拖拽至葉節點內，不顯示子節點數量\r\n   */\r\n  @Input()\r\n  public leafNodes: boolean = false;\r\n\r\n  /** 右鍵功能 自訂樹節點格式 ng-template\r\n   * 啟用此功能將導致拖拽失效\r\n   */\r\n  @Input()\r\n  public nzTreeTemplate: TemplateRef<{}>;\r\n\r\n  /** 預設搜尋框 */\r\n  @Input()\r\n  public nzDefaultSearch: boolean = false;\r\n\r\n  /** 搜尋字串 */\r\n  @Input()\r\n  public searchValue: string = \"\";\r\n\r\n  /** 是否展開時讀取 \r\n   * 讀取後，顯示的節點數不會更新\r\n   */\r\n  @Input()\r\n  public nzAsyncData: boolean = false;\r\n\r\n  /** 拖拽後傳回 */\r\n  @Output()\r\n  private onDropAction: EventEmitter<any> = new EventEmitter();\r\n\r\n  /** 點擊 */\r\n  @Output()\r\n  private onNodeClick: EventEmitter<any> = new EventEmitter();\r\n\r\n  /** 雙擊 */\r\n  @Output()\r\n  private onNodeDblClick: EventEmitter<any> = new EventEmitter();\r\n\r\n  /** CheckBox 狀態變更 */\r\n  @Output()\r\n  private onCheckBoxChange: EventEmitter<any> = new EventEmitter();\r\n\r\n  /** 搜尋後 */\r\n  @Output()\r\n  private onSearch: EventEmitter<any> = new EventEmitter();\r\n\r\n  /** 展開狀態改變 */\r\n  @Output()\r\n  private onExpandChange: EventEmitter<any> = new EventEmitter();\r\n\r\n  \r\n  /** 樹狀陣列 */\r\n  public treeOptions: NzTreeNode[] = [];\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.init();\r\n  }\r\n\r\n  /** 初始化參數 */\r\n  public init(){\r\n    var tree = this.initTreeDatas(_.cloneDeep(this.tree));\r\n    var treeItem = this.initTreeDatas(_.cloneDeep(this.treeItem));\r\n    \r\n    if(this.showCheckAll)\r\n      tree = this.createCheckAll(tree);\r\n\r\n    if(this.leafNodes)\r\n      tree = this.setLeaf(tree);\r\n    \r\n    tree = this.calcNodeNum(tree);\r\n    var option = this.array2Nodes(tree);\r\n\r\n    if(this.showCountType != 0)\r\n      option = this.showCount(option);\r\n\r\n    this.treeOptions = [];\r\n    option.forEach(item => {\r\n        this.treeOptions.push(\r\n            new NzTreeNode(item)\r\n        );\r\n    });\r\n  }\r\n\r\n  /** 初始化 Tree 所需要的資料 */\r\n  private initTreeDatas(tree){\r\n    tree = tree.map(function(x){\r\n      x.title = x.displayName;\r\n      x.key = x.id;\r\n      delete x.children;\r\n      return x;\r\n    });\r\n    return tree;\r\n  }\r\n\r\n  /** 產生全選框 */\r\n  private createCheckAll(datas: any[]){\r\n    datas = datas.map(function(x){\r\n      if(x.parentId == null)\r\n        x.parentId = 0;\r\n      \r\n      x.code = \"0.\" + x.code;\r\n      return x;\r\n    });\r\n\r\n    datas.push({\r\n      id: 0, key: 0, parentId: null, title: this.checkAllText, code: \"0\"\r\n    });\r\n\r\n    return datas;\r\n  }\r\n\r\n  /** 計算節點顯示數字 */\r\n  private calcNodeNum(datas: any[]): any[]{\r\n    var vm = this;\r\n    switch(this.showCountType){\r\n      case 1:\r\n        datas = datas.map(function(x, i, arr){\r\n          x.childNum = arr.filter(y => x.id == y.parentId && x.id != y.id).length;\r\n          return x;\r\n        });\r\n        break;\r\n      case 2:\r\n        datas = datas.map(function(x, i, arr){\r\n          x.childNum = arr.filter(y => y.code.startsWith(x.code) && x.id != y.id).length;\r\n          return x;\r\n        });\r\n        break;\r\n      case 3:\r\n        datas = datas.map(function(x){\r\n          x.childNum = vm.treeItem.filter(y => y.parentId == x.id).length;\r\n          return x;\r\n        });\r\n        break;\r\n      case 4:\r\n        datas = datas.map(function(x){\r\n          // x.childNum = vm.treeItem.filter(y => \"0.\" + y.code.startsWith(x.code) && x.id != y.id).length;\r\n          x.childNum = vm.treeItem.filter(function(y){\r\n            var code = \"0.\" + y.code;\r\n            return code.startsWith(x.code)\r\n          }).length;\r\n          return x;\r\n        });\r\n        break;\r\n    }\r\n    return datas;\r\n  }\r\n\r\n  /** 設置節點為葉節點 \r\n   * 葉節點無法拖拽、不顯示展開按鈕\r\n   */\r\n  private setLeaf(datas: any[]): any[]{\r\n    datas = datas.map(function(x, i, arr){\r\n      if(arr.findIndex(y => y.parentId == x.id) == -1)\r\n        x.isLeaf = true;\r\n      \r\n      return x;\r\n    });\r\n    return datas;\r\n  }\r\n\r\n  /** 顯示節點數字 */\r\n  private showCount(nodes: any[]){\r\n    nodes.forEach(node => {\r\n      if(node.children)\r\n        node.children = this.showCount(node.children);\r\n\r\n      if(!node.isLeaf || this.showCountType > 2)\r\n        node.title += `(${node.childNum})`;\r\n    });\r\n\r\n    return nodes;\r\n  }\r\n\r\n  /** 點擊節點 */\r\n  public nodeClick(data: NzFormatEmitEvent) {\r\n    // this.treeStatusChange(\"isSelected\");\r\n    // data.node.isSelected = true;\r\n    this.onNodeClick.emit(data);\r\n  }\r\n\r\n  /** 展開狀態改變 */\r\n  expandChange(event: Required<NzFormatEmitEvent>){\r\n    this.onExpandChange.emit(event);\r\n  }\r\n\r\n  /** 雙擊節點 */\r\n  public nodeDblClick(data: NzTreeNode | NzFormatEmitEvent){\r\n    //展開/收合 節點\r\n    if (data instanceof NzTreeNode) {\r\n      data.isExpanded = !data.isExpanded;\r\n    } else {\r\n      data.node.isExpanded = !data.node.isExpanded;\r\n    }\r\n\r\n    this.onNodeDblClick.emit(data);\r\n  }\r\n\r\n  /** CheckBox 狀態變更 */\r\n  public nodeCheckBoxChange(data: NzFormatEmitEvent){\r\n    this.onCheckBoxChange.emit(data);\r\n  }\r\n\r\n  /** 取得勾選的節點\r\n   * type: 欄位名稱, 預設 'id'\r\n   * type == '*all', 傳回完整物件\r\n   */\r\n  public getChecked(type: string = 'id') {\r\n    var checkedDatas = this.nodes2Array(_.cloneDeep(this.treeOptions))\r\n                      .filter(x => x.isChecked && x.key != 0)\r\n                      .map(x => x.key);\r\n    \r\n    var checkedTreeDatas = _.cloneDeep(this.tree).filter(x => checkedDatas.includes(x.id));\r\n\r\n    if(type.toLowerCase() == '*all') return checkedTreeDatas;\r\n\r\n    return checkedTreeDatas.map(x => x[type]);\r\n  }\r\n\r\n  /** 樹狀態修改，預設關閉\r\n   * type == isSelected(選擇狀態，藍底)\r\n   * type == isChecked(勾選狀態)\r\n   * type == isExpanded(折疊狀態)\r\n   * type == isLeaf(葉節點狀態)\r\n   */\r\n  public treeStatusChange(type: string, status: boolean = false){\r\n    this.statusChange(this.treeOptions, type, status);\r\n  }\r\n  private statusChange(nodes, type, status: boolean = false) {\r\n    var childKey = \"children\";\r\n    if (nodes instanceof Array) {\r\n        for (var i = 0, l = nodes.length; i < l; i++) {\r\n            nodes[i][type] = status;\r\n            if(type == 'isChecked' && status == false) nodes[i]['isHalfChecked'] = false;\r\n            if (nodes[i][childKey])\r\n                this.statusChange(nodes[i][childKey], type, status);\r\n        }\r\n    } else {\r\n        nodes[type] = status;\r\n        if(type == 'isChecked' && status == false) nodes['isHalfChecked'] = false;\r\n        if (nodes[childKey])\r\n            this.statusChange(nodes[childKey], type, status);\r\n    }\r\n  }\r\n\r\n  /** 拖曳後動作 */\r\n  public dropAction(event: any) {\r\n    var drag = {\r\n      node: event.dragNode.key,\r\n      parent: 0\r\n    }\r\n\r\n    if(event.dragNode.parentNode && event.dragNode.parentNode.key)\r\n      drag.parent = event.dragNode.parentNode.key\r\n    \r\n    event.dragNode.origin.parentId = drag.parent;\r\n\r\n    var datas = this.nodes2Array(_.cloneDeep(this.treeOptions))\r\n                .filter(x => x.origin.id)\r\n                .map(function(x, i, arr){\r\n                  var parentId = x.origin.parentId ? x.origin.parentId : null;\r\n                  var order = arr.filter(y => y.origin.parentId == x.origin.parentId)\r\n                                 .findIndex(y => y.key == x.key);\r\n                  var temp = {\r\n                    id: x.origin.id,\r\n                    parentId: parentId,\r\n                    order: order\r\n                  }\r\n                  return temp;\r\n                });\r\n\r\n\r\n    this.onDropAction.emit({\r\n      drag: drag,\r\n      datas: datas\r\n    });\r\n  }\r\n\r\n  /** 搜尋樹 */\r\n  public nzOnSearch(event: any){\r\n    this.onSearch.emit(event);\r\n  }\r\n\r\n  /**  陣列轉樹狀 */\r\n  private array2Nodes(nodesArray) {\r\n    var i, l,\r\n        key = \"id\",\r\n        parentKey = \"parentId\",\r\n        childKey = \"children\";\r\n    if (!key || key == \"\" || !nodesArray) return [];\r\n\r\n    if (nodesArray instanceof Array) {\r\n        var r = [];\r\n        var tmpMap: any = {};\r\n        for (i = 0, l = nodesArray.length; i < l; i++) {\r\n            tmpMap[nodesArray[i][key]] = nodesArray[i];\r\n        }\r\n\r\n        for (i = 0, l = nodesArray.length; i < l; i++) {\r\n            if (tmpMap[nodesArray[i][parentKey]] && nodesArray[i][key] != nodesArray[i][parentKey]) {\r\n                if (!tmpMap[nodesArray[i][parentKey]][childKey])\r\n                    tmpMap[nodesArray[i][parentKey]][childKey] = [];\r\n\r\n                tmpMap[nodesArray[i][parentKey]][childKey].push(nodesArray[i]);\r\n            } else {\r\n                r.push(nodesArray[i]);\r\n            }\r\n        }\r\n        return r;\r\n    } else {\r\n        return [nodesArray];\r\n    }\r\n  }\r\n\r\n  /** 樹狀轉陣列 */\r\n  private nodes2Array(nodes) {\r\n    if (!nodes) return [];\r\n    var childKey = \"children\",\r\n        r = [];\r\n    if (nodes instanceof Array) {\r\n        for (var i = 0, l = nodes.length; i < l; i++) {\r\n            r.push(nodes[i]);\r\n            if (nodes[i][childKey])\r\n                r = r.concat(this.nodes2Array(nodes[i][childKey]));\r\n        }\r\n    } else {\r\n        r.push(nodes);\r\n        if (nodes[childKey])\r\n            r = r.concat(this.nodes2Array(nodes[childKey]));\r\n    }\r\n    return r;\r\n  }\r\n}\r\n","import { NgAlainSharedModule } from '@fs/ng-alain/shared';\r\nimport { LayoutModule } from '@fs/ng-alain/layout';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { BASIC_THEME_STYLES_PROVIDERS } from './providers/styles.provider';\r\nimport { FsNgAlainTreeComponent } from './components/fs-ng-alain-tree/fs-ng-alain-tree.component';\r\nimport { ThemeCoreModule } from '@fs/theme.core';\r\n\r\n@NgModule({\r\n    declarations:[\r\n        FsNgAlainTreeComponent\r\n    ],\r\n    imports: [\r\n        ThemeCoreModule,\r\n        NgAlainSharedModule,\r\n        LayoutModule\r\n    ],\r\n    exports: [\r\n        ThemeCoreModule,\r\n        NgAlainSharedModule,\r\n        FsNgAlainTreeComponent\r\n    ]\r\n})\r\nexport class NgAlainBasicModule { \r\n    static forRoot(): ModuleWithProviders<NgAlainBasicModule> {\r\n        return {\r\n          ngModule: NgAlainBasicModule,\r\n          providers: [BASIC_THEME_STYLES_PROVIDERS],\r\n        };\r\n      }    \r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {BASIC_THEME_STYLES_PROVIDERS as ɵa,configureStyles as ɵb} from './lib/providers/styles.provider';"],"names":["_.cloneDeep"],"mappings":"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"}