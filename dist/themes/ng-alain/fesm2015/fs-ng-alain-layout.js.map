{"version":3,"file":"fs-ng-alain-layout.js","sources":["../../../../themes/ng-alain/layout/src/lib/default/setting-drawer/setting-drawer.component.ts","../../../../themes/ng-alain/layout/src/lib/default/default.component.ts","../../../../themes/ng-alain/layout/src/lib/default/header/components/fullscreen.component.ts","../../../../themes/ng-alain/layout/src/lib/default/header/components/i18n.component.ts","../../../../themes/ng-alain/layout/src/lib/default/header/components/icon.component.ts","../../../../themes/ng-alain/layout/src/lib/default/header/components/notify.component.ts","../../../../themes/ng-alain/layout/src/lib/default/header/components/search.component.ts","../../../../themes/ng-alain/layout/src/lib/default/header/components/storage.component.ts","../../../../themes/ng-alain/layout/src/lib/default/header/components/task.component.ts","../../../../themes/ng-alain/layout/src/lib/default/header/components/user.component.ts","../../../../themes/ng-alain/layout/src/lib/default/header/header.component.ts","../../../../themes/ng-alain/layout/src/lib/default/sidebar/sidebar.component.ts","../../../../themes/ng-alain/layout/src/lib/fullscreen/fullscreen.component.ts","../../../../themes/ng-alain/layout/src/lib/default/setting-drawer/setting-drawer-item.component.ts","../../../../themes/ng-alain/layout/src/lib/default/theme-btn/theme-btn.component.ts","../../../../themes/ng-alain/layout/src/lib/passport/passport.component.ts","../../../../themes/ng-alain/layout/src/lib/page-bar/page-bar.component.ts","../../../../themes/ng-alain/layout/src/lib/layout.module.ts","../../../../themes/ng-alain/layout/src/fs-ng-alain-layout.ts"],"sourcesContent":["import { DOCUMENT } from '@angular/common';\r\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, Inject, NgZone } from '@angular/core';\r\nimport { SettingsService } from '@delon/theme';\r\nimport { copy, deepCopy, LazyService } from '@delon/util';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\n\r\nconst ALAINDEFAULTVAR = 'alain-default-vars';\r\nconst DEFAULT_COLORS = [\r\n  {\r\n    key: 'dust',\r\n    color: '#F5222D',\r\n  },\r\n  {\r\n    key: 'volcano',\r\n    color: '#FA541C',\r\n  },\r\n  {\r\n    key: 'sunset',\r\n    color: '#FAAD14',\r\n  },\r\n  {\r\n    key: 'cyan',\r\n    color: '#13C2C2',\r\n  },\r\n  {\r\n    key: 'green',\r\n    color: '#52C41A',\r\n  },\r\n  {\r\n    key: 'daybreak',\r\n    color: '#1890ff',\r\n  },\r\n  {\r\n    key: 'geekblue',\r\n    color: '#2F54EB',\r\n  },\r\n  {\r\n    key: 'purple',\r\n    color: '#722ED1',\r\n  },\r\n  {\r\n    key: 'black',\r\n    color: '#001529',\r\n  },\r\n];\r\nconst DEFAULT_VARS = {\r\n  'primary-color': { label: '主颜色', type: 'color', default: '#1890ff' },\r\n  'alain-default-header-hg': {\r\n    label: '高',\r\n    type: 'px',\r\n    default: '64px',\r\n    max: 300,\r\n    min: 24,\r\n  },\r\n  'alain-default-header-bg': {\r\n    label: '背景色',\r\n    type: 'color',\r\n    default: '@primary-color',\r\n    tip: '默认同主色系',\r\n  },\r\n  'alain-default-header-padding': {\r\n    label: '顶部左右内边距',\r\n    type: 'px',\r\n    default: '16px',\r\n  },\r\n  // 侧边栏\r\n  'alain-default-aside-wd': { label: '宽度', type: 'px', default: '200px' },\r\n  'alain-default-aside-bg': {\r\n    label: '背景',\r\n    type: 'color',\r\n    default: '#ffffff',\r\n  },\r\n  'alain-default-aside-collapsed-wd': {\r\n    label: '收缩宽度',\r\n    type: 'px',\r\n    default: '64px',\r\n  },\r\n  'alain-default-aside-nav-padding-top-bottom': {\r\n    label: '项上下内边距',\r\n    type: 'px',\r\n    default: '8px',\r\n    step: 8,\r\n  },\r\n  // 主菜单\r\n  'alain-default-aside-nav-fs': {\r\n    label: '菜单字号',\r\n    type: 'px',\r\n    default: '14px',\r\n    min: 14,\r\n    max: 30,\r\n  },\r\n  'alain-default-aside-collapsed-nav-fs': {\r\n    label: '收缩菜单字号',\r\n    type: 'px',\r\n    default: '24px',\r\n    min: 24,\r\n    max: 32,\r\n  },\r\n  'alain-default-aside-nav-item-height': {\r\n    label: '菜单项高度',\r\n    type: 'px',\r\n    default: '38px',\r\n    min: 24,\r\n    max: 64,\r\n  },\r\n  'alain-default-aside-nav-text-color': {\r\n    label: '菜单文本颜色',\r\n    type: 'color',\r\n    default: 'rgba(0, 0, 0, 0.65)',\r\n    rgba: true,\r\n  },\r\n  'alain-default-aside-nav-text-hover-color': {\r\n    label: '菜单文本悬停颜色',\r\n    type: 'color',\r\n    default: '@primary-color',\r\n    tip: '默认同主色系',\r\n  },\r\n  'alain-default-aside-nav-group-text-color': {\r\n    label: '菜单分组文本颜色',\r\n    type: 'color',\r\n    default: 'rgba(0, 0, 0, 0.43)',\r\n    rgba: true,\r\n  },\r\n  'alain-default-aside-nav-selected-text-color': {\r\n    label: '菜单激活时文本颜色',\r\n    type: 'color',\r\n    default: '@primary-color',\r\n    tip: '默认同主色系',\r\n  },\r\n  'alain-default-aside-nav-selected-bg': {\r\n    label: '菜单激活时背景颜色',\r\n    type: 'color',\r\n    default: '#fcfcfc',\r\n  },\r\n  // 内容\r\n  'alain-default-content-bg': {\r\n    label: '背景色',\r\n    type: 'color',\r\n    default: '#f5f7fa',\r\n  },\r\n  'alain-default-content-heading-bg': {\r\n    label: '标题背景色',\r\n    type: 'color',\r\n    default: '#fafbfc',\r\n  },\r\n  'alain-default-content-heading-border': {\r\n    label: '标题底部边框色',\r\n    type: 'color',\r\n    default: '#efe3e5',\r\n  },\r\n  'alain-default-content-padding': {\r\n    label: '内边距',\r\n    type: 'px',\r\n    default: '24px',\r\n    min: 0,\r\n    max: 128,\r\n    step: 8,\r\n  },\r\n  // zorro组件修正\r\n  'form-state-visual-feedback-enabled': {\r\n    label: '开启表单元素的视觉反馈',\r\n    type: 'switch',\r\n    default: true,\r\n  },\r\n  'preserve-white-spaces-enabled': {\r\n    label: '开启 preserveWhitespaces',\r\n    type: 'switch',\r\n    default: true,\r\n  },\r\n  'nz-table-img-radius': {\r\n    label: '表格中：图片圆角',\r\n    type: 'px',\r\n    default: '4px',\r\n    min: 0,\r\n    max: 128,\r\n  },\r\n  'nz-table-img-margin-right': {\r\n    label: '表格中：图片右外边距',\r\n    type: 'px',\r\n    default: '4px',\r\n    min: 0,\r\n    max: 128,\r\n  },\r\n  'nz-table-img-max-width': {\r\n    label: '表格中：图片最大宽度',\r\n    type: 'px',\r\n    default: '32px',\r\n    min: 8,\r\n    max: 128,\r\n  },\r\n  'nz-table-img-max-height': {\r\n    label: '表格中：图片最大高度',\r\n    type: 'px',\r\n    default: '32px',\r\n    min: 8,\r\n    max: 128,\r\n  },\r\n};\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'setting-drawer',\r\n  templateUrl: './setting-drawer.component.html',\r\n  // tslint:disable-next-line: no-host-metadata-property\r\n  host: {\r\n    '[class.setting-drawer]': 'true',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class SettingDrawerComponent {\r\n  private loadedLess = false;\r\n\r\n  collapse = false;\r\n  get layout() {\r\n    return this.settingSrv.layout;\r\n  }\r\n  data: any = {};\r\n  color: string;\r\n  colors = DEFAULT_COLORS;\r\n\r\n  constructor(\r\n    private cdr: ChangeDetectorRef,\r\n    private msg: NzMessageService,\r\n    private settingSrv: SettingsService,\r\n    private lazy: LazyService,\r\n    private zone: NgZone,\r\n    @Inject(DOCUMENT) private doc: any,\r\n  ) {\r\n    this.color = this.cachedData['@primary-color'] || this.DEFAULT_PRIMARY;\r\n    this.resetData(this.cachedData, false);\r\n  }\r\n\r\n  private get cachedData() {\r\n    return this.settingSrv.layout[ALAINDEFAULTVAR] || {};\r\n  }\r\n\r\n  private get DEFAULT_PRIMARY() {\r\n    return DEFAULT_VARS['primary-color'].default;\r\n  }\r\n\r\n  private loadLess(): Promise<void> {\r\n    if (this.loadedLess) {\r\n      return Promise.resolve();\r\n    }\r\n    return this.lazy\r\n      .loadStyle('./assets/alain-default.less', 'stylesheet/less')\r\n      .then(() => {\r\n        const lessConfigNode = this.doc.createElement('script');\r\n        lessConfigNode.innerHTML = `\r\n          window.less = {\r\n            async: true,\r\n            env: 'production',\r\n            javascriptEnabled: true\r\n          };\r\n        `;\r\n        this.doc.body.appendChild(lessConfigNode);\r\n      })\r\n      .then(() => this.lazy.loadScript('https://gw.alipayobjects.com/os/lib/less.js/3.8.1/less.min.js'))\r\n      .then(() => {\r\n        this.loadedLess = true;\r\n      });\r\n  }\r\n\r\n  private genVars() {\r\n    const { data, color, validKeys } = this;\r\n    const vars: any = {\r\n      [`@primary-color`]: color,\r\n    };\r\n    validKeys.filter((key) => key !== 'primary-color').forEach((key) => (vars[`@${key}`] = data[key].value));\r\n    this.setLayout(ALAINDEFAULTVAR, vars);\r\n    return vars;\r\n  }\r\n\r\n  private runLess() {\r\n    const { zone, msg, cdr } = this;\r\n    const msgId = msg.loading(`正在编译主题！`, { nzDuration: 0 }).messageId;\r\n    setTimeout(() => {\r\n      zone.runOutsideAngular(() => {\r\n        this.loadLess().then(() => {\r\n          (window as any).less.modifyVars(this.genVars()).then(() => {\r\n            msg.success('成功');\r\n            msg.remove(msgId);\r\n            zone.run(() => cdr.detectChanges());\r\n          });\r\n        });\r\n      });\r\n    }, 200);\r\n  }\r\n\r\n  toggle() {\r\n    this.collapse = !this.collapse;\r\n  }\r\n\r\n  changeColor(color: string) {\r\n    this.color = color;\r\n    Object.keys(DEFAULT_VARS)\r\n      .filter((key) => DEFAULT_VARS[key].default === '@primary-color')\r\n      .forEach((key) => delete this.cachedData[`@${key}`]);\r\n    this.resetData(this.cachedData, false);\r\n  }\r\n\r\n  setLayout(name: string, value: any) {\r\n    this.settingSrv.setLayout(name, value);\r\n  }\r\n\r\n  private resetData(nowData?: {}, run = true) {\r\n    nowData = nowData || {};\r\n    const data = deepCopy(DEFAULT_VARS);\r\n    Object.keys(data).forEach((key) => {\r\n      const value = nowData[`@${key}`] || data[key].default || '';\r\n      data[key].value = value === `@primary-color` ? this.color : value;\r\n    });\r\n    this.data = data;\r\n    if (run) {\r\n      this.cdr.detectChanges();\r\n      this.runLess();\r\n    }\r\n  }\r\n\r\n  private get validKeys(): string[] {\r\n    return Object.keys(this.data).filter((key) => this.data[key].value !== this.data[key].default);\r\n  }\r\n\r\n  apply() {\r\n    this.runLess();\r\n  }\r\n\r\n  reset() {\r\n    this.color = this.DEFAULT_PRIMARY;\r\n    this.settingSrv.setLayout(ALAINDEFAULTVAR, {});\r\n    this.resetData({});\r\n  }\r\n\r\n  copyVar() {\r\n    const vars = this.genVars();\r\n    const copyContent = Object.keys(vars)\r\n      .map((key) => `${key}: ${vars[key]};`)\r\n      .join('\\n');\r\n    copy(copyContent);\r\n    this.msg.success('Copy success');\r\n  }\r\n}\r\n","import { DOCUMENT } from '@angular/common';\r\nimport {\r\n  AfterViewInit,\r\n  Component,\r\n  ComponentFactoryResolver,\r\n  ElementRef,\r\n  Inject,\r\n  OnDestroy,\r\n  OnInit,\r\n  Renderer2,\r\n  ViewChild,\r\n  ViewContainerRef,\r\n} from '@angular/core';\r\nimport { NavigationCancel, NavigationEnd, NavigationError, RouteConfigLoadEnd, RouteConfigLoadStart, Router } from '@angular/router';\r\nimport { SettingsService } from '@delon/theme';\r\nimport { updateHostClass } from '@delon/util';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { SettingDrawerComponent } from './setting-drawer/setting-drawer.component';\r\n\r\n@Component({\r\n  selector: 'layout-default',\r\n  templateUrl: './default.component.html',\r\n})\r\nexport class LayoutDefaultComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  private unsubscribe$ = new Subject<void>();\r\n  @ViewChild('settingHost', { read: ViewContainerRef, static: true })\r\n  private settingHost: ViewContainerRef;\r\n  isFetching = false;\r\n\r\n  constructor(\r\n    router: Router,\r\n    msgSrv: NzMessageService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private settings: SettingsService,\r\n    private el: ElementRef,\r\n    private renderer: Renderer2,\r\n    @Inject(DOCUMENT) private doc: any,\r\n  ) {\r\n    // scroll to top in change page\r\n    router.events.pipe(takeUntil(this.unsubscribe$)).subscribe((evt) => {\r\n      if (!this.isFetching && evt instanceof RouteConfigLoadStart) {\r\n        this.isFetching = true;\r\n      }\r\n      if (evt instanceof NavigationError || evt instanceof NavigationCancel) {\r\n        this.isFetching = false;\r\n        if (evt instanceof NavigationError) {\r\n          msgSrv.error(`Can not load: ${evt.url} Route`, { nzDuration: 1000 * 3 });\r\n        }\r\n        return;\r\n      }\r\n      if (!(evt instanceof NavigationEnd || evt instanceof RouteConfigLoadEnd)) {\r\n        return;\r\n      }\r\n      if (this.isFetching) {\r\n        setTimeout(() => {\r\n          this.isFetching = false;\r\n        }, 100);\r\n      }\r\n    });\r\n  }\r\n\r\n  private setClass() {\r\n    const { el, doc, renderer, settings } = this;\r\n    const layout = settings.layout;\r\n    updateHostClass(el.nativeElement, renderer, {\r\n      ['alain-default']: true,\r\n      [`alain-default__fixed`]: layout.fixed,\r\n      [`alain-default__collapsed`]: layout.collapsed,\r\n    });\r\n\r\n    doc.body.classList[layout.colorWeak ? 'add' : 'remove']('color-weak');\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    // Setting componet for only developer\r\n    if (false) {\r\n      setTimeout(() => {\r\n        const settingFactory = this.resolver.resolveComponentFactory(SettingDrawerComponent);\r\n        this.settingHost.createComponent(settingFactory);\r\n      }, 22);\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    const { settings, unsubscribe$ } = this;\r\n    settings.notify.pipe(takeUntil(unsubscribe$)).subscribe(() => this.setClass());\r\n    this.setClass();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    const { unsubscribe$ } = this;\r\n    unsubscribe$.next();\r\n    unsubscribe$.complete();\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, HostListener } from '@angular/core';\r\nimport * as screenfull from 'screenfull';\r\n\r\n@Component({\r\n  selector: 'header-fullscreen',\r\n  template: `\r\n    <i nz-icon [nzType]=\"status ? 'fullscreen-exit' : 'fullscreen'\"></i>\r\n    {{ (status ? 'menu.fullscreen.exit' : 'menu.fullscreen') | translate }}\r\n  `,\r\n  // tslint:disable-next-line: no-host-metadata-property\r\n  host: {\r\n    '[class.d-block]': 'true',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderFullScreenComponent {\r\n  status = false;\r\n  private get sf(): screenfull.Screenfull {\r\n    return screenfull as screenfull.Screenfull;\r\n  }\r\n\r\n  @HostListener('window:resize')\r\n  _resize() {\r\n    this.status = this.sf.isFullscreen;\r\n  }\r\n\r\n  @HostListener('click')\r\n  _click() {\r\n    if (this.sf.isEnabled) {\r\n      this.sf.toggle();\r\n    }\r\n  }\r\n}\r\n","import { DOCUMENT } from '@angular/common';\r\nimport { ChangeDetectionStrategy, Component, Inject, Input } from '@angular/core';\r\nimport { ALAIN_I18N_TOKEN, SettingsService } from '@delon/theme';\r\nimport { InputBoolean } from '@delon/util';\r\n\r\nimport { I18NService } from '@fs/ng-alain/core';\r\nimport { Observable } from 'rxjs';\r\nimport { ApplicationConfiguration, ConfigState, SessionState, SetLanguage } from '@abp/ng.core';\r\nimport { Select } from '@ngxs/store';\r\nimport { map } from 'rxjs/operators';\r\nimport snq from 'snq';\r\nimport {Store} from '@ngxs/store';\r\n//todo:refresh menu\r\n\r\n@Component({\r\n  selector: 'header-i18n',\r\n  template: `\r\n    <div *ngIf=\"showLangText\" nz-dropdown [nzDropdownMenu]=\"langMenu\" nzPlacement=\"bottomRight\">\r\n      <i nz-icon nzType=\"global\"></i>\r\n      {{ defaultLanguage$ | async }}\r\n      <i nz-icon nzType=\"down\"></i>\r\n    </div>\r\n    <i\r\n      *ngIf=\"!showLangText\"\r\n      nz-dropdown\r\n      [nzDropdownMenu]=\"langMenu\"\r\n      nzPlacement=\"bottomRight\"\r\n      nz-icon\r\n      nzType=\"global\"\r\n    ></i>\r\n    <nz-dropdown-menu #langMenu=\"nzDropdownMenu\">\r\n      <ul nz-menu>\r\n        <li\r\n          nz-menu-item\r\n          *ngFor=\"let lang of dropdownLanguages$ | async\"\r\n          [nzSelected]=\"lang.cultureName === selectedLangCulture\"\r\n          (click)=\"onChangeLang(lang.cultureName)\"\r\n        >\r\n          <span role=\"img\" [attr.aria-label]=\"lang?.displayName\" class=\"pr-xs\">{{ lang.cultureName }}</span>\r\n          {{ lang?.displayName }}\r\n        </li>\r\n      </ul>\r\n    </nz-dropdown-menu>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderI18nComponent {\r\n  @Select(ConfigState.getDeep('localization.languages'))\r\n  languages$: Observable<ApplicationConfiguration.Language[]>;\r\n\r\n  get defaultLanguage$(): Observable<string> {\r\n    return this.languages$.pipe(\r\n      map(\r\n        languages =>\r\n          snq(\r\n            () => languages.find(lang => lang.cultureName === this.selectedLangCulture).displayName,\r\n          ),\r\n        '',\r\n      ),\r\n    );\r\n  }\r\n\r\n  get dropdownLanguages$(): Observable<ApplicationConfiguration.Language[]> {\r\n    return this.languages$.pipe(\r\n      map(\r\n        languages =>\r\n          snq(() => languages.filter(lang => lang.cultureName !== this.selectedLangCulture)),\r\n        [],\r\n      ),\r\n    );\r\n  }  \r\n\r\n  get selectedLangCulture(): string {\r\n    return this.store.selectSnapshot(SessionState.getLanguage);\r\n  }\r\n  /** Whether to display language text */\r\n  @Input() @InputBoolean() showLangText = true;\r\n\r\n  get langs() {\r\n    return this.i18n.getLangs();\r\n  }\r\n\r\n  get curLangCode() {\r\n    return this.settings.layout.lang;\r\n  }\r\n\r\n  constructor(\r\n    private settings: SettingsService,\r\n    @Inject(ALAIN_I18N_TOKEN) private i18n: I18NService,\r\n    @Inject(DOCUMENT) private doc: any,\r\n    private store: Store\r\n  ) {}\r\n\r\n  onChangeLang(cultureName: string) {\r\n    this.store.dispatch(new SetLanguage(cultureName));\r\n  }  \r\n}\r\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'header-icon',\r\n  template: `\r\n    <div\r\n      class=\"alain-default__nav-item\"\r\n      nz-dropdown\r\n      [nzDropdownMenu]=\"iconMenu\"\r\n      nzTrigger=\"click\"\r\n      nzPlacement=\"bottomRight\"\r\n      (nzVisibleChange)=\"change()\"\r\n    >\r\n      <i nz-icon nzType=\"appstore\"></i>\r\n    </div>\r\n    <nz-dropdown-menu #iconMenu=\"nzDropdownMenu\">\r\n      <div nz-menu class=\"wd-xl animated jello\">\r\n        <nz-spin [nzSpinning]=\"loading\" [nzTip]=\"'正在读取数据...'\">\r\n          <div nz-row [nzType]=\"'flex'\" [nzJustify]=\"'center'\" [nzAlign]=\"'middle'\" class=\"app-icons\">\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"calendar\" class=\"bg-error text-white\"></i>\r\n              <small>Calendar</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"file\" class=\"bg-geekblue text-white\"></i>\r\n              <small>Files</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"cloud\" class=\"bg-success text-white\"></i>\r\n              <small>Cloud</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"star\" class=\"bg-magenta text-white\"></i>\r\n              <small>Star</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"team\" class=\"bg-purple text-white\"></i>\r\n              <small>Team</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"scan\" class=\"bg-warning text-white\"></i>\r\n              <small>QR</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"pay-circle\" class=\"bg-cyan text-white\"></i>\r\n              <small>Pay</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"printer\" class=\"bg-grey text-white\"></i>\r\n              <small>Print</small>\r\n            </div>\r\n          </div>\r\n        </nz-spin>\r\n      </div>\r\n    </nz-dropdown-menu>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderIconComponent {\r\n  loading = true;\r\n\r\n  constructor(private cdr: ChangeDetectorRef) {}\r\n\r\n  change() {\r\n    setTimeout(() => {\r\n      this.loading = false;\r\n      this.cdr.detectChanges();\r\n    }, 500);\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\r\nimport { NoticeIconList, NoticeItem } from '@delon/abc/notice-icon';\r\nimport add from 'date-fns/add';\r\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\r\nimport parse from 'date-fns/parse';\r\nimport { NzI18nService } from 'ng-zorro-antd/i18n';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\n\r\n/**\r\n * 菜单通知\r\n */\r\n@Component({\r\n  selector: 'header-notify',\r\n  template: `\r\n    <notice-icon\r\n      [data]=\"data\"\r\n      [count]=\"count\"\r\n      [loading]=\"loading\"\r\n      btnClass=\"alain-default__nav-item\"\r\n      btnIconClass=\"alain-default__nav-item-icon\"\r\n      (select)=\"select($event)\"\r\n      (clear)=\"clear($event)\"\r\n      (popoverVisibleChange)=\"loadData()\"\r\n    ></notice-icon>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderNotifyComponent {\r\n  data: NoticeItem[] = [\r\n    {\r\n      title: '通知',\r\n      list: [],\r\n      emptyText: '你已查看所有通知',\r\n      emptyImage: 'https://gw.alipayobjects.com/zos/rmsportal/wAhyIChODzsoKIOBHcBk.svg',\r\n      clearText: '清空通知',\r\n    },\r\n    {\r\n      title: '消息',\r\n      list: [],\r\n      emptyText: '您已读完所有消息',\r\n      emptyImage: 'https://gw.alipayobjects.com/zos/rmsportal/sAuJeJzSKbUmHfBQRzmZ.svg',\r\n      clearText: '清空消息',\r\n    },\r\n    {\r\n      title: '待办',\r\n      list: [],\r\n      emptyText: '你已完成所有待办',\r\n      emptyImage: 'https://gw.alipayobjects.com/zos/rmsportal/HsIsxMZiWKrNUavQUXqx.svg',\r\n      clearText: '清空待办',\r\n    },\r\n  ];\r\n  count = 5;\r\n  loading = false;\r\n\r\n  constructor(private msg: NzMessageService, private nzI18n: NzI18nService) {}\r\n\r\n  updateNoticeData(notices: NoticeIconList[]): NoticeItem[] {\r\n    const data = this.data.slice();\r\n    data.forEach((i) => (i.list = []));\r\n\r\n    notices.forEach((item) => {\r\n      const newItem = { ...item };\r\n      if (typeof newItem.datetime === 'string') {\r\n        newItem.datetime = parse(newItem.datetime, 'yyyy-MM-dd', new Date());\r\n      }\r\n      if (newItem.datetime) {\r\n        newItem.datetime = formatDistanceToNow(newItem.datetime as Date, { locale: this.nzI18n.getDateLocale() });\r\n      }\r\n      if (newItem.extra && newItem.status) {\r\n        newItem.color = ({\r\n          todo: undefined,\r\n          processing: 'blue',\r\n          urgent: 'red',\r\n          doing: 'gold',\r\n        } as { [key: string]: string | undefined })[newItem.status];\r\n      }\r\n      data.find((w) => w.title === newItem.type).list.push(newItem);\r\n    });\r\n    return data;\r\n  }\r\n\r\n  loadData() {\r\n    if (this.loading) {\r\n      return;\r\n    }\r\n    this.loading = true;\r\n    setTimeout(() => {\r\n      const now = new Date();\r\n      this.data = this.updateNoticeData([\r\n        {\r\n          id: '000000001',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png',\r\n          title: '你收到了 14 份新周报',\r\n          datetime: add(now, { days: 10 }),\r\n          type: '通知',\r\n        },\r\n        {\r\n          id: '000000002',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png',\r\n          title: '你推荐的 曲妮妮 已通过第三轮面试',\r\n          datetime: add(now, { days: -3 }),\r\n          type: '通知',\r\n        },\r\n        {\r\n          id: '000000003',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/kISTdvpyTAhtGxpovNWd.png',\r\n          title: '这种模板可以区分多种通知类型',\r\n          datetime: add(now, { months: -3 }),\r\n          read: true,\r\n          type: '通知',\r\n        },\r\n        {\r\n          id: '000000004',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png',\r\n          title: '左侧图标用于区分不同的类型',\r\n          datetime: add(now, { years: -1 }),\r\n          type: '通知',\r\n        },\r\n        {\r\n          id: '000000005',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png',\r\n          title: '内容不要超过两行字，超出时自动截断',\r\n          datetime: '2017-08-07',\r\n          type: '通知',\r\n        },\r\n        {\r\n          id: '000000006',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg',\r\n          title: '曲丽丽 评论了你',\r\n          description: '描述信息描述信息描述信息',\r\n          datetime: '2017-08-07',\r\n          type: '消息',\r\n        },\r\n        {\r\n          id: '000000007',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg',\r\n          title: '朱偏右 回复了你',\r\n          description: '这种模板用于提醒谁与你发生了互动，左侧放『谁』的头像',\r\n          datetime: '2017-08-07',\r\n          type: '消息',\r\n        },\r\n        {\r\n          id: '000000008',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg',\r\n          title: '标题',\r\n          description: '这种模板用于提醒谁与你发生了互动，左侧放『谁』的头像',\r\n          datetime: '2017-08-07',\r\n          type: '消息',\r\n        },\r\n        {\r\n          id: '000000009',\r\n          title: '任务名称',\r\n          description: '任务需要在 2017-01-12 20:00 前启动',\r\n          extra: '未开始',\r\n          status: 'todo',\r\n          type: '待办',\r\n        },\r\n        {\r\n          id: '000000010',\r\n          title: '第三方紧急代码变更',\r\n          description: '冠霖提交于 2017-01-06，需在 2017-01-07 前完成代码变更任务',\r\n          extra: '马上到期',\r\n          status: 'urgent',\r\n          type: '待办',\r\n        },\r\n        {\r\n          id: '000000011',\r\n          title: '信息安全考试',\r\n          description: '指派竹尔于 2017-01-09 前完成更新并发布',\r\n          extra: '已耗时 8 天',\r\n          status: 'doing',\r\n          type: '待办',\r\n        },\r\n        {\r\n          id: '000000012',\r\n          title: 'ABCD 版本发布',\r\n          description: '冠霖提交于 2017-01-06，需在 2017-01-07 前完成代码变更任务',\r\n          extra: '进行中',\r\n          status: 'processing',\r\n          type: '待办',\r\n        },\r\n      ]);\r\n\r\n      this.loading = false;\r\n    }, 500);\r\n  }\r\n\r\n  clear(type: string) {\r\n    this.msg.success(`清空了 ${type}`);\r\n  }\r\n\r\n  select(res: any) {\r\n    this.msg.success(`点击了 ${res.title} 的 ${res.item.title}`);\r\n  }\r\n}\r\n","import { AfterViewInit, ChangeDetectionStrategy, Component, ElementRef, HostBinding, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'header-search',\r\n  template: `\r\n    <nz-input-group [nzAddOnBeforeIcon]=\"focus ? 'arrow-down' : 'search'\">\r\n      <input\r\n        nz-input\r\n        [(ngModel)]=\"q\"\r\n        (focus)=\"qFocus()\"\r\n        (blur)=\"qBlur()\"\r\n        [placeholder]=\"'menu.search.placeholder' | translate\"\r\n      />\r\n    </nz-input-group>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderSearchComponent implements AfterViewInit {\r\n  q: string;\r\n\r\n  qIpt: HTMLInputElement;\r\n\r\n  @HostBinding('class.alain-default__search-focus')\r\n  focus = false;\r\n\r\n  @HostBinding('class.alain-default__search-toggled')\r\n  searchToggled = false;\r\n\r\n  @Input()\r\n  set toggleChange(value: boolean) {\r\n    if (typeof value === 'undefined') {\r\n      return;\r\n    }\r\n    this.searchToggled = true;\r\n    this.focus = true;\r\n    setTimeout(() => this.qIpt.focus(), 300);\r\n  }\r\n\r\n  constructor(private el: ElementRef) {}\r\n\r\n  ngAfterViewInit() {\r\n    this.qIpt = (this.el.nativeElement as HTMLElement).querySelector('.ant-input') as HTMLInputElement;\r\n  }\r\n\r\n  qFocus() {\r\n    this.focus = true;\r\n  }\r\n\r\n  qBlur() {\r\n    this.focus = false;\r\n    this.searchToggled = false;\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, HostListener } from '@angular/core';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\n\r\n@Component({\r\n  selector: 'header-storage',\r\n  template: `\r\n    <i nz-icon nzType=\"tool\"></i>\r\n    {{ 'menu.clear.local.storage' | translate }}\r\n  `,\r\n  // tslint:disable-next-line: no-host-metadata-property\r\n  host: {\r\n    '[class.d-block]': 'true',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderStorageComponent {\r\n  constructor(private modalSrv: NzModalService, private messageSrv: NzMessageService) {}\r\n\r\n  @HostListener('click')\r\n  _click() {\r\n    this.modalSrv.confirm({\r\n      nzTitle: 'Make sure clear all local storage?',\r\n      nzOnOk: () => {\r\n        localStorage.clear();\r\n        this.messageSrv.success('Clear Finished!');\r\n      },\r\n    });\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'header-task',\r\n  template: `\r\n    <div\r\n      class=\"alain-default__nav-item\"\r\n      nz-dropdown\r\n      [nzDropdownMenu]=\"taskMenu\"\r\n      nzTrigger=\"click\"\r\n      nzPlacement=\"bottomRight\"\r\n      (nzVisibleChange)=\"change()\"\r\n    >\r\n      <nz-badge [nzDot]=\"true\">\r\n        <i nz-icon nzType=\"bell\" class=\"alain-default__nav-item-icon\"></i>\r\n      </nz-badge>\r\n    </div>\r\n    <nz-dropdown-menu #taskMenu=\"nzDropdownMenu\">\r\n      <div nz-menu class=\"wd-lg\">\r\n        <div *ngIf=\"loading\" class=\"mx-lg p-lg\"><nz-spin></nz-spin></div>\r\n        <nz-card *ngIf=\"!loading\" nzTitle=\"Notifications\" nzBordered=\"false\" class=\"ant-card__body-nopadding\">\r\n          <ng-template #extra><i nz-icon nzType=\"plus\"></i></ng-template>\r\n          <div nz-row [nzType]=\"'flex'\" [nzJustify]=\"'center'\" [nzAlign]=\"'middle'\" class=\"py-sm point\">\r\n            <div nz-col [nzSpan]=\"4\" class=\"text-center\">\r\n              <nz-avatar [nzSrc]=\"'./assets/tmp/img/1.png'\"></nz-avatar>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"20\">\r\n              <strong>cipchk</strong>\r\n              <p class=\"mb0\">Please tell me what happened in a few words, don't go into details.</p>\r\n            </div>\r\n          </div>\r\n          <div nz-row [nzType]=\"'flex'\" [nzJustify]=\"'center'\" [nzAlign]=\"'middle'\" class=\"py-sm point\">\r\n            <div nz-col [nzSpan]=\"4\" class=\"text-center\">\r\n              <nz-avatar [nzSrc]=\"'./assets/tmp/img/2.png'\"></nz-avatar>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"20\">\r\n              <strong>はなさき</strong>\r\n              <p class=\"mb0\">ハルカソラトキヘダツヒカリ</p>\r\n            </div>\r\n          </div>\r\n          <div nz-row [nzType]=\"'flex'\" [nzJustify]=\"'center'\" [nzAlign]=\"'middle'\" class=\"py-sm point\">\r\n            <div nz-col [nzSpan]=\"4\" class=\"text-center\">\r\n              <nz-avatar [nzSrc]=\"'./assets/tmp/img/3.png'\"></nz-avatar>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"20\">\r\n              <strong>苏先生</strong>\r\n              <p class=\"mb0\">请告诉我，我应该说点什么好？</p>\r\n            </div>\r\n          </div>\r\n          <div nz-row [nzType]=\"'flex'\" [nzJustify]=\"'center'\" [nzAlign]=\"'middle'\" class=\"py-sm point\">\r\n            <div nz-col [nzSpan]=\"4\" class=\"text-center\">\r\n              <nz-avatar [nzSrc]=\"'./assets/tmp/img/4.png'\"></nz-avatar>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"20\">\r\n              <strong>Kent</strong>\r\n              <p class=\"mb0\">Please tell me what happened in a few words, don't go into details.</p>\r\n            </div>\r\n          </div>\r\n          <div nz-row [nzType]=\"'flex'\" [nzJustify]=\"'center'\" [nzAlign]=\"'middle'\" class=\"py-sm point\">\r\n            <div nz-col [nzSpan]=\"4\" class=\"text-center\">\r\n              <nz-avatar [nzSrc]=\"'./assets/tmp/img/5.png'\"></nz-avatar>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"20\">\r\n              <strong>Jefferson</strong>\r\n              <p class=\"mb0\">Please tell me what happened in a few words, don't go into details.</p>\r\n            </div>\r\n          </div>\r\n          <div nz-row>\r\n            <div nz-col [nzSpan]=\"24\" class=\"pt-md border-top-1 text-center text-grey point\">\r\n              See All\r\n            </div>\r\n          </div>\r\n        </nz-card>\r\n      </div>\r\n    </nz-dropdown-menu>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderTaskComponent {\r\n  loading = true;\r\n\r\n  constructor(private cdr: ChangeDetectorRef) {}\r\n\r\n  change() {\r\n    setTimeout(() => {\r\n      this.loading = false;\r\n      this.cdr.detectChanges();\r\n    }, 500);\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, Inject } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { DA_SERVICE_TOKEN, ITokenService } from '@delon/auth';\r\nimport { SettingsService } from '@delon/theme';\r\nimport { ConfigState, ApplicationConfiguration, AuthService } from '@abp/ng.core';\r\nimport { Observable } from 'rxjs';\r\nimport { Select } from '@ngxs/store';\r\n\r\n@Component({\r\n  selector: 'header-user',\r\n  template: `\r\n    <div\r\n      class=\"alain-default__nav-item d-flex align-items-center px-sm\"\r\n      nz-dropdown\r\n      nzPlacement=\"bottomRight\"\r\n      [nzDropdownMenu]=\"userMenu\"\r\n    >\r\n      <!--<nz-avatar [nzSrc]=\"settings.user.avatar\" nzSize=\"small\" class=\"mr-sm\"></nz-avatar>-->\r\n      {{ (currentUser$ | async)?.userName }}\r\n    </div>\r\n    <nz-dropdown-menu #userMenu=\"nzDropdownMenu\">\r\n      <div nz-menu class=\"width-sm\">\r\n        <div nz-menu-item routerLink=\"/account/manage-profile\">\r\n          <i nz-icon nzType=\"user\" class=\"mr-sm\"></i>\r\n          {{ 'AbpAccount::ManageYourProfile' | abpLocalization }}\r\n        </div>\r\n        <!--<div nz-menu-item routerLink=\"/pro/account/settings\">\r\n          <i nz-icon nzType=\"setting\" class=\"mr-sm\"></i>\r\n          {{ 'menu.account.settings' | translate }}\r\n        </div>\r\n        <div nz-menu-item routerLink=\"/exception/trigger\">\r\n          <i nz-icon nzType=\"close-circle\" class=\"mr-sm\"></i>\r\n          {{ 'menu.account.trigger' | translate }}\r\n        </div>-->\r\n        <li nz-menu-divider></li>\r\n        <div nz-menu-item (click)=\"logout()\">\r\n          <i nz-icon nzType=\"logout\" class=\"mr-sm\"></i>\r\n          {{ 'AbpUi::Logout' | abpLocalization }}\r\n        </div>\r\n      </div>\r\n    </nz-dropdown-menu>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderUserComponent {\r\n  @Select(ConfigState.getOne('currentUser'))\r\n  currentUser$: Observable<ApplicationConfiguration.CurrentUser>;  \r\n  constructor(\r\n    public settings: SettingsService,\r\n    private router: Router,\r\n    private authService: AuthService, \r\n    @Inject(DA_SERVICE_TOKEN) private tokenService: ITokenService,\r\n  ) {}\r\n\r\n  logout() {\r\n    //this.tokenService.clear();\r\n    //this.router.navigateByUrl(this.tokenService.login_url);\r\n    this.authService.logout().subscribe(() => {\r\n      this.router.navigate(['/'], { state: { redirectUrl: this.router.url } });\r\n    });    \r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\r\nimport { SettingsService } from '@delon/theme';\r\nimport { Config, ConfigState } from '@abp/ng.core';\r\nimport {Store,Select} from '@ngxs/store';\r\n\r\n@Component({\r\n  selector: 'layout-header',\r\n  templateUrl: './header.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderComponent {\r\n  @Select(ConfigState.getSetting('FS.Abp.Themes.Core.WebsiteOptions.Title')) title$;\r\n  \r\n\r\n  get appInfo(): Config.Application {\r\n    return this.store.selectSnapshot(ConfigState.getApplicationInfo);\r\n  }  \r\n  searchToggleStatus: boolean;\r\n\r\n  constructor(\r\n    public settings: SettingsService,\r\n    private store: Store\r\n    ) {}\r\n\r\n  toggleCollapsedSidebar() {\r\n    this.settings.setLayout('collapsed', !this.settings.layout.collapsed);\r\n  }\r\n\r\n  searchToggleChange() {\r\n    this.searchToggleStatus = !this.searchToggleStatus;\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, OnDestroy } from '@angular/core';\r\nimport { SettingsService, Menu, MenuService } from '@delon/theme';\r\nimport { RoutesService, TreeNode, ABP, ConfigStateService, LocalizationPipe,takeUntilDestroy } from '@abp/ng.core';\r\n\r\n@Component({\r\n  selector: 'layout-sidebar',\r\n  templateUrl: './sidebar.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class SidebarComponent implements OnDestroy{\r\n  constructor(\r\n    public settings: SettingsService,\r\n    private menuService: MenuService,\r\n    public readonly routes: RoutesService,\r\n    public configStateService: ConfigStateService,\r\n    private localizationPipe: LocalizationPipe\r\n  ) {\r\n    this.routes.tree$\r\n      .pipe(takeUntilDestroy(this))\r\n      .subscribe(x => {\r\n        this.setMenu(x);\r\n      });\r\n  }\r\n  ngOnDestroy(): void {\r\n  }\r\n  setMenu(routes: any[]) {\r\n    let result: Menu[] = [];\r\n    let condition = (x: ABP.Route) => !!!x.invisible && this.isGrantedPolicy(x.requiredPolicy);\r\n    routes.filter(condition).forEach(first => {\r\n      let group: Menu = {\r\n        text: first.displayName||this.localizationPipe.transform(first.name),\r\n        group: true,\r\n        hideInBreadcrumb: true,\r\n        children: []\r\n      };\r\n      result.push(group);\r\n      first.children.filter(condition).forEach(second => {\r\n        if (second.children.length === 0) {\r\n          let left: Menu = {\r\n            text: second.displayName||this.localizationPipe.transform(second.name),\r\n            link: second.path,\r\n            icon: second.iconClass\r\n          };\r\n          if (left.link.split('/').length > 1)\r\n            group.children.push(left);\r\n        }\r\n        if (second.children.length != 0) {\r\n          let node: Menu = {\r\n            text: second.displayName||this.localizationPipe.transform(second.name),\r\n            icon: second.iconClass,\r\n            children: []\r\n          };\r\n          group.children.push(node);\r\n          second.children.filter(condition).forEach(third => {\r\n            let left: Menu = {\r\n              text: third.displayName||this.localizationPipe.transform(third.name),\r\n              link: third.path,\r\n              icon: third.iconClass\r\n            };\r\n            node.children.push(left);\r\n          })\r\n        }\r\n      })\r\n\r\n\r\n    });\r\n    this.menuService.clear();\r\n    this.menuService.add(result);\r\n\r\n  }\r\n  isGrantedPolicy(requiredPolicy: string) {\r\n    if (!!requiredPolicy) {\r\n      return this.configStateService.getGrantedPolicy(requiredPolicy);\r\n    }\r\n    return true;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'layout-fullscreen',\r\n  templateUrl: './fullscreen.component.html',\r\n  // tslint:disable-next-line: no-host-metadata-property\r\n  host: {\r\n    '[class.alain-fullscreen]': 'true',\r\n  },\r\n})\r\nexport class LayoutFullScreenComponent {}\r\n","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'setting-drawer-item',\r\n  templateUrl: './setting-drawer-item.component.html',\r\n  // tslint:disable-next-line: no-host-metadata-property\r\n  host: {\r\n    '[class.setting-drawer__body-item]': 'true',\r\n  },\r\n})\r\nexport class SettingDrawerItemComponent {\r\n  i: any = {};\r\n  @Input()\r\n  set data(val: any) {\r\n    this.i = val;\r\n    if (val.type === 'px') {\r\n      this.pxVal = +val.value.replace('px', '');\r\n    }\r\n  }\r\n\r\n  pxVal: number;\r\n  pxChange(val: number) {\r\n    this.i.value = `${val}px`;\r\n  }\r\n  format = value => `${value} px`;\r\n}\r\n","import { Platform } from '@angular/cdk/platform';\r\nimport { ChangeDetectionStrategy, Component, OnDestroy, OnInit, Renderer2 } from '@angular/core';\r\nimport { AlainConfigService } from '@delon/util';\r\n\r\ntype SiteTheme = 'default' | 'dark' | 'compact';\r\n\r\n@Component({\r\n  selector: 'layout-theme-btn',\r\n  templateUrl: './theme-btn.component.html',\r\n  styleUrls: ['./theme-btn.component.less'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class LayoutThemeBtnComponent implements OnInit, OnDestroy {\r\n  theme: SiteTheme = 'default';\r\n  private el: HTMLLinkElement;\r\n\r\n  constructor(private renderer: Renderer2, private configSrv: AlainConfigService, private platform: Platform) {}\r\n\r\n  ngOnInit(): void {\r\n    this.initTheme();\r\n  }\r\n\r\n  private initTheme(): void {\r\n    if (!this.platform.isBrowser) {\r\n      return;\r\n    }\r\n    this.theme = (localStorage.getItem('site-theme') as SiteTheme) || 'default';\r\n    this.updateChartTheme();\r\n    this.onThemeChange(this.theme);\r\n  }\r\n\r\n  private updateChartTheme(): void {\r\n    this.configSrv.set('chart', { theme: this.theme === 'dark' ? 'dark' : '' });\r\n  }\r\n\r\n  onThemeChange(theme: SiteTheme): void {\r\n    if (!this.platform.isBrowser) {\r\n      return;\r\n    }\r\n    this.theme = theme;\r\n    this.renderer.setAttribute(document.body, 'data-theme', theme);\r\n    const dom = document.getElementById('site-theme');\r\n    if (dom) {\r\n      dom.remove();\r\n    }\r\n    localStorage.removeItem('site-theme');\r\n    if (theme !== 'default') {\r\n      const el = (this.el = document.createElement('link'));\r\n      el.type = 'text/css';\r\n      el.rel = 'stylesheet';\r\n      el.id = 'site-theme';\r\n      el.href = `assets/style.${theme}.css`;\r\n\r\n      localStorage.setItem('site-theme', theme);\r\n      document.body.append(el);\r\n    }\r\n    this.updateChartTheme();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.el) {\r\n      document.body.removeChild(this.el);\r\n    }\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { eLayoutType, ConfigState } from '@abp/ng.core';\r\nimport { Select } from '@ngxs/store';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'layout-passport',\r\n  templateUrl: './passport.component.html',\r\n  styleUrls: ['./passport.component.less'],\r\n})\r\nexport class LayoutPassportComponent {\r\n\r\n  @Select(ConfigState.getSetting('FS.Abp.Themes.Core.LoginPageOptions.Footer')) footer$: Observable<string>;\r\n  @Select(ConfigState.getSetting('FS.Abp.Themes.Core.LoginPageOptions.Title')) title$: Observable<string>;\r\n  @Select(ConfigState.getSetting('FS.Abp.Themes.Core.LoginPageOptions.Description')) description$: Observable<string>;\r\n\r\n  static type = eLayoutType.account;\r\n  links = [];\r\n}\r\n","import {\r\n  Component,OnDestroy, OnInit,\r\n} from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { RouterState } from '@fs/theme.core';\r\nimport { Observable } from 'rxjs';\r\nimport { Select } from '@ngxs/store';\r\nimport { TitleService } from '@delon/theme';\r\n@Component({\r\n  templateUrl: './page-bar.component.html'\r\n})\r\nexport class PageBarComponent implements OnDestroy ,OnInit {\r\n  @Select(RouterState.getProfile) profile$: Observable<any>;\r\n  get isCurrentPath() {\r\n    return this.router.createUrlTree(['./'], { relativeTo: this.route }).toString() === this.router.routerState.snapshot.url.toString();\r\n  }\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private titleService:TitleService\r\n  ) {\r\n  }\r\n  ngOnInit(){\r\n    // this.profile$.subscribe(x=>{\r\n    //   this.titleService.setTitle(x.title);\r\n    // });\r\n    \r\n  }\r\n  ngOnDestroy(): void {\r\n\r\n  }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { NgAlainSharedModule } from '@fs/ng-alain/shared';\r\n\r\nimport { LayoutDefaultComponent } from './default/default.component';\r\nimport { HeaderFullScreenComponent } from './default/header/components/fullscreen.component';\r\nimport { HeaderI18nComponent } from './default/header/components/i18n.component';\r\nimport { HeaderIconComponent } from './default/header/components/icon.component';\r\nimport { HeaderNotifyComponent } from './default/header/components/notify.component';\r\nimport { HeaderSearchComponent } from './default/header/components/search.component';\r\nimport { HeaderStorageComponent } from './default/header/components/storage.component';\r\nimport { HeaderTaskComponent } from './default/header/components/task.component';\r\nimport { HeaderUserComponent } from './default/header/components/user.component';\r\nimport { HeaderComponent } from './default/header/header.component';\r\nimport { SidebarComponent } from './default/sidebar/sidebar.component';\r\nimport { LayoutFullScreenComponent } from './fullscreen/fullscreen.component';\r\n\r\nimport { SettingDrawerItemComponent } from './default/setting-drawer/setting-drawer-item.component';\r\nimport { SettingDrawerComponent } from './default/setting-drawer/setting-drawer.component';\r\nimport { LayoutThemeBtnComponent } from './default/theme-btn/theme-btn.component';\r\n\r\nconst SETTINGDRAWER = [SettingDrawerComponent, SettingDrawerItemComponent];\r\nconst COMPONENTS = [\r\n  LayoutDefaultComponent,\r\n  LayoutFullScreenComponent,\r\n  HeaderComponent,\r\n  SidebarComponent,\r\n  ...SETTINGDRAWER,\r\n  LayoutThemeBtnComponent,\r\n];\r\n\r\nconst HEADERCOMPONENTS = [\r\n  HeaderSearchComponent,\r\n  HeaderNotifyComponent,\r\n  HeaderTaskComponent,\r\n  HeaderIconComponent,\r\n  HeaderFullScreenComponent,\r\n  HeaderI18nComponent,\r\n  HeaderStorageComponent,\r\n  HeaderUserComponent,\r\n];\r\n\r\n// passport\r\nimport { LayoutPassportComponent } from './passport/passport.component';\r\nimport { PageBarComponent } from './page-bar/page-bar.component';\r\nconst PASSPORT = [LayoutPassportComponent];\r\n\r\n@NgModule({\r\n  imports: [NgAlainSharedModule],\r\n  entryComponents: COMPONENTS,\r\n  declarations: [...COMPONENTS, ...HEADERCOMPONENTS, ...PASSPORT, PageBarComponent],\r\n  exports: [...COMPONENTS, ...PASSPORT, PageBarComponent],\r\n})\r\nexport class LayoutModule { }\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {HeaderFullScreenComponent as ɵe} from './lib/default/header/components/fullscreen.component';\nexport {HeaderI18nComponent as ɵf} from './lib/default/header/components/i18n.component';\nexport {HeaderIconComponent as ɵd} from './lib/default/header/components/icon.component';\nexport {HeaderNotifyComponent as ɵb} from './lib/default/header/components/notify.component';\nexport {HeaderSearchComponent as ɵa} from './lib/default/header/components/search.component';\nexport {HeaderStorageComponent as ɵg} from './lib/default/header/components/storage.component';\nexport {HeaderTaskComponent as ɵc} from './lib/default/header/components/task.component';\nexport {HeaderUserComponent as ɵh} from './lib/default/header/components/user.component';"],"names":[],"mappings":"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"}