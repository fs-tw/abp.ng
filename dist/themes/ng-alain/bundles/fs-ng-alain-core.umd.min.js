!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/platform"),require("@angular/common"),require("@angular/common/locales/en"),require("@angular/common/locales/zh"),require("@angular/common/locales/zh-Hant"),require("@angular/core"),require("@delon/theme"),require("@ngx-translate/core"),require("date-fns/locale"),require("ng-zorro-antd/i18n"),require("rxjs"),require("rxjs/operators"),require("@angular/common/http"),require("@angular/router"),require("@delon/auth"),require("ng-zorro-antd/notification"),require("@delon/acl"),require("ng-zorro-antd/icon"),require("@ant-design/icons-angular/icons"),require("ng-zorro-antd/modal")):"function"==typeof define&&define.amd?define("@fs/ng-alain/core",["exports","@angular/cdk/platform","@angular/common","@angular/common/locales/en","@angular/common/locales/zh","@angular/common/locales/zh-Hant","@angular/core","@delon/theme","@ngx-translate/core","date-fns/locale","ng-zorro-antd/i18n","rxjs","rxjs/operators","@angular/common/http","@angular/router","@delon/auth","ng-zorro-antd/notification","@delon/acl","ng-zorro-antd/icon","@ant-design/icons-angular/icons","ng-zorro-antd/modal"],t):t(((e=e||self).fs=e.fs||{},e.fs["ng-alain"]=e.fs["ng-alain"]||{},e.fs["ng-alain"].core={}),e.ng.cdk.platform,e.ng.common,e.ng.common.locales.en,e.ng.common.locales.zh,e.ng.common.locales.zhHant,e.ng.core,e.i1,e.i3,e.locale,e.i2,e.rxjs,e.rxjs.operators,e.ng.common.http,e.ng.router,e.auth,e.i1$1,e.acl,e.icon,e.icons,e.i1$2)}(this,(function(e,t,n,r,o,i,a,l,c,u,s,f,p,d,g,h,v,S,y,m,O){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;function b(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function z(e,t){return function(n,r){t(n,r,e)}}function j(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function N(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var I={"zh-CN":{text:"ç®€ä½“ä¸­æ–‡",ng:o,zorro:s.zh_CN,date:u.zhCN,delon:l.zh_CN,abbr:"ğŸ‡¨ğŸ‡³"},"zh-TW":{text:"ç¹ä½“ä¸­æ–‡",ng:i,zorro:s.zh_TW,date:u.zhTW,delon:l.zh_TW,abbr:"ğŸ‡­ğŸ‡°"},"en-US":{text:"English",ng:r,zorro:s.en_US,date:u.enUS,delon:l.en_US,abbr:"ğŸ‡¬ğŸ‡§"}};function C(e,t){if(e)throw new Error(t+" has already been loaded. Import Core modules in the AppModule only.")}e.I18NService=function(){function e(e,t,n,r,o){this.settings=e,this.nzI18nService=t,this.delonLocaleService=n,this.translate=r,this.platform=o,this._default="zh-CN",this.change$=new f.BehaviorSubject(null),this._langs=Object.keys(I).map((function(e){var t=I[e];return{code:e,text:t.text,abbr:t.abbr}}));var i=this._langs.map((function(e){return e.code}));r.addLangs(i);var a=this.getDefaultLang();i.includes(a)&&(this._default=a),this.updateLangData(this._default)}return e.prototype.getDefaultLang=function(){return this.platform.isBrowser?this.settings.layout.lang?this.settings.layout.lang:(navigator.languages?navigator.languages[0]:null)||navigator.language:"zh-CN"},e.prototype.updateLangData=function(e){var t=I[e];n.registerLocaleData(t.ng),this.nzI18nService.setLocale(t.zorro),this.nzI18nService.setDateLocale(t.date),this.delonLocaleService.setLocale(t.delon)},Object.defineProperty(e.prototype,"change",{get:function(){return this.change$.asObservable().pipe(p.filter((function(e){return null!=e})))},enumerable:!0,configurable:!0}),e.prototype.use=function(e){var t=this;e=e||this.translate.getDefaultLang(),this.currentLang!==e&&(this.updateLangData(e),this.translate.use(e).subscribe((function(){return t.change$.next(e)})))},e.prototype.getLangs=function(){return this._langs},e.prototype.fanyi=function(e,t){return this.translate.instant(e,t)},Object.defineProperty(e.prototype,"defaultLang",{get:function(){return this._default},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentLang",{get:function(){return this.translate.currentLang||this.translate.getDefaultLang()||this._default},enumerable:!0,configurable:!0}),e}(),e.I18NService.Éµprov=a.ÉµÉµdefineInjectable({factory:function(){return new e.I18NService(a.ÉµÉµinject(l.SettingsService),a.ÉµÉµinject(s.NzI18nService),a.ÉµÉµinject(l.DelonLocaleService),a.ÉµÉµinject(c.TranslateService),a.ÉµÉµinject(t.Platform))},token:e.I18NService,providedIn:"root"}),e.I18NService=b([a.Injectable({providedIn:"root"}),j("design:paramtypes",[l.SettingsService,s.NzI18nService,l.DelonLocaleService,c.TranslateService,t.Platform])],e.I18NService);var L={200:"æœåŠ¡å™¨æˆåŠŸè¿”å›è¯·æ±‚çš„æ•°æ®ã€‚",201:"æ–°å»ºæˆ–ä¿®æ”¹æ•°æ®æˆåŠŸã€‚",202:"ä¸€ä¸ªè¯·æ±‚å·²ç»è¿›å…¥åå°æ’é˜Ÿï¼ˆå¼‚æ­¥ä»»åŠ¡ï¼‰ã€‚",204:"åˆ é™¤æ•°æ®æˆåŠŸã€‚",400:"å‘å‡ºçš„è¯·æ±‚æœ‰é”™è¯¯ï¼ŒæœåŠ¡å™¨æ²¡æœ‰è¿›è¡Œæ–°å»ºæˆ–ä¿®æ”¹æ•°æ®çš„æ“ä½œã€‚",401:"ç”¨æˆ·æ²¡æœ‰æƒé™ï¼ˆä»¤ç‰Œã€ç”¨æˆ·åã€å¯†ç é”™è¯¯ï¼‰ã€‚",403:"ç”¨æˆ·å¾—åˆ°æˆæƒï¼Œä½†æ˜¯è®¿é—®æ˜¯è¢«ç¦æ­¢çš„ã€‚",404:"å‘å‡ºçš„è¯·æ±‚é’ˆå¯¹çš„æ˜¯ä¸å­˜åœ¨çš„è®°å½•ï¼ŒæœåŠ¡å™¨æ²¡æœ‰è¿›è¡Œæ“ä½œã€‚",406:"è¯·æ±‚çš„æ ¼å¼ä¸å¯å¾—ã€‚",410:"è¯·æ±‚çš„èµ„æºè¢«æ°¸ä¹…åˆ é™¤ï¼Œä¸”ä¸ä¼šå†å¾—åˆ°çš„ã€‚",422:"å½“åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå‘ç”Ÿä¸€ä¸ªéªŒè¯é”™è¯¯ã€‚",500:"æœåŠ¡å™¨å‘ç”Ÿé”™è¯¯ï¼Œè¯·æ£€æŸ¥æœåŠ¡å™¨ã€‚",502:"ç½‘å…³é”™è¯¯ã€‚",503:"æœåŠ¡ä¸å¯ç”¨ï¼ŒæœåŠ¡å™¨æš‚æ—¶è¿‡è½½æˆ–ç»´æŠ¤ã€‚",504:"ç½‘å…³è¶…æ—¶ã€‚"};e.DefaultInterceptor=function(){function e(e){this.injector=e}return Object.defineProperty(e.prototype,"notification",{get:function(){return this.injector.get(v.NzNotificationService)},enumerable:!0,configurable:!0}),e.prototype.goTo=function(e){var t=this;setTimeout((function(){return t.injector.get(g.Router).navigateByUrl(e)}))},e.prototype.checkStatus=function(e){if(!(e.status>=200&&e.status<300||401===e.status)){var t=L[e.status]||e.statusText;this.notification.error("è¯·æ±‚é”™è¯¯ "+e.status+": "+e.url,t)}},e.prototype.handleData=function(e){switch(e.status>0&&this.injector.get(l._HttpClient).end(),this.checkStatus(e),e.status){case 200:break;case 401:this.notification.error("æœªç™»å½•æˆ–ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•ã€‚",""),this.injector.get(h.DA_SERVICE_TOKEN).clear(),this.goTo("/passport/login");break;case 403:case 404:case 500:this.goTo("/exception/"+e.status);break;default:e instanceof d.HttpErrorResponse&&console.warn("æœªå¯çŸ¥é”™è¯¯ï¼Œå¤§éƒ¨åˆ†æ˜¯ç”±äºåç«¯ä¸æ”¯æŒCORSæˆ–æ— æ•ˆé…ç½®å¼•èµ·",e)}return e instanceof d.HttpErrorResponse?f.throwError(e):f.of(e)},e.prototype.intercept=function(e,t){var n=this,r=e.url;r.startsWith("https://")||r.startsWith("http://")||(r="./"+r);var o=e.clone({url:r});return t.handle(o).pipe(p.mergeMap((function(e){return e instanceof d.HttpResponseBase?n.handleData(e):f.of(e)})),p.catchError((function(e){return n.handleData(e)})))},e}(),e.DefaultInterceptor=b([a.Injectable(),j("design:paramtypes",[a.Injector])],e.DefaultInterceptor);var w=[m.InfoOutline,m.BulbOutline,m.ProfileOutline,m.ExceptionOutline,m.LinkOutline],T=[m.AlipayCircleOutline,m.ApiOutline,m.AppstoreOutline,m.ArrowDownOutline,m.BookOutline,m.CloudOutline,m.CopyrightOutline,m.CustomerServiceOutline,m.DashboardOutline,m.DatabaseOutline,m.DingdingOutline,m.DislikeOutline,m.DownloadOutline,m.ForkOutline,m.FrownOutline,m.FullscreenExitOutline,m.FullscreenOutline,m.GithubOutline,m.GlobalOutline,m.HddOutline,m.LaptopOutline,m.LikeOutline,m.LockOutline,m.LogoutOutline,m.MailOutline,m.MenuFoldOutline,m.MenuUnfoldOutline,m.MessageOutline,m.PayCircleOutline,m.PieChartOutline,m.PrinterOutline,m.RocketOutline,m.ScanOutline,m.SettingOutline,m.ShareAltOutline,m.ShoppingCartOutline,m.SoundOutline,m.StarOutline,m.TaobaoCircleOutline,m.TaobaoOutline,m.TeamOutline,m.ToolOutline,m.TrophyOutline,m.UsbOutline,m.UserOutline,m.WeiboCircleOutline];e.StartupService=function(){function e(e,t,n,r,o,i,a,l){this.menuService=t,this.translate=n,this.i18n=r,this.settingService=o,this.aclService=i,this.titleService=a,this.httpClient=l,e.addIcon.apply(e,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(N(arguments[t]));return e}(T,w))}return e.prototype.load=function(){var e=this;return new Promise((function(t){f.zip(e.httpClient.get("assets/tmp/i18n/"+e.i18n.defaultLang+".json"),e.httpClient.get("assets/tmp/app-data.json")).pipe(p.catchError((function(e){return console.warn("StartupService.load: Network request failed",e),t(null),[]}))).subscribe((function(t){var n=N(t,2),r=n[0],o=n[1];e.translate.setTranslation(e.i18n.defaultLang,r),e.translate.setDefaultLang(e.i18n.defaultLang);var i=o;e.settingService.setApp(i.app),e.aclService.setFull(!0),e.menuService.add(i.menu),e.titleService.default="",e.titleService.suffix=i.app.name}),(function(){}),(function(){t(null)}))}))},e}(),e.StartupService=b([a.Injectable(),z(3,a.Inject(l.ALAIN_I18N_TOKEN)),j("design:paramtypes",[y.NzIconService,l.MenuService,c.TranslateService,e.I18NService,l.SettingsService,S.ACLService,l.TitleService,d.HttpClient])],e.StartupService),e.CoreModule=function(e){C(e,"CoreModule")},e.CoreModule=b([a.NgModule({providers:[]}),z(0,a.Optional()),z(0,a.SkipSelf()),j("design:paramtypes",[e.CoreModule])],e.CoreModule),e.MessagesService=function(){function e(e){this.modalSrv=e}return e.prototype.info=function(e,t){void 0===t&&(t="è¨Šæ¯"),this.modalSrv.info({nzTitle:t,nzContent:e})},e.prototype.success=function(e,t){void 0===t&&(t="æˆåŠŸè¨Šæ¯"),this.modalSrv.success({nzTitle:t,nzContent:e})},e.prototype.warn=function(e,t){void 0===t&&(t="è­¦å‘Šè¨Šæ¯"),this.modalSrv.warning({nzTitle:t,nzContent:e})},e.prototype.error=function(e,t){void 0===t&&(t="éŒ¯èª¤è¨Šæ¯"),this.modalSrv.error({nzTitle:t,nzContent:e})},e.prototype.confirm=function(e,t,n){"string"==typeof t?this.modalSrv.confirm({nzTitle:t,nzContent:e,nzOnOk:function(){n&&n(!0)},nzOnCancel:function(){n&&n(!1)}}):this.modalSrv.confirm({nzTitle:"è«‹ç¢ºèª",nzContent:e,nzOnOk:function(){t&&t(!0)},nzOnCancel:function(){t&&t(!1)}})},e}(),e.MessagesService.Éµprov=a.ÉµÉµdefineInjectable({factory:function(){return new e.MessagesService(a.ÉµÉµinject(O.NzModalService))},token:e.MessagesService,providedIn:"root"}),e.MessagesService=b([a.Injectable({providedIn:"root"}),j("design:paramtypes",[O.NzModalService])],e.MessagesService),e.NotifyService=function(){function e(e){this.notification=e}return e.prototype.showNotify=function(e,t,n){this.notification.create(e,t,n)},e.prototype.success=function(e,t){void 0===e&&(e=""),void 0===t&&(t="æˆåŠŸ"),this.showNotify("success",t,e)},e.prototype.info=function(e,t){void 0===e&&(e=""),void 0===t&&(t="è¨Šæ¯"),this.showNotify("info",t,e)},e.prototype.warning=function(e,t){void 0===e&&(e=""),void 0===t&&(t="è­¦å‘Š"),this.showNotify("warning",t,e)},e.prototype.error=function(e,t){void 0===e&&(e=""),void 0===t&&(t="éŒ¯èª¤"),this.showNotify("error",t,e)},e}(),e.NotifyService.Éµprov=a.ÉµÉµdefineInjectable({factory:function(){return new e.NotifyService(a.ÉµÉµinject(v.NzNotificationService))},token:e.NotifyService,providedIn:"root"}),e.NotifyService=b([a.Injectable({providedIn:"root"}),j("design:paramtypes",[v.NzNotificationService])],e.NotifyService),e.throwIfAlreadyLoaded=C,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=fs-ng-alain-core.umd.min.js.map