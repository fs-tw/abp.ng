{"version":3,"file":"abp-ng.setting-management-config.js","sources":["../../../packages/setting-management/config/src/providers/route.provider.ts","../../../packages/setting-management/config/src/setting-management-config.module.ts","../../../packages/setting-management/config/src/abp-ng.setting-management-config.ts"],"sourcesContent":["import { eLayoutType, RoutesService, SettingTabsService } from '@abp/ng.core';\r\nimport { eThemeSharedRouteNames } from '@abp/ng.theme.shared';\r\nimport { APP_INITIALIZER } from '@angular/core';\r\nimport { debounceTime, map } from 'rxjs/operators';\r\nimport { eSettingManagementRouteNames } from '../enums/route-names';\r\n\r\nexport const SETTING_MANAGEMENT_ROUTE_PROVIDERS = [\r\n  { provide: APP_INITIALIZER, useFactory: configureRoutes, deps: [RoutesService], multi: true },\r\n  {\r\n    provide: APP_INITIALIZER,\r\n    useFactory: hideRoutes,\r\n    deps: [RoutesService, SettingTabsService],\r\n    multi: true,\r\n  },\r\n];\r\n\r\nexport function configureRoutes(routes: RoutesService) {\r\n  return () => {\r\n    routes.add([\r\n      {\r\n        name: eSettingManagementRouteNames.Settings,\r\n        path: '/setting-management',\r\n        parentName: eThemeSharedRouteNames.Administration,\r\n        layout: eLayoutType.application,\r\n        order: 100,\r\n        iconClass: 'fa fa-cog',\r\n      },\r\n    ]);\r\n  };\r\n}\r\n\r\nexport function hideRoutes(routes: RoutesService, tabs: SettingTabsService) {\r\n  return () => {\r\n    tabs.visible$\r\n      .pipe(\r\n        debounceTime(0),\r\n        map(nodes => !nodes.length),\r\n      )\r\n      .subscribe(invisible => routes.patch(eSettingManagementRouteNames.Settings, { invisible }));\r\n  };\r\n}\r\n","import { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { SETTING_MANAGEMENT_ROUTE_PROVIDERS } from './providers/route.provider';\r\n\r\n@NgModule()\r\nexport class SettingManagementConfigModule {\r\n  static forRoot(): ModuleWithProviders<SettingManagementConfigModule> {\r\n    return {\r\n      ngModule: SettingManagementConfigModule,\r\n      providers: [SETTING_MANAGEMENT_ROUTE_PROVIDERS],\r\n    };\r\n  }\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {SETTING_MANAGEMENT_ROUTE_PROVIDERS as ɵa,configureRoutes as ɵb,hideRoutes as ɵc} from './providers/route.provider';"],"names":[],"mappings":";;;;MAMa,kCAAkC,GAAG;IAChD,EAAE,OAAO,EAAE,eAAe,EAAE,UAAU,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC,aAAa,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE;IAC7F;QACE,OAAO,EAAE,eAAe;QACxB,UAAU,EAAE,UAAU;QACtB,IAAI,EAAE,CAAC,aAAa,EAAE,kBAAkB,CAAC;QACzC,KAAK,EAAE,IAAI;KACZ;EACD;SAEc,eAAe,CAAC,MAAqB;IACnD,OAAO;QACL,MAAM,CAAC,GAAG,CAAC;YACT;gBACE,IAAI;gBACJ,IAAI,EAAE,qBAAqB;gBAC3B,UAAU;gBACV,MAAM;gBACN,KAAK,EAAE,GAAG;gBACV,SAAS,EAAE,WAAW;aACvB;SACF,CAAC,CAAC;KACJ,CAAC;AACJ,CAAC;SAEe,UAAU,CAAC,MAAqB,EAAE,IAAwB;IACxE,OAAO;QACL,IAAI,CAAC,QAAQ;aACV,IAAI,CACH,YAAY,CAAC,CAAC,CAAC,EACf,GAAG,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAC5B;aACA,SAAS,CAAC,SAAS,IAAI,MAAM,CAAC,KAAK,kDAAwC,EAAE,SAAS,EAAE,CAAC,CAAC,CAAC;KAC/F,CAAC;AACJ;;MCpCa,6BAA6B;IACxC,OAAO,OAAO;QACZ,OAAO;YACL,QAAQ,EAAE,6BAA6B;YACvC,SAAS,EAAE,CAAC,kCAAkC,CAAC;SAChD,CAAC;KACH;;;YAPF,QAAQ;;;ACHT;;;;;;"}