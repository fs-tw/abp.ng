{"version":3,"file":"abp-ng.core.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","../../../packages/core/src/lib/abstracts/ng-model.component.ts","../../../packages/core/src/lib/actions/config.actions.ts","../../../packages/core/src/lib/actions/loader.actions.ts","../../../packages/core/src/lib/actions/profile.actions.ts","../../../packages/core/src/lib/actions/replaceable-components.actions.ts","../../../packages/core/src/lib/actions/rest.actions.ts","../../../packages/core/src/lib/actions/session.actions.ts","../../../packages/core/src/lib/states/session.state.ts","../../../packages/core/src/lib/states/config.state.ts","../../../packages/core/src/lib/utils/rxjs-utils.ts","../../../packages/core/src/lib/utils/array-utils.ts","../../../packages/core/src/lib/utils/tree-utils.ts","../../../packages/core/src/lib/services/routes.service.ts","../../../packages/core/src/lib/states/replaceable-components.state.ts","../../../packages/core/src/lib/utils/route-utils.ts","../../../packages/core/src/lib/components/dynamic-layout.component.ts","../../../packages/core/src/lib/components/replaceable-route-container.component.ts","../../../packages/core/src/lib/components/router-outlet.component.ts","../../../packages/core/src/lib/directives/autofocus.directive.ts","../../../packages/core/src/lib/directives/debounce.directive.ts","../../../packages/core/src/lib/directives/ellipsis.directive.ts","../../../packages/core/src/lib/directives/for.directive.ts","../../../packages/core/src/lib/utils/common-utils.ts","../../../packages/core/src/lib/utils/factory-utils.ts","../../../packages/core/src/lib/utils/number-utils.ts","../../../packages/core/src/lib/utils/form-utils.ts","../../../packages/core/src/lib/utils/generator-utils.ts","../../../packages/core/src/lib/constants/different-locales.ts","../../../packages/core/src/lib/tokens/options.token.ts","../../../packages/core/src/lib/utils/initial-utils.ts","../../../packages/core/src/lib/strategies/cross-origin.strategy.ts","../../../packages/core/src/lib/strategies/dom.strategy.ts","../../../packages/core/src/lib/utils/lazy-load-utils.ts","../../../packages/core/src/lib/utils/localization-utils.ts","../../../packages/core/src/lib/directives/form-submit.directive.ts","../../../packages/core/src/lib/directives/init.directive.ts","../../../packages/core/src/lib/services/rest.service.ts","../../../packages/core/src/lib/services/profile.service.ts","../../../packages/core/src/lib/states/profile.state.ts","../../../packages/core/src/lib/directives/permission.directive.ts","../../../packages/core/src/lib/directives/replaceable-template.directive.ts","../../../packages/core/src/lib/directives/stop-propagation.directive.ts","../../../packages/core/src/lib/directives/visibility.directive.ts","../../../packages/core/src/lib/handlers/routes.handler.ts","../../../packages/core/src/lib/interceptors/api.interceptor.ts","../../../packages/core/src/lib/pipes/localization.pipe.ts","../../../packages/core/src/lib/localization.module.ts","../../../packages/core/src/lib/pipes/sort.pipe.ts","../../../packages/core/src/lib/plugins/config.plugin.ts","../../../packages/core/src/lib/services/localization.service.ts","../../../packages/core/src/lib/providers/locale.provider.ts","../../../packages/core/src/lib/utils/date-extensions.ts","../../../packages/core/src/lib/core.module.ts","../../../packages/core/src/lib/guards/auth.guard.ts","../../../packages/core/src/lib/guards/permission.guard.ts","../../../packages/core/src/lib/models/dtos.ts","../../../packages/core/src/lib/services/application-configuration.service.ts","../../../packages/core/src/lib/services/auth.service.ts","../../../packages/core/src/lib/services/config-state.service.ts","../../../packages/core/src/lib/services/content-projection.service.ts","../../../packages/core/src/lib/services/dom-insertion.service.ts","../../../packages/core/src/lib/services/lazy-load.service.ts","../../../packages/core/src/lib/tokens/list.token.ts","../../../packages/core/src/lib/services/list.service.ts","../../../packages/core/src/lib/services/profile-state.service.ts","../../../packages/core/src/lib/services/session-state.service.ts","../../../packages/core/src/lib/services/track-by.service.ts","../../../packages/core/src/lib/strategies/container.strategy.ts","../../../packages/core/src/lib/strategies/content-security.strategy.ts","../../../packages/core/src/lib/strategies/content.strategy.ts","../../../packages/core/src/lib/strategies/context.strategy.ts","../../../packages/core/src/lib/strategies/loading.strategy.ts","../../../packages/core/src/lib/strategies/projection.strategy.ts","../../../packages/core/src/lib/validators/age.validator.ts","../../../packages/core/src/lib/validators/credit-card.validator.ts","../../../packages/core/src/lib/validators/range.validator.ts","../../../packages/core/src/lib/validators/required.validator.ts","../../../packages/core/src/lib/validators/string-length.validator.ts","../../../packages/core/src/lib/validators/url.validator.ts","../../../packages/core/src/lib/validators/index.ts","../../../packages/core/src/public-api.ts","../../../packages/core/src/abp-ng.core.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { ControlValueAccessor } from '@angular/forms';\r\nimport { ChangeDetectorRef, Component, Injector, Input } from '@angular/core';\r\n\r\n// Not an abstract class on purpose. Do not change!\r\n// tslint:disable-next-line: use-component-selector\r\n@Component({ template: '' })\r\nexport class AbstractNgModelComponent<T = any, U = T> implements ControlValueAccessor {\r\n  protected _value: T;\r\n  protected cdRef: ChangeDetectorRef;\r\n  onChange: (value: T) => {};\r\n  onTouched: () => {};\r\n\r\n  @Input()\r\n  disabled: boolean;\r\n\r\n  @Input()\r\n  readonly: boolean;\r\n\r\n  @Input()\r\n  valueFn: (value: U, previousValue?: T) => T = value => (value as any) as T;\r\n\r\n  @Input()\r\n  valueLimitFn: (value: T, previousValue?: T) => any = value => false;\r\n\r\n  @Input()\r\n  set value(value: T) {\r\n    value = this.valueFn((value as any) as U, this._value);\r\n\r\n    if (this.valueLimitFn(value, this._value) !== false || this.readonly) return;\r\n\r\n    this._value = value;\r\n    this.notifyValueChange();\r\n  }\r\n\r\n  get value(): T {\r\n    return this._value || this.defaultValue;\r\n  }\r\n\r\n  get defaultValue(): T {\r\n    return this._value;\r\n  }\r\n\r\n  constructor(public injector: Injector) {\r\n    // tslint:disable-next-line: deprecation\r\n    this.cdRef = injector.get(ChangeDetectorRef);\r\n  }\r\n\r\n  notifyValueChange(): void {\r\n    if (this.onChange) {\r\n      this.onChange(this.value);\r\n    }\r\n  }\r\n\r\n  writeValue(value: T): void {\r\n    this._value = this.valueLimitFn(value, this._value) || value;\r\n    setTimeout(() => this.cdRef.markForCheck(), 0);\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n  }\r\n}\r\n","import { Config } from '../models/config';\r\n\r\nexport class GetAppConfiguration {\r\n  static readonly type = '[Config] Get App Configuration';\r\n}\r\n\r\nexport class SetEnvironment {\r\n  static readonly type = '[Config] Set Environment';\r\n  constructor(public environment: Config.Environment) {}\r\n}\r\n","import { HttpRequest } from '@angular/common/http';\r\n\r\nexport class StartLoader {\r\n  static readonly type = '[Loader] Start';\r\n  constructor(public payload: HttpRequest<any>) {}\r\n}\r\n\r\nexport class StopLoader {\r\n  static readonly type = '[Loader] Stop';\r\n  constructor(public payload: HttpRequest<any>) {}\r\n}\r\n","import { Profile } from '../models';\r\n\r\nexport class GetProfile {\r\n  static readonly type = '[Profile] Get';\r\n}\r\n\r\nexport class UpdateProfile {\r\n  static readonly type = '[Profile] Update';\r\n  constructor(public payload: Profile.Response) {}\r\n}\r\n\r\nexport class ChangePassword {\r\n  static readonly type = '[Profile] Change Password';\r\n  constructor(public payload: Profile.ChangePasswordRequest) {}\r\n}\r\n","import { ReplaceableComponents } from '../models/replaceable-components';\r\n\r\n/**\r\n * @see usage: https://github.com/abpframework/abp/pull/2522#issue-358333183\r\n */\r\nexport class AddReplaceableComponent {\r\n  static readonly type = '[ReplaceableComponents] Add';\r\n  constructor(public payload: ReplaceableComponents.ReplaceableComponent) {}\r\n}\r\n","import { HttpErrorResponse } from '@angular/common/http';\r\n\r\nexport class RestOccurError {\r\n  static readonly type = '[Rest] Error';\r\n  constructor(public payload: HttpErrorResponse | any) {}\r\n}\r\n","import { ABP } from '../models';\r\n\r\nexport class SetLanguage {\r\n  static readonly type = '[Session] Set Language';\r\n  constructor(public payload: string, public dispatchAppConfiguration?: boolean) {}\r\n}\r\nexport class SetTenant {\r\n  static readonly type = '[Session] Set Tenant';\r\n  constructor(public payload: ABP.BasicItem) {}\r\n}\r\nexport class ModifyOpenedTabCount {\r\n  static readonly type = '[Session] Modify Opened Tab Count';\r\n  constructor(public operation: 'increase' | 'decrease') {}\r\n}\r\nexport class SetRemember {\r\n  static readonly type = '[Session] Set Remember';\r\n  constructor(public payload: boolean) {}\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  Action,\r\n  Actions,\r\n  ofActionSuccessful,\r\n  Selector,\r\n  State,\r\n  StateContext,\r\n  Store,\r\n} from '@ngxs/store';\r\nimport { OAuthService } from 'angular-oauth2-oidc';\r\nimport { fromEvent } from 'rxjs';\r\nimport { take } from 'rxjs/operators';\r\nimport { GetAppConfiguration } from '../actions/config.actions';\r\nimport {\r\n  ModifyOpenedTabCount,\r\n  SetLanguage,\r\n  SetRemember,\r\n  SetTenant,\r\n} from '../actions/session.actions';\r\nimport { ABP, Session } from '../models';\r\n\r\n@State<Session.State>({\r\n  name: 'SessionState',\r\n  defaults: { sessionDetail: { openedTabCount: 0 } } as Session.State,\r\n})\r\n@Injectable()\r\nexport class SessionState {\r\n  @Selector()\r\n  static getLanguage({ language }: Session.State): string {\r\n    return language;\r\n  }\r\n\r\n  @Selector()\r\n  static getTenant({ tenant }: Session.State): ABP.BasicItem {\r\n    return tenant;\r\n  }\r\n\r\n  @Selector()\r\n  static getSessionDetail({ sessionDetail }: Session.State): Session.SessionDetail {\r\n    return sessionDetail;\r\n  }\r\n\r\n  constructor(private oAuthService: OAuthService, private store: Store, private actions: Actions) {\r\n    actions\r\n      .pipe(ofActionSuccessful(GetAppConfiguration))\r\n      .pipe(take(1))\r\n      .subscribe(() => {\r\n        const { sessionDetail } = this.store.selectSnapshot(SessionState) || { sessionDetail: {} };\r\n\r\n        const fiveMinutesBefore = new Date().valueOf() - 5 * 60 * 1000;\r\n\r\n        if (\r\n          sessionDetail.lastExitTime &&\r\n          sessionDetail.openedTabCount === 0 &&\r\n          this.oAuthService.hasValidAccessToken() &&\r\n          sessionDetail.remember === false &&\r\n          sessionDetail.lastExitTime < fiveMinutesBefore\r\n        ) {\r\n          this.oAuthService.logOut();\r\n        }\r\n\r\n        this.store.dispatch(new ModifyOpenedTabCount('increase'));\r\n\r\n        fromEvent(window, 'unload').subscribe(event => {\r\n          this.store.dispatch(new ModifyOpenedTabCount('decrease'));\r\n        });\r\n      });\r\n  }\r\n\r\n  @Action(SetLanguage)\r\n  setLanguage(\r\n    { patchState, dispatch }: StateContext<Session.State>,\r\n    { payload, dispatchAppConfiguration = true }: SetLanguage,\r\n  ) {\r\n    patchState({\r\n      language: payload,\r\n    });\r\n\r\n    if (dispatchAppConfiguration) return dispatch(new GetAppConfiguration());\r\n  }\r\n\r\n  @Action(SetTenant)\r\n  setTenant({ patchState }: StateContext<Session.State>, { payload }: SetTenant) {\r\n    patchState({\r\n      tenant: payload,\r\n    });\r\n  }\r\n\r\n  @Action(SetRemember)\r\n  setRemember(\r\n    { getState, patchState }: StateContext<Session.State>,\r\n    { payload: remember }: SetRemember,\r\n  ) {\r\n    const { sessionDetail } = getState();\r\n\r\n    patchState({\r\n      sessionDetail: {\r\n        ...sessionDetail,\r\n        remember,\r\n      },\r\n    });\r\n  }\r\n\r\n  @Action(ModifyOpenedTabCount)\r\n  modifyOpenedTabCount(\r\n    { getState, patchState }: StateContext<Session.State>,\r\n    { operation }: ModifyOpenedTabCount,\r\n  ) {\r\n    // tslint:disable-next-line: prefer-const\r\n    let { openedTabCount, lastExitTime, ...detail } =\r\n      getState().sessionDetail || ({ openedTabCount: 0 } as Session.SessionDetail);\r\n\r\n    if (operation === 'increase') {\r\n      openedTabCount++;\r\n    } else if (operation === 'decrease') {\r\n      openedTabCount--;\r\n      lastExitTime = new Date().valueOf();\r\n    }\r\n\r\n    if (!openedTabCount || openedTabCount < 0) {\r\n      openedTabCount = 0;\r\n    }\r\n\r\n    patchState({\r\n      sessionDetail: {\r\n        openedTabCount,\r\n        lastExitTime,\r\n        ...detail,\r\n      },\r\n    });\r\n  }\r\n}\r\n","import { HttpClient, HttpErrorResponse } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Action, createSelector, Selector, State, StateContext, Store } from '@ngxs/store';\r\nimport { of, throwError } from 'rxjs';\r\nimport { catchError, switchMap, tap } from 'rxjs/operators';\r\nimport snq from 'snq';\r\nimport { GetAppConfiguration, SetEnvironment } from '../actions/config.actions';\r\nimport { RestOccurError } from '../actions/rest.actions';\r\nimport { SetLanguage } from '../actions/session.actions';\r\nimport { ApplicationConfiguration } from '../models/application-configuration';\r\nimport { Config } from '../models/config';\r\nimport { SessionState } from './session.state';\r\n\r\n@State<Config.State>({\r\n  name: 'ConfigState',\r\n  defaults: {} as Config.State,\r\n})\r\n@Injectable()\r\nexport class ConfigState {\r\n  @Selector()\r\n  static getAll(state: Config.State) {\r\n    return state;\r\n  }\r\n\r\n  @Selector()\r\n  static getApplicationInfo(state: Config.State): Config.Application {\r\n    return state.environment.application || ({} as Config.Application);\r\n  }\r\n\r\n  static getOne(key: string) {\r\n    const selector = createSelector([ConfigState], (state: Config.State) => {\r\n      return state[key];\r\n    });\r\n\r\n    return selector;\r\n  }\r\n\r\n  static getDeep(keys: string[] | string) {\r\n    if (typeof keys === 'string') {\r\n      keys = keys.split('.');\r\n    }\r\n\r\n    if (!Array.isArray(keys)) {\r\n      throw new Error('The argument must be a dot string or an string array.');\r\n    }\r\n\r\n    const selector = createSelector([ConfigState], (state: Config.State) => {\r\n      return (keys as string[]).reduce((acc, val) => {\r\n        if (acc) {\r\n          return acc[val];\r\n        }\r\n\r\n        return undefined;\r\n      }, state);\r\n    });\r\n\r\n    return selector;\r\n  }\r\n\r\n  static getApiUrl(key?: string) {\r\n    const selector = createSelector([ConfigState], (state: Config.State): string => {\r\n      return (state.environment.apis[key || 'default'] || state.environment.apis.default).url;\r\n    });\r\n\r\n    return selector;\r\n  }\r\n\r\n  static getSetting(key: string) {\r\n    const selector = createSelector([ConfigState], (state: Config.State) => {\r\n      return snq(() => state.setting.values[key]);\r\n    });\r\n\r\n    return selector;\r\n  }\r\n\r\n  static getSettings(keyword?: string) {\r\n    const selector = createSelector([ConfigState], (state: Config.State) => {\r\n      const settings = snq(() => state.setting.values, {});\r\n\r\n      if (!keyword) return settings;\r\n\r\n      const keysFound = Object.keys(settings).filter(key => key.indexOf(keyword) > -1);\r\n\r\n      return keysFound.reduce((acc, key) => {\r\n        acc[key] = settings[key];\r\n        return acc;\r\n      }, {});\r\n    });\r\n\r\n    return selector;\r\n  }\r\n\r\n  static getGrantedPolicy(key: string) {\r\n    const selector = createSelector([ConfigState], (state: Config.State): boolean => {\r\n      if (!key) return true;\r\n      const getPolicy = (k: string) => snq(() => state.auth.grantedPolicies[k], false);\r\n\r\n      const orRegexp = /\\|\\|/g;\r\n      const andRegexp = /&&/g;\r\n\r\n      // TODO: Allow combination of ANDs & ORs\r\n      if (orRegexp.test(key)) {\r\n        const keys = key.split('||').filter(Boolean);\r\n\r\n        if (keys.length < 2) return false;\r\n\r\n        return keys.some(k => getPolicy(k.trim()));\r\n      } else if (andRegexp.test(key)) {\r\n        const keys = key.split('&&').filter(Boolean);\r\n\r\n        if (keys.length < 2) return false;\r\n\r\n        return keys.every(k => getPolicy(k.trim()));\r\n      }\r\n\r\n      return getPolicy(key);\r\n    });\r\n\r\n    return selector;\r\n  }\r\n\r\n  static getLocalization(\r\n    key: string | Config.LocalizationWithDefault,\r\n    ...interpolateParams: string[]\r\n  ) {\r\n    if (!key) key = '';\r\n    let defaultValue: string;\r\n\r\n    if (typeof key !== 'string') {\r\n      defaultValue = key.defaultValue;\r\n      key = key.key;\r\n    }\r\n\r\n    const keys = key.split('::') as string[];\r\n    const selector = createSelector([ConfigState], (state: Config.State): string => {\r\n      const warn = (message: string) => {\r\n        if (!state.environment.production) console.warn(message);\r\n      };\r\n\r\n      if (keys.length < 2) {\r\n        warn('The localization source separator (::) not found.');\r\n        return defaultValue || (key as string);\r\n      }\r\n      if (!state.localization) return defaultValue || keys[1];\r\n\r\n      const sourceName =\r\n        keys[0] ||\r\n        snq(() => state.environment.localization.defaultResourceName) ||\r\n        state.localization.defaultResourceName;\r\n      const sourceKey = keys[1];\r\n\r\n      if (sourceName === '_') {\r\n        return defaultValue || sourceKey;\r\n      }\r\n\r\n      if (!sourceName) {\r\n        warn(\r\n          'Localization source name is not specified and the defaultResourceName was not defined!',\r\n        );\r\n\r\n        return defaultValue || sourceKey;\r\n      }\r\n\r\n      const source = state.localization.values[sourceName];\r\n      if (!source) {\r\n        warn('Could not find localization source: ' + sourceName);\r\n        return defaultValue || sourceKey;\r\n      }\r\n\r\n      let localization = source[sourceKey];\r\n      if (typeof localization === 'undefined') {\r\n        return defaultValue || sourceKey;\r\n      }\r\n\r\n      interpolateParams = interpolateParams.filter(params => params != null);\r\n      if (localization && interpolateParams && interpolateParams.length) {\r\n        interpolateParams.forEach(param => {\r\n          localization = localization.replace(/[\\'\\\"]?\\{[\\d]+\\}[\\'\\\"]?/, param);\r\n        });\r\n      }\r\n\r\n      if (typeof localization !== 'string') localization = '';\r\n      return localization || defaultValue || (key as string);\r\n    });\r\n\r\n    return selector;\r\n  }\r\n\r\n  constructor(private http: HttpClient, private store: Store) {}\r\n\r\n  @Action(GetAppConfiguration)\r\n  addData({ patchState, dispatch }: StateContext<Config.State>) {\r\n    const apiName = 'default';\r\n    const api = this.store.selectSnapshot(ConfigState.getApiUrl(apiName));\r\n    return this.http\r\n      .get<ApplicationConfiguration.Response>(`${api}/api/abp/application-configuration`)\r\n      .pipe(\r\n        tap(configuration =>\r\n          patchState({\r\n            ...configuration,\r\n          }),\r\n        ),\r\n        switchMap(configuration => {\r\n          let defaultLang: string =\r\n            configuration.setting.values['Abp.Localization.DefaultLanguage'];\r\n\r\n          if (defaultLang.includes(';')) {\r\n            defaultLang = defaultLang.split(';')[0];\r\n          }\r\n\r\n          document.documentElement.setAttribute(\r\n            'lang',\r\n            configuration.localization.currentCulture.cultureName,\r\n          );\r\n          return this.store.selectSnapshot(SessionState.getLanguage)\r\n            ? of(null)\r\n            : dispatch(new SetLanguage(defaultLang, false));\r\n        }),\r\n        catchError((err: HttpErrorResponse) => {\r\n          dispatch(new RestOccurError(err));\r\n          return throwError(err);\r\n        }),\r\n      );\r\n  }\r\n\r\n  @Action(SetEnvironment)\r\n  setEnvironment({ patchState }: StateContext<Config.State>, { environment }: SetEnvironment) {\r\n    return patchState({\r\n      environment,\r\n    });\r\n  }\r\n}\r\n","import { Observable, Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nfunction isFunction(value) {\r\n  return typeof value === 'function';\r\n}\r\n\r\nexport const takeUntilDestroy = (componentInstance, destroyMethodName = 'ngOnDestroy') => <T>(\r\n  source: Observable<T>\r\n) => {\r\n  const originalDestroy = componentInstance[destroyMethodName];\r\n  if (isFunction(originalDestroy) === false) {\r\n    throw new Error(\r\n      `${componentInstance.constructor.name} is using untilDestroyed but doesn't implement ${destroyMethodName}`\r\n    );\r\n  }\r\n  if (!componentInstance['__takeUntilDestroy']) {\r\n    componentInstance['__takeUntilDestroy'] = new Subject();\r\n\r\n    componentInstance[destroyMethodName] = function() {\r\n      // tslint:disable-next-line: no-unused-expression\r\n      isFunction(originalDestroy) && originalDestroy.apply(this, arguments);\r\n      componentInstance['__takeUntilDestroy'].next(true);\r\n      componentInstance['__takeUntilDestroy'].complete();\r\n    };\r\n  }\r\n  return source.pipe(takeUntil<T>(componentInstance['__takeUntilDestroy']));\r\n};\r\n","export function pushValueTo<T extends any>(array: T[]) {\r\n  return (element: T) => {\r\n    array.push(element);\r\n    return array;\r\n  };\r\n}\r\n","export class BaseTreeNode<T extends object> {\r\n  children: TreeNode<T>[] = [];\r\n  isLeaf = true;\r\n  parent: TreeNode<T>;\r\n\r\n  constructor(props: T) {\r\n    Object.assign(this, props);\r\n  }\r\n\r\n  static create<T extends object>(props: T) {\r\n    return new BaseTreeNode<T>(props) as TreeNode<T>;\r\n  }\r\n}\r\n\r\nexport function createTreeFromList<T extends object, R extends unknown>(\r\n  list: T[],\r\n  keySelector: (item: T) => number | string | symbol,\r\n  parentKeySelector: typeof keySelector,\r\n  valueMapper: (item: T) => R,\r\n) {\r\n  const map = createMapFromList(list, keySelector, valueMapper);\r\n  const tree: NodeValue<T, typeof valueMapper>[] = [];\r\n\r\n  list.forEach(row => {\r\n    const id = keySelector(row);\r\n    const parentId = parentKeySelector(row);\r\n    const node = map.get(id);\r\n\r\n    if (parentId) {\r\n      const parent = map.get(parentId);\r\n      if (!parent) return;\r\n      (parent as any).children.push(node);\r\n      (parent as any).isLeaf = false;\r\n      (node as any).parent = parent;\r\n    } else {\r\n      tree.push(node);\r\n    }\r\n  });\r\n\r\n  return tree;\r\n}\r\n\r\nexport function createMapFromList<T extends object, R extends unknown>(\r\n  list: T[],\r\n  keySelector: (item: T) => number | string | symbol,\r\n  valueMapper: (item: T) => R,\r\n) {\r\n  type Key = ReturnType<typeof keySelector>;\r\n  type Value = NodeValue<T, typeof valueMapper>;\r\n  const map = new Map<Key, Value>();\r\n  list.forEach(row => map.set(keySelector(row), valueMapper(row)));\r\n  return map;\r\n}\r\n\r\nexport type TreeNode<T extends object> = {\r\n  [K in keyof T]: T[K];\r\n} & {\r\n  children: TreeNode<T>[];\r\n  isLeaf: boolean;\r\n  parent?: TreeNode<T>;\r\n};\r\n\r\ntype NodeValue<T extends object, F extends (...args: any) => any> = F extends undefined\r\n  ? TreeNode<T>\r\n  : ReturnType<F>;\r\n","import { Injectable, OnDestroy } from '@angular/core';\r\nimport { Actions, ofActionSuccessful, Store } from '@ngxs/store';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { GetAppConfiguration } from '../actions/config.actions';\r\nimport { ABP } from '../models/common';\r\nimport { ConfigState } from '../states/config.state';\r\nimport { takeUntilDestroy } from '../utils/rxjs-utils';\r\nimport { pushValueTo } from '../utils/array-utils';\r\nimport { BaseTreeNode, createTreeFromList, TreeNode } from '../utils/tree-utils';\r\n\r\nexport abstract class AbstractTreeService<T extends object> {\r\n  abstract id: string;\r\n  abstract parentId: string;\r\n  abstract hide: (item: T) => boolean;\r\n  abstract sort: (a: T, b: T) => number;\r\n\r\n  private _flat$ = new BehaviorSubject<T[]>([]);\r\n  private _tree$ = new BehaviorSubject<TreeNode<T>[]>([]);\r\n  private _visible$ = new BehaviorSubject<TreeNode<T>[]>([]);\r\n\r\n  get flat(): T[] {\r\n    return this._flat$.value;\r\n  }\r\n\r\n  get flat$(): Observable<T[]> {\r\n    return this._flat$.asObservable();\r\n  }\r\n\r\n  get tree(): TreeNode<T>[] {\r\n    return this._tree$.value;\r\n  }\r\n\r\n  get tree$(): Observable<TreeNode<T>[]> {\r\n    return this._tree$.asObservable();\r\n  }\r\n\r\n  get visible(): TreeNode<T>[] {\r\n    return this._visible$.value;\r\n  }\r\n\r\n  get visible$(): Observable<TreeNode<T>[]> {\r\n    return this._visible$.asObservable();\r\n  }\r\n\r\n  protected createTree(items: T[]): TreeNode<T>[] {\r\n    return createTreeFromList<T, TreeNode<T>>(\r\n      items,\r\n      item => item[this.id],\r\n      item => item[this.parentId],\r\n      item => BaseTreeNode.create(item),\r\n    );\r\n  }\r\n\r\n  private filterWith(setOrMap: Set<string> | Map<string, T>): T[] {\r\n    return this._flat$.value.filter(\r\n      item => !setOrMap.has(item[this.id]) && !setOrMap.has(item[this.parentId]),\r\n    );\r\n  }\r\n\r\n  private publish(flatItems: T[], visibleItems: T[]): T[] {\r\n    this._flat$.next(flatItems);\r\n    this._tree$.next(this.createTree(flatItems));\r\n    this._visible$.next(this.createTree(visibleItems));\r\n    return flatItems;\r\n  }\r\n\r\n  add(items: T[]): T[] {\r\n    const map = new Map<string, T>();\r\n    items.forEach(item => map.set(item[this.id], item));\r\n\r\n    const flatItems = this.filterWith(map);\r\n    map.forEach(pushValueTo(flatItems));\r\n\r\n    flatItems.sort(this.sort);\r\n    const visibleItems = flatItems.filter(item => !this.hide(item));\r\n\r\n    return this.publish(flatItems, visibleItems);\r\n  }\r\n\r\n  find(predicate: (item: TreeNode<T>) => boolean, tree = this.tree): TreeNode<T> | null {\r\n    return tree.reduce(\r\n      (acc, node) => (acc ? acc : predicate(node) ? node : this.find(predicate, node.children)),\r\n      null,\r\n    );\r\n  }\r\n\r\n  patch(identifier: string, props: Partial<T>): T[] | false {\r\n    const flatItems = this._flat$.value;\r\n    const index = flatItems.findIndex(item => item[this.id] === identifier);\r\n    if (index < 0) return false;\r\n\r\n    flatItems[index] = { ...flatItems[index], ...props };\r\n\r\n    flatItems.sort(this.sort);\r\n    const visibleItems = flatItems.filter(item => !this.hide(item));\r\n\r\n    return this.publish(flatItems, visibleItems);\r\n  }\r\n\r\n  refresh(): T[] {\r\n    return this.add([]);\r\n  }\r\n\r\n  remove(identifiers: string[]): T[] {\r\n    const set = new Set<string>();\r\n    identifiers.forEach(id => set.add(id));\r\n\r\n    const flatItems = this.filterWith(set);\r\n    const visibleItems = flatItems.filter(item => !this.hide(item));\r\n\r\n    return this.publish(flatItems, visibleItems);\r\n  }\r\n\r\n  search(params: Partial<T>, tree = this.tree): TreeNode<T> | null {\r\n    const searchKeys = Object.keys(params);\r\n\r\n    return tree.reduce(\r\n      (acc, node) =>\r\n        acc\r\n          ? acc\r\n          : searchKeys.every(key => node[key] === params[key])\r\n          ? node\r\n          : this.search(params, node.children),\r\n      null,\r\n    );\r\n  }\r\n}\r\n\r\n@Injectable()\r\nexport abstract class AbstractNavTreeService<T extends ABP.Nav> extends AbstractTreeService<T>\r\n  implements OnDestroy {\r\n  readonly id = 'name';\r\n  readonly parentId = 'parentName';\r\n  readonly hide = (item: T) => item.invisible || !this.isGranted(item);\r\n  readonly sort = (a: T, b: T) => {\r\n    if (!a.order) return 1;\r\n    if (!b.order) return -1;\r\n\r\n    return a.order - b.order;\r\n  };\r\n\r\n  constructor(protected actions: Actions, protected store: Store) {\r\n    super();\r\n\r\n    this.actions\r\n      .pipe(takeUntilDestroy(this), ofActionSuccessful(GetAppConfiguration))\r\n      .subscribe(() => this.refresh());\r\n  }\r\n\r\n  protected isGranted({ requiredPolicy }: T): boolean {\r\n    return this.store.selectSnapshot(ConfigState.getGrantedPolicy(requiredPolicy));\r\n  }\r\n\r\n  hasChildren(identifier: string): boolean {\r\n    const node = this.find(item => item[this.id] === identifier);\r\n    return Boolean(node?.children?.length);\r\n  }\r\n\r\n  hasInvisibleChild(identifier: string): boolean {\r\n    const node = this.find(item => item[this.id] === identifier);\r\n    return node?.children?.some(child => child.invisible);\r\n  }\r\n\r\n  /* istanbul ignore next */\r\n  ngOnDestroy() {}\r\n}\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class RoutesService extends AbstractNavTreeService<ABP.Route> {}\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class SettingTabsService extends AbstractNavTreeService<ABP.Tab> {}\r\n","import { Injectable } from '@angular/core';\r\nimport { State, Action, StateContext, Selector, createSelector } from '@ngxs/store';\r\nimport { AddReplaceableComponent } from '../actions/replaceable-components.actions';\r\nimport { ReplaceableComponents } from '../models/replaceable-components';\r\nimport snq from 'snq';\r\n\r\n@State<ReplaceableComponents.State>({\r\n  name: 'ReplaceableComponentsState',\r\n  defaults: { replaceableComponents: [] } as ReplaceableComponents.State,\r\n})\r\n@Injectable()\r\nexport class ReplaceableComponentsState {\r\n  @Selector()\r\n  static getAll({\r\n    replaceableComponents,\r\n  }: ReplaceableComponents.State): ReplaceableComponents.ReplaceableComponent[] {\r\n    return replaceableComponents || [];\r\n  }\r\n\r\n  static getComponent(key: string) {\r\n    const selector = createSelector(\r\n      [ReplaceableComponentsState],\r\n      (state: ReplaceableComponents.State): ReplaceableComponents.ReplaceableComponent => {\r\n        return snq(() => state.replaceableComponents.find(component => component.key === key));\r\n      },\r\n    );\r\n\r\n    return selector;\r\n  }\r\n\r\n  @Action(AddReplaceableComponent)\r\n  replaceableComponentsAction(\r\n    { getState, patchState }: StateContext<ReplaceableComponents.State>,\r\n    { payload }: AddReplaceableComponent,\r\n  ) {\r\n    let { replaceableComponents } = getState();\r\n\r\n    const index = snq(\r\n      () => replaceableComponents.findIndex(component => component.key === payload.key),\r\n      -1,\r\n    );\r\n    if (index > -1) {\r\n      replaceableComponents[index] = payload;\r\n    } else {\r\n      replaceableComponents = [...replaceableComponents, payload];\r\n    }\r\n\r\n    patchState({\r\n      replaceableComponents,\r\n    });\r\n  }\r\n}\r\n","import { PRIMARY_OUTLET, Router, UrlSegmentGroup } from '@angular/router';\r\nimport { ABP } from '../models/common';\r\nimport { RoutesService } from '../services/routes.service';\r\nimport { TreeNode } from './tree-utils';\r\n\r\nexport function findRoute(routes: RoutesService, path: string): TreeNode<ABP.Route> {\r\n  const node = routes.find(route => route.path === path);\r\n\r\n  return node || path === '/'\r\n    ? node\r\n    : findRoute(\r\n        routes,\r\n        path\r\n          .split('/')\r\n          .slice(0, -1)\r\n          .join('/'),\r\n      );\r\n}\r\n\r\nexport function getRoutePath(router: Router) {\r\n  const emptyGroup = { segments: [] } as UrlSegmentGroup;\r\n  const primaryGroup = router.parseUrl(router.url).root.children[PRIMARY_OUTLET];\r\n\r\n  return '/' + (primaryGroup || emptyGroup).segments.map(({ path }) => path).join('/');\r\n}\r\n","import { Component, Injector, OnDestroy, Type, Optional, SkipSelf } from '@angular/core';\r\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\r\nimport { Store } from '@ngxs/store';\r\nimport { eLayoutType } from '../enums/common';\r\nimport { ABP } from '../models';\r\nimport { ReplaceableComponents } from '../models/replaceable-components';\r\nimport { RoutesService } from '../services/routes.service';\r\nimport { ReplaceableComponentsState } from '../states/replaceable-components.state';\r\nimport { findRoute, getRoutePath } from '../utils/route-utils';\r\nimport { takeUntilDestroy } from '../utils/rxjs-utils';\r\nimport { TreeNode } from '../utils/tree-utils';\r\n\r\n@Component({\r\n  selector: 'abp-dynamic-layout',\r\n  template: `\r\n    <ng-container *ngTemplateOutlet=\"layout ? componentOutlet : routerOutlet\"></ng-container>\r\n    <ng-template #routerOutlet><router-outlet></router-outlet></ng-template>\r\n    <ng-template #componentOutlet\r\n      ><ng-container *ngComponentOutlet=\"layout\"></ng-container\r\n    ></ng-template>\r\n  `,\r\n})\r\nexport class DynamicLayoutComponent implements OnDestroy {\r\n  layout: Type<any>;\r\n\r\n  constructor(\r\n    injector: Injector,\r\n    private store: Store,\r\n    @Optional() @SkipSelf() dynamicLayoutComponent: DynamicLayoutComponent,\r\n  ) {\r\n    if (dynamicLayoutComponent) return;\r\n    const route = injector.get(ActivatedRoute);\r\n    const router = injector.get(Router);\r\n    const routes = injector.get(RoutesService);\r\n    const layouts = {\r\n      application: this.getComponent('Theme.ApplicationLayoutComponent'),\r\n      account: this.getComponent('Theme.AccountLayoutComponent'),\r\n      empty: this.getComponent('Theme.EmptyLayoutComponent'),\r\n    };\r\n\r\n    router.events.pipe(takeUntilDestroy(this)).subscribe(event => {\r\n      if (event instanceof NavigationEnd) {\r\n        let expectedLayout = (route.snapshot.data || {}).layout;\r\n\r\n        if (!expectedLayout) {\r\n          let node = findRoute(routes, getRoutePath(router));\r\n          node = { parent: node } as TreeNode<ABP.Route>;\r\n\r\n          while (node.parent) {\r\n            node = node.parent;\r\n\r\n            if (node.layout) {\r\n              expectedLayout = node.layout;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        if (!expectedLayout) expectedLayout = eLayoutType.empty;\r\n\r\n        this.layout = layouts[expectedLayout].component;\r\n      }\r\n    });\r\n  }\r\n\r\n  private getComponent(key: string): ReplaceableComponents.ReplaceableComponent {\r\n    return this.store.selectSnapshot(ReplaceableComponentsState.getComponent(key));\r\n  }\r\n\r\n  ngOnDestroy() {}\r\n}\r\n","import { Component, OnDestroy, OnInit, Type } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Store } from '@ngxs/store';\r\nimport { distinctUntilChanged } from 'rxjs/operators';\r\nimport { ABP } from '../models/common';\r\nimport { ReplaceableComponents } from '../models/replaceable-components';\r\nimport { ReplaceableComponentsState } from '../states/replaceable-components.state';\r\nimport { takeUntilDestroy } from '../utils/rxjs-utils';\r\n\r\n@Component({\r\n  selector: 'abp-replaceable-route-container',\r\n  template: `\r\n    <ng-container *ngComponentOutlet=\"externalComponent || defaultComponent\"></ng-container>\r\n  `,\r\n})\r\nexport class ReplaceableRouteContainerComponent implements OnInit, OnDestroy {\r\n  defaultComponent: Type<any>;\r\n\r\n  componentKey: string;\r\n\r\n  externalComponent: Type<any>;\r\n\r\n  constructor(private route: ActivatedRoute, private store: Store) {}\r\n\r\n  ngOnInit() {\r\n    this.defaultComponent = this.route.snapshot.data.replaceableComponent.defaultComponent;\r\n    this.componentKey = (this.route.snapshot.data\r\n      .replaceableComponent as ReplaceableComponents.RouteData).key;\r\n\r\n    this.store\r\n      .select(ReplaceableComponentsState.getComponent(this.componentKey))\r\n      .pipe(takeUntilDestroy(this), distinctUntilChanged())\r\n      .subscribe((res = {} as ReplaceableComponents.ReplaceableComponent) => {\r\n        this.externalComponent = res.component;\r\n      });\r\n  }\r\n\r\n  ngOnDestroy() {}\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'abp-router-outlet',\r\n  template: `\r\n    <router-outlet></router-outlet>\r\n  `,\r\n})\r\nexport class RouterOutletComponent {}\r\n","import { Directive, ElementRef, Input, AfterViewInit } from '@angular/core';\r\n\r\n@Directive({\r\n  // tslint:disable-next-line: directive-selector\r\n  selector: '[autofocus]'\r\n})\r\nexport class AutofocusDirective implements AfterViewInit {\r\n  @Input('autofocus')\r\n  delay = 0;\r\n\r\n  constructor(private elRef: ElementRef) {}\r\n\r\n  ngAfterViewInit(): void {\r\n    setTimeout(() => this.elRef.nativeElement.focus(), this.delay);\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n} from '@angular/core';\r\nimport { takeUntilDestroy } from '../utils/rxjs-utils';\r\nimport { fromEvent } from 'rxjs';\r\nimport { debounceTime } from 'rxjs/operators';\r\n\r\n@Directive({\r\n  // tslint:disable-next-line: directive-selector\r\n  selector: '[input.debounce]',\r\n})\r\nexport class InputEventDebounceDirective implements OnInit, OnDestroy {\r\n  @Input() debounce = 300;\r\n\r\n  @Output('input.debounce') readonly debounceEvent = new EventEmitter<Event>();\r\n\r\n  constructor(private el: ElementRef) {}\r\n\r\n  ngOnInit(): void {\r\n    fromEvent(this.el.nativeElement, 'input')\r\n      .pipe(debounceTime(this.debounce), takeUntilDestroy(this))\r\n      .subscribe((event: Event) => {\r\n        this.debounceEvent.emit(event);\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {}\r\n}\r\n","import { AfterViewInit, ChangeDetectorRef, Directive, ElementRef, HostBinding, Input } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[abpEllipsis]',\r\n})\r\nexport class EllipsisDirective implements AfterViewInit {\r\n  @Input('abpEllipsis')\r\n  width: string;\r\n\r\n  @HostBinding('title')\r\n  @Input()\r\n  title: string;\r\n\r\n  @Input('abpEllipsisEnabled')\r\n  enabled = true;\r\n\r\n  @HostBinding('class.abp-ellipsis-inline')\r\n  get inlineClass() {\r\n    return this.enabled && this.width;\r\n  }\r\n\r\n  @HostBinding('class.abp-ellipsis')\r\n  get class() {\r\n    return this.enabled && !this.width;\r\n  }\r\n\r\n  @HostBinding('style.max-width')\r\n  get maxWidth() {\r\n    return this.enabled && this.width ? this.width || '170px' : undefined;\r\n  }\r\n\r\n  constructor(private cdRef: ChangeDetectorRef, private elRef: ElementRef) {}\r\n\r\n  ngAfterViewInit() {\r\n    this.title = this.title || (this.elRef.nativeElement as HTMLElement).innerText;\r\n    this.cdRef.detectChanges();\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  EmbeddedViewRef,\r\n  Input,\r\n  IterableChangeRecord,\r\n  IterableChanges,\r\n  IterableDiffer,\r\n  IterableDiffers,\r\n  OnChanges,\r\n  TemplateRef,\r\n  TrackByFunction,\r\n  ViewContainerRef,\r\n} from '@angular/core';\r\nimport compare from 'just-compare';\r\nimport clone from 'just-clone';\r\n\r\nexport type CompareFn<T = any> = (value: T, comparison: T) => boolean;\r\n\r\nclass AbpForContext {\r\n  constructor(public $implicit: any, public index: number, public count: number, public list: any[]) {}\r\n}\r\n\r\nclass RecordView {\r\n  constructor(public record: IterableChangeRecord<any>, public view: EmbeddedViewRef<AbpForContext>) {}\r\n}\r\n\r\n@Directive({\r\n  selector: '[abpFor]',\r\n})\r\nexport class ForDirective implements OnChanges {\r\n  @Input('abpForOf')\r\n  items: any[];\r\n\r\n  @Input('abpForOrderBy')\r\n  orderBy: string;\r\n\r\n  @Input('abpForOrderDir')\r\n  orderDir: 'ASC' | 'DESC';\r\n\r\n  @Input('abpForFilterBy')\r\n  filterBy: string;\r\n\r\n  @Input('abpForFilterVal')\r\n  filterVal: any;\r\n\r\n  @Input('abpForTrackBy')\r\n  trackBy;\r\n\r\n  @Input('abpForCompareBy')\r\n  compareBy: CompareFn;\r\n\r\n  @Input('abpForEmptyRef')\r\n  emptyRef: TemplateRef<any>;\r\n\r\n  private differ: IterableDiffer<any>;\r\n\r\n  private isShowEmptyRef: boolean;\r\n\r\n  get compareFn(): CompareFn {\r\n    return this.compareBy || compare;\r\n  }\r\n\r\n  get trackByFn(): TrackByFunction<any> {\r\n    return this.trackBy || ((index: number, item: any) => (item as any).id || index);\r\n  }\r\n\r\n  constructor(\r\n    private tempRef: TemplateRef<AbpForContext>,\r\n    private vcRef: ViewContainerRef,\r\n    private differs: IterableDiffers,\r\n  ) {}\r\n\r\n  private iterateOverAppliedOperations(changes: IterableChanges<any>) {\r\n    const rw: RecordView[] = [];\r\n\r\n    changes.forEachOperation((record: IterableChangeRecord<any>, previousIndex: number, currentIndex: number) => {\r\n      if (record.previousIndex == null) {\r\n        const view = this.vcRef.createEmbeddedView(\r\n          this.tempRef,\r\n          new AbpForContext(null, -1, -1, this.items),\r\n          currentIndex,\r\n        );\r\n\r\n        rw.push(new RecordView(record, view));\r\n      } else if (currentIndex == null) {\r\n        this.vcRef.remove(previousIndex);\r\n      } else {\r\n        const view = this.vcRef.get(previousIndex);\r\n        this.vcRef.move(view, currentIndex);\r\n\r\n        rw.push(new RecordView(record, view as EmbeddedViewRef<AbpForContext>));\r\n      }\r\n    });\r\n\r\n    for (let i = 0, l = rw.length; i < l; i++) {\r\n      rw[i].view.context.$implicit = rw[i].record.item;\r\n    }\r\n  }\r\n\r\n  private iterateOverAttachedViews(changes: IterableChanges<any>) {\r\n    for (let i = 0, l = this.vcRef.length; i < l; i++) {\r\n      const viewRef = this.vcRef.get(i) as EmbeddedViewRef<AbpForContext>;\r\n      viewRef.context.index = i;\r\n      viewRef.context.count = l;\r\n      viewRef.context.list = this.items;\r\n    }\r\n\r\n    changes.forEachIdentityChange((record: IterableChangeRecord<any>) => {\r\n      const viewRef = this.vcRef.get(record.currentIndex) as EmbeddedViewRef<AbpForContext>;\r\n      viewRef.context.$implicit = record.item;\r\n    });\r\n  }\r\n\r\n  private projectItems(items: any[]): void {\r\n    if (!items.length && this.emptyRef) {\r\n      this.vcRef.clear();\r\n      // tslint:disable-next-line: no-unused-expression\r\n      this.vcRef.createEmbeddedView(this.emptyRef).rootNodes;\r\n      this.isShowEmptyRef = true;\r\n      this.differ = null;\r\n\r\n      return;\r\n    }\r\n\r\n    if (this.emptyRef && this.isShowEmptyRef) {\r\n      this.vcRef.clear();\r\n      this.isShowEmptyRef = false;\r\n    }\r\n\r\n    if (!this.differ && items) {\r\n      this.differ = this.differs.find(items).create(this.trackByFn);\r\n    }\r\n\r\n    if (this.differ) {\r\n      const changes = this.differ.diff(items);\r\n\r\n      if (changes) {\r\n        this.iterateOverAppliedOperations(changes);\r\n        this.iterateOverAttachedViews(changes);\r\n      }\r\n    }\r\n  }\r\n\r\n  private sortItems(items: any[]) {\r\n    if (this.orderBy) {\r\n      items.sort((a, b) => (a[this.orderBy] > b[this.orderBy] ? 1 : a[this.orderBy] < b[this.orderBy] ? -1 : 0));\r\n    } else {\r\n      items.sort();\r\n    }\r\n  }\r\n\r\n  ngOnChanges() {\r\n    let items = clone(this.items) as any[];\r\n    if (!Array.isArray(items)) return;\r\n\r\n    const compareFn = this.compareFn;\r\n\r\n    if (typeof this.filterBy !== 'undefined' && typeof this.filterVal !== 'undefined' && this.filterVal !== '') {\r\n      items = items.filter(item => compareFn(item[this.filterBy], this.filterVal));\r\n    }\r\n\r\n    switch (this.orderDir) {\r\n      case 'ASC':\r\n        this.sortItems(items);\r\n        this.projectItems(items);\r\n        break;\r\n\r\n      case 'DESC':\r\n        this.sortItems(items);\r\n        items.reverse();\r\n        this.projectItems(items);\r\n        break;\r\n\r\n      default:\r\n        this.projectItems(items);\r\n    }\r\n  }\r\n}\r\n","export function noop() {\r\n  // tslint:disable-next-line: only-arrow-functions\r\n  const fn = function() {};\r\n  return fn;\r\n}\r\n\r\nexport function isUndefinedOrEmptyString(value: unknown): boolean {\r\n  return value === undefined || value === '';\r\n}\r\n","import {\r\n  Compiler,\r\n  Injector,\r\n  ModuleWithProviders,\r\n  NgModuleFactory,\r\n  NgModuleRef,\r\n  StaticProvider,\r\n  Type,\r\n} from '@angular/core';\r\n\r\nexport class LazyModuleFactory<T> extends NgModuleFactory<T> {\r\n  get moduleType(): Type<T> {\r\n    return this.moduleWithProviders.ngModule;\r\n  }\r\n\r\n  constructor(private moduleWithProviders: ModuleWithProviders<T>) {\r\n    super();\r\n  }\r\n\r\n  create(parentInjector: Injector | null): NgModuleRef<T> {\r\n    const injector = Injector.create({\r\n      parent: parentInjector,\r\n      providers: this.moduleWithProviders.providers as StaticProvider[],\r\n    });\r\n\r\n    const compiler = injector.get(Compiler);\r\n    const factory = compiler.compileModuleSync(this.moduleType);\r\n\r\n    return factory.create(injector);\r\n  }\r\n}\r\n","export function isNumber(value: string | number): boolean {\r\n  /* tslint:disable-next-line:triple-equals */\r\n  return value == Number(value);\r\n}\r\n","import { ABP } from '../models/common';\r\nimport { isNumber } from './number-utils';\r\n\r\nexport function mapEnumToOptions<T>(_enum: T): ABP.Option<T>[] {\r\n  const options: ABP.Option<T>[] = [];\r\n\r\n  for (const member in _enum)\r\n    if (!isNumber(member))\r\n      options.push({\r\n        key: member,\r\n        value: _enum[member],\r\n      });\r\n\r\n  return options;\r\n}\r\n","// tslint:disable: no-bitwise\r\n\r\nexport function uuid(a?: any): string {\r\n  return a\r\n    ? (a ^ ((Math.random() * 16) >> (a / 4))).toString(16)\r\n    : ('' + 1e7 + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, uuid);\r\n}\r\n\r\nexport function generateHash(value: string): number {\r\n  let hashed = 0;\r\n  let charCode: number;\r\n\r\n  for (let i = 0; i < value.length; i++) {\r\n    charCode = value.charCodeAt(i);\r\n    hashed = (hashed << 5) - hashed + charCode;\r\n    hashed |= 0;\r\n  }\r\n  return hashed;\r\n}\r\n\r\nexport function generatePassword(length = 8) {\r\n  length = Math.min(Math.max(4, length), 128);\r\n\r\n  const lowers = 'abcdefghijklmnopqrstuvwxyz';\r\n  const uppers = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n  const numbers = '0123456789';\r\n  const specials = '!@#$%&*()_+{}<>?[]./';\r\n  const all = lowers + uppers + numbers + specials;\r\n\r\n  const getRandom = (chrSet: string) => chrSet[Math.floor(Math.random() * chrSet.length)];\r\n\r\n  const password = Array({ length });\r\n  password[0] = getRandom(lowers);\r\n  password[1] = getRandom(uppers);\r\n  password[2] = getRandom(numbers);\r\n  password[3] = getRandom(specials);\r\n\r\n  for (let i = 4; i < length; i++) {\r\n    password[i] = getRandom(all);\r\n  }\r\n\r\n  return password.sort(() => 0.5 - Math.random()).join('');\r\n}\r\n","// Different locales from .NET\r\n// Key is .NET locale, value is Angular locale\r\n\r\nexport default {\r\n  'ar-sa': 'ar-SA',\r\n  'ca-ES-valencia': 'ca-ES-VALENCIA',\r\n  'de-de': 'de',\r\n  'es-ES': 'es',\r\n  'en-US': 'en',\r\n  'fil-Latn': 'en',\r\n  'ku-Arab': 'en',\r\n  'ky-Cyrl': 'en',\r\n  'mi-Latn': 'en',\r\n  'prs-Arab': 'en',\r\n  'qut-Latn': 'en',\r\n  nso: 'en',\r\n  quz: 'en',\r\n  'fr-FR': 'fr',\r\n  'gd-Latn': 'gd',\r\n  'ha-Latn': 'ha',\r\n  'ig-Latn': 'ig',\r\n  'it-it': 'it',\r\n  'mn-Cyrl': 'mn',\r\n  'pt-BR': 'pt',\r\n  'sd-Arab': 'pa-Arab',\r\n  'sr-Cyrl-RS': 'sr-Cyrl',\r\n  'sr-Latn-RS': 'sr-Latn',\r\n  'tg-Cyrl': 'tg',\r\n  'tk-Latn': 'tk',\r\n  'tt-Cyrl': 'tt',\r\n  'ug-Arab': 'ug',\r\n  'yo-Latn': 'yo',\r\n};\r\n","import { InjectionToken } from '@angular/core';\r\nimport { ABP } from '../models/common';\r\n\r\nexport const CORE_OPTIONS = new InjectionToken<ABP.Root>('CORE_OPTIONS');\r\n","import { registerLocaleData } from '@angular/common';\r\nimport { Injector } from '@angular/core';\r\nimport { Store } from '@ngxs/store';\r\nimport { OAuthService } from 'angular-oauth2-oidc';\r\nimport { tap } from 'rxjs/operators';\r\nimport { GetAppConfiguration } from '../actions/config.actions';\r\nimport differentLocales from '../constants/different-locales';\r\nimport { ABP } from '../models/common';\r\nimport { ConfigState } from '../states/config.state';\r\nimport { CORE_OPTIONS } from '../tokens/options.token';\r\n\r\nexport function getInitialData(injector: Injector) {\r\n  const fn = () => {\r\n    const store: Store = injector.get(Store);\r\n    const { skipGetAppConfiguration } = injector.get(CORE_OPTIONS) as ABP.Root;\r\n\r\n    if (skipGetAppConfiguration) return;\r\n\r\n    return store\r\n      .dispatch(new GetAppConfiguration())\r\n      .pipe(tap(res => checkAccessToken(store, injector)))\r\n      .toPromise();\r\n  };\r\n\r\n  return fn;\r\n}\r\n\r\nfunction checkAccessToken(store: Store, injector: Injector) {\r\n  const oAuth = injector.get(OAuthService);\r\n  if (oAuth.hasValidAccessToken() && !store.selectSnapshot(ConfigState.getDeep('currentUser.id'))) {\r\n    oAuth.logOut();\r\n  }\r\n}\r\n\r\nexport function localeInitializer(injector: Injector) {\r\n  const fn = () => {\r\n    const store: Store = injector.get(Store);\r\n\r\n    const lang = store.selectSnapshot(state => state.SessionState.language) || 'en';\r\n\r\n    return new Promise((resolve, reject) => {\r\n      registerLocale(lang).then(() => resolve('resolved'), reject);\r\n    });\r\n  };\r\n\r\n  return fn;\r\n}\r\n\r\nexport function registerLocale(locale: string) {\r\n  return import(\r\n    /* webpackInclude: /(af|am|ar-SA|as|az-Latn|be|bg|bn-BD|bn-IN|bs|ca|ca-ES-VALENCIA|cs|cy|da|de|de|el|en-GB|en|es|en|es-US|es-MX|et|eu|fa|fi|en|fr|fr|fr-CA|ga|gd|gl|gu|ha|he|hi|hr|hu|hy|id|ig|is|it|it|ja|ka|kk|km|kn|ko|kok|en|en|lb|lt|lv|en|mk|ml|mn|mr|ms|mt|nb|ne|nl|nl-BE|nn|en|or|pa|pa-Arab|pl|en|pt|pt-PT|en|en|ro|ru|rw|pa-Arab|si|sk|sl|sq|sr-Cyrl-BA|sr-Cyrl|sr-Latn|sv|sw|ta|te|tg|th|ti|tk|tn|tr|tt|ug|uk|ur|uz-Latn|vi|wo|xh|yo|zh-Hans|zh-Hant|zu)\\.js$/ */\r\n    `@angular/common/locales/${differentLocales[locale] || locale}.js`\r\n  ).then(module => {\r\n    registerLocaleData(module.default);\r\n  });\r\n}\r\n","export class CrossOriginStrategy {\r\n  constructor(public crossorigin: 'anonymous' | 'use-credentials', public integrity?: string) {}\r\n\r\n  setCrossOrigin<T extends HTMLElement>(element: T) {\r\n    if (this.integrity) element.setAttribute('integrity', this.integrity);\r\n    element.setAttribute('crossorigin', this.crossorigin);\r\n  }\r\n}\r\n\r\nexport const CROSS_ORIGIN_STRATEGY = {\r\n  Anonymous(integrity?: string) {\r\n    return new CrossOriginStrategy('anonymous', integrity);\r\n  },\r\n  UseCredentials(integrity?: string) {\r\n    return new CrossOriginStrategy('use-credentials', integrity);\r\n  },\r\n};\r\n","export class DomStrategy {\r\n  constructor(\r\n    public target: HTMLElement = document.head,\r\n    public position: InsertPosition = 'beforeend',\r\n  ) {}\r\n\r\n  insertElement<T extends HTMLElement>(element: T) {\r\n    this.target.insertAdjacentElement(this.position, element);\r\n  }\r\n}\r\n\r\nexport const DOM_STRATEGY = {\r\n  AfterElement(element: HTMLElement) {\r\n    return new DomStrategy(element, 'afterend');\r\n  },\r\n  AppendToBody() {\r\n    return new DomStrategy(document.body, 'beforeend');\r\n  },\r\n  AppendToHead() {\r\n    return new DomStrategy(document.head, 'beforeend');\r\n  },\r\n  BeforeElement(element: HTMLElement) {\r\n    return new DomStrategy(element, 'beforebegin');\r\n  },\r\n  PrependToHead() {\r\n    return new DomStrategy(document.head, 'afterbegin');\r\n  },\r\n};\r\n","import { Observable, Observer } from 'rxjs';\r\nimport { CrossOriginStrategy, CROSS_ORIGIN_STRATEGY } from '../strategies/cross-origin.strategy';\r\nimport { DomStrategy, DOM_STRATEGY } from '../strategies/dom.strategy';\r\n\r\nexport function fromLazyLoad<T extends Event>(\r\n  element: HTMLScriptElement | HTMLLinkElement,\r\n  domStrategy: DomStrategy = DOM_STRATEGY.AppendToHead(),\r\n  crossOriginStrategy: CrossOriginStrategy = CROSS_ORIGIN_STRATEGY.Anonymous(),\r\n): Observable<T> {\r\n  crossOriginStrategy.setCrossOrigin(element);\r\n  domStrategy.insertElement(element);\r\n\r\n  return new Observable((observer: Observer<T>) => {\r\n    element.onload = (event: T) => {\r\n      clearCallbacks(element);\r\n      observer.next(event);\r\n      observer.complete();\r\n    };\r\n\r\n    const handleError = createErrorHandler(observer, element);\r\n\r\n    element.onerror = handleError;\r\n    element.onabort = handleError;\r\n    element.onemptied = handleError;\r\n    element.onstalled = handleError;\r\n    element.onsuspend = handleError;\r\n\r\n    return () => {\r\n      clearCallbacks(element);\r\n      observer.complete();\r\n    };\r\n  });\r\n}\r\n\r\nfunction createErrorHandler(observer: Observer<Event>, element: HTMLElement) {\r\n  /* tslint:disable-next-line:only-arrow-functions */\r\n  return function(event: Event | string) {\r\n    clearCallbacks(element);\r\n    element.parentNode.removeChild(element);\r\n    observer.error(event);\r\n  };\r\n}\r\n\r\nfunction clearCallbacks(element: HTMLElement) {\r\n  element.onload = null;\r\n  element.onerror = null;\r\n  element.onabort = null;\r\n  element.onemptied = null;\r\n  element.onstalled = null;\r\n  element.onsuspend = null;\r\n}\r\n","import { ApplicationConfiguration } from '../models/application-configuration';\r\n\r\n// This will not be necessary when only Angukar 9.1+ is supported\r\nexport function getLocaleDirection(locale: string): 'ltr' | 'rtl' {\r\n  return /^(ar(-[A-Z]{2})?|ckb(-IR)?|fa(-AF)?|he|ks|lrc(-IQ)?|mzn|pa-Arab|ps(-PK)?|sd|ug|ur(-IN)?|uz-Arab|yi)$/.test(\r\n    locale,\r\n  )\r\n    ? 'rtl'\r\n    : 'ltr';\r\n}\r\n\r\nexport function createLocalizer(localization: ApplicationConfiguration.Localization) {\r\n  return (resourceName: string, key: string, defaultValue: string) => {\r\n    if (resourceName === '_') return key;\r\n\r\n    const resource = localization.values[resourceName];\r\n\r\n    if (!resource) return defaultValue;\r\n\r\n    return resource[key] || defaultValue;\r\n  };\r\n}\r\n\r\nexport function createLocalizerWithFallback(localization: ApplicationConfiguration.Localization) {\r\n  const findLocalization = createLocalizationFinder(localization);\r\n\r\n  return (resourceNames: string[], keys: string[], defaultValue: string) => {\r\n    const { localized } = findLocalization(resourceNames, keys);\r\n    return localized || defaultValue;\r\n  };\r\n}\r\n\r\nexport function createLocalizationPipeKeyGenerator(\r\n  localization: ApplicationConfiguration.Localization,\r\n) {\r\n  const findLocalization = createLocalizationFinder(localization);\r\n\r\n  return (resourceNames: string[], keys: string[], defaultKey: string) => {\r\n    const { resourceName, key } = findLocalization(resourceNames, keys);\r\n    return !resourceName ? defaultKey : resourceName === '_' ? key : `${resourceName}::${key}`;\r\n  };\r\n}\r\n\r\nfunction createLocalizationFinder(localization: ApplicationConfiguration.Localization) {\r\n  const localize = createLocalizer(localization);\r\n\r\n  return (resourceNames: string[], keys: string[]) => {\r\n    resourceNames = resourceNames.concat(localization.defaultResourceName).filter(Boolean);\r\n\r\n    const resourceCount = resourceNames.length;\r\n    const keyCount = keys.length;\r\n\r\n    for (let i = 0; i < resourceCount; i++) {\r\n      const resourceName = resourceNames[i];\r\n\r\n      for (let j = 0; j < keyCount; j++) {\r\n        const key = keys[j];\r\n        const localized = localize(resourceName, key, null);\r\n        if (localized) return { resourceName, key, localized };\r\n      }\r\n    }\r\n\r\n    return { resourceName: undefined, key: undefined, localized: undefined };\r\n  };\r\n}\r\n","import {\r\n  ChangeDetectorRef,\r\n  Directive,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  Self,\r\n} from '@angular/core';\r\nimport { FormControl, FormGroup, FormGroupDirective } from '@angular/forms';\r\nimport { fromEvent } from 'rxjs';\r\nimport { debounceTime, filter } from 'rxjs/operators';\r\nimport { takeUntilDestroy } from '../utils';\r\n\r\ntype Controls = { [key: string]: FormControl } | FormGroup[];\r\n\r\n@Directive({\r\n  // tslint:disable-next-line: directive-selector\r\n  selector: 'form[ngSubmit][formGroup]',\r\n})\r\nexport class FormSubmitDirective implements OnInit, OnDestroy {\r\n  @Input()\r\n  debounce = 200;\r\n\r\n  @Input()\r\n  notValidateOnSubmit: string | boolean;\r\n\r\n  @Output() readonly ngSubmit = new EventEmitter();\r\n\r\n  executedNgSubmit = false;\r\n\r\n  constructor(\r\n    @Self() private formGroupDirective: FormGroupDirective,\r\n    private host: ElementRef<HTMLFormElement>,\r\n    private cdRef: ChangeDetectorRef,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.formGroupDirective.ngSubmit.pipe(takeUntilDestroy(this)).subscribe(() => {\r\n      this.markAsDirty();\r\n      this.executedNgSubmit = true;\r\n    });\r\n\r\n    fromEvent(this.host.nativeElement as HTMLElement, 'keyup')\r\n      .pipe(\r\n        debounceTime(this.debounce),\r\n        filter((key: KeyboardEvent) => key && key.key === 'Enter'),\r\n        takeUntilDestroy(this),\r\n      )\r\n      .subscribe(() => {\r\n        if (!this.executedNgSubmit) {\r\n          this.host.nativeElement.dispatchEvent(new Event('submit', { bubbles: true, cancelable: true }));\r\n        }\r\n\r\n        this.executedNgSubmit = false;\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {}\r\n\r\n  markAsDirty() {\r\n    const { form } = this.formGroupDirective;\r\n\r\n    setDirty(form.controls as { [key: string]: FormControl });\r\n    form.markAsDirty();\r\n\r\n    this.cdRef.detectChanges();\r\n  }\r\n}\r\n\r\nfunction setDirty(controls: Controls) {\r\n  if (Array.isArray(controls)) {\r\n    controls.forEach(group => {\r\n      setDirty(group.controls as { [key: string]: FormControl });\r\n    });\r\n    return;\r\n  }\r\n\r\n  Object.keys(controls).forEach(key => {\r\n    controls[key].markAsDirty();\r\n    controls[key].updateValueAndValidity();\r\n  });\r\n}\r\n","import { Directive, Output, EventEmitter, ElementRef, AfterViewInit } from '@angular/core';\r\n\r\n@Directive({ selector: '[abpInit]' })\r\nexport class InitDirective implements AfterViewInit {\r\n  @Output('abpInit') readonly init = new EventEmitter<ElementRef<any>>();\r\n\r\n  constructor(private elRef: ElementRef) {}\r\n\r\n  ngAfterViewInit() {\r\n    this.init.emit(this.elRef);\r\n  }\r\n}\r\n","import { HttpClient, HttpRequest } from '@angular/common/http';\r\nimport { Injectable, Inject } from '@angular/core';\r\nimport { Store } from '@ngxs/store';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { RestOccurError } from '../actions/rest.actions';\r\nimport { Rest } from '../models/rest';\r\nimport { ConfigState } from '../states/config.state';\r\nimport { isUndefinedOrEmptyString } from '../utils/common-utils';\r\nimport { ABP } from '../models/common';\r\nimport { CORE_OPTIONS } from '../tokens/options.token';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class RestService {\r\n  constructor(\r\n    @Inject(CORE_OPTIONS) private options: ABP.Root,\r\n    private http: HttpClient,\r\n    private store: Store,\r\n  ) {}\r\n\r\n  private getApiFromStore(apiName: string): string {\r\n    return this.store.selectSnapshot(ConfigState.getApiUrl(apiName));\r\n  }\r\n\r\n  handleError(err: any): Observable<any> {\r\n    this.store.dispatch(new RestOccurError(err));\r\n    return throwError(err);\r\n  }\r\n\r\n  // TODO: Deprecate service or improve interface in v3.0\r\n  request<T, R>(\r\n    request: HttpRequest<T> | Rest.Request<T>,\r\n    config?: Rest.Config,\r\n    api?: string,\r\n  ): Observable<R> {\r\n    config = config || ({} as Rest.Config);\r\n    api = api || this.getApiFromStore(config.apiName);\r\n    const { method, params, ...options } = request;\r\n    const { observe = Rest.Observe.Body, skipHandleError } = config;\r\n\r\n    return this.http\r\n      .request<R>(method, api + request.url, {\r\n        observe,\r\n        ...(params && {\r\n          params: Object.keys(params).reduce((acc, key) => {\r\n            const value = params[key];\r\n\r\n            if (isUndefinedOrEmptyString(value)) return acc;\r\n            if (value === null && !this.options.sendNullsAsQueryParam) return acc;\r\n\r\n            acc[key] = value;\r\n            return acc;\r\n          }, {}),\r\n        }),\r\n        ...options,\r\n      } as any)\r\n      .pipe(catchError(err => (skipHandleError ? throwError(err) : this.handleError(err))));\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { RestService } from './rest.service';\r\nimport { Profile, Rest } from '../models';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ProfileService {\r\n  apiName = 'AbpIdentity';\r\n\r\n  constructor(private rest: RestService) {}\r\n\r\n  get(): Observable<Profile.Response> {\r\n    const request: Rest.Request<null> = {\r\n      method: 'GET',\r\n      url: '/api/identity/my-profile',\r\n    };\r\n\r\n    return this.rest.request<null, Profile.Response>(request, { apiName: this.apiName });\r\n  }\r\n\r\n  update(body: Profile.Response): Observable<Profile.Response> {\r\n    const request: Rest.Request<Profile.Response> = {\r\n      method: 'PUT',\r\n      url: '/api/identity/my-profile',\r\n      body,\r\n    };\r\n\r\n    return this.rest.request<Profile.Response, Profile.Response>(request, {\r\n      apiName: this.apiName,\r\n    });\r\n  }\r\n\r\n  changePassword(\r\n    body: Profile.ChangePasswordRequest,\r\n    skipHandleError: boolean = false,\r\n  ): Observable<null> {\r\n    const request: Rest.Request<Profile.ChangePasswordRequest> = {\r\n      method: 'POST',\r\n      url: '/api/identity/my-profile/change-password',\r\n      body,\r\n    };\r\n\r\n    return this.rest.request<Profile.ChangePasswordRequest, null>(request, {\r\n      skipHandleError,\r\n      apiName: this.apiName,\r\n    });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Action, Selector, State, StateContext } from '@ngxs/store';\r\nimport { tap } from 'rxjs/operators';\r\nimport { ChangePassword, GetProfile, UpdateProfile } from '../actions/profile.actions';\r\nimport { Profile } from '../models/profile';\r\nimport { ProfileService } from '../services/profile.service';\r\n\r\n@State<Profile.State>({\r\n  name: 'ProfileState',\r\n  defaults: {} as Profile.State,\r\n})\r\n@Injectable()\r\nexport class ProfileState {\r\n  @Selector()\r\n  static getProfile({ profile }: Profile.State): Profile.Response {\r\n    return profile;\r\n  }\r\n\r\n  constructor(private profileService: ProfileService) {}\r\n\r\n  @Action(GetProfile)\r\n  getProfile({ patchState }: StateContext<Profile.State>) {\r\n    return this.profileService.get().pipe(\r\n      tap(profile =>\r\n        patchState({\r\n          profile,\r\n        }),\r\n      ),\r\n    );\r\n  }\r\n\r\n  @Action(UpdateProfile)\r\n  updateProfile({ patchState }: StateContext<Profile.State>, { payload }: UpdateProfile) {\r\n    return this.profileService.update(payload).pipe(\r\n      tap(profile =>\r\n        patchState({\r\n          profile,\r\n        }),\r\n      ),\r\n    );\r\n  }\r\n\r\n  @Action(ChangePassword)\r\n  changePassword(_, { payload }: ChangePassword) {\r\n    return this.profileService.changePassword(payload, true);\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  ElementRef,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Renderer2,\r\n  ViewContainerRef,\r\n  TemplateRef,\r\n  Optional,\r\n  SimpleChanges,\r\n  OnChanges,\r\n} from '@angular/core';\r\nimport { Store } from '@ngxs/store';\r\nimport { ConfigState } from '../states';\r\nimport { takeUntilDestroy } from '../utils';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Directive({\r\n  selector: '[abpPermission]',\r\n})\r\nexport class PermissionDirective implements OnInit, OnDestroy, OnChanges {\r\n  @Input('abpPermission') condition: string;\r\n\r\n  subscription: Subscription;\r\n\r\n  constructor(\r\n    private elRef: ElementRef,\r\n    private renderer: Renderer2,\r\n    private store: Store,\r\n    @Optional() private templateRef: TemplateRef<any>,\r\n    private vcRef: ViewContainerRef,\r\n  ) {}\r\n\r\n  private check() {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n\r\n    this.subscription = this.store\r\n      .select(ConfigState.getGrantedPolicy(this.condition))\r\n      .pipe(takeUntilDestroy(this))\r\n      .subscribe(isGranted => {\r\n        if (this.templateRef && isGranted) {\r\n          this.vcRef.clear();\r\n          this.vcRef.createEmbeddedView(this.templateRef);\r\n        } else if (this.templateRef && !isGranted) {\r\n          this.vcRef.clear();\r\n        } else if (!isGranted && !this.templateRef) {\r\n          this.renderer.removeChild((this.elRef.nativeElement as HTMLElement).parentElement, this.elRef.nativeElement);\r\n        }\r\n      });\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.templateRef && !this.condition) {\r\n      this.vcRef.createEmbeddedView(this.templateRef);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {}\r\n\r\n  ngOnChanges({ condition }: SimpleChanges) {\r\n    if ((condition || { currentValue: null }).currentValue) {\r\n      this.check();\r\n    }\r\n  }\r\n}\r\n","import {\r\n  ComponentFactoryResolver,\r\n  Directive,\r\n  Injector,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  Type,\r\n  ViewContainerRef,\r\n} from '@angular/core';\r\nimport { Store } from '@ngxs/store';\r\nimport { Subscription } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\nimport { ABP } from '../models/common';\r\nimport { ReplaceableComponents } from '../models/replaceable-components';\r\nimport { ReplaceableComponentsState } from '../states/replaceable-components.state';\r\nimport { takeUntilDestroy } from '../utils/rxjs-utils';\r\nimport compare from 'just-compare';\r\nimport snq from 'snq';\r\n\r\n@Directive({ selector: '[abpReplaceableTemplate]' })\r\nexport class ReplaceableTemplateDirective implements OnInit, OnDestroy, OnChanges {\r\n  @Input('abpReplaceableTemplate')\r\n  data: ReplaceableComponents.ReplaceableTemplateDirectiveInput<any, any>;\r\n\r\n  providedData = { inputs: {}, outputs: {} } as ReplaceableComponents.ReplaceableTemplateData<\r\n    any,\r\n    any\r\n  >;\r\n\r\n  context = {} as any;\r\n\r\n  externalComponent: Type<any>;\r\n\r\n  defaultComponentRef: any;\r\n\r\n  defaultComponentSubscriptions = {} as ABP.Dictionary<Subscription>;\r\n\r\n  initialized = false;\r\n\r\n  constructor(\r\n    private injector: Injector,\r\n    private templateRef: TemplateRef<any>,\r\n    private cfRes: ComponentFactoryResolver,\r\n    private vcRef: ViewContainerRef,\r\n    private store: Store,\r\n  ) {\r\n    this.context = {\r\n      initTemplate: ref => {\r\n        this.resetDefaultComponent();\r\n        this.defaultComponentRef = ref;\r\n        this.setDefaultComponentInputs();\r\n      },\r\n    };\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.store\r\n      .select(ReplaceableComponentsState.getComponent(this.data.componentKey))\r\n      .pipe(\r\n        filter(\r\n          (res = {} as ReplaceableComponents.ReplaceableComponent) =>\r\n            !this.initialized || !compare(res.component, this.externalComponent),\r\n        ),\r\n        takeUntilDestroy(this),\r\n      )\r\n      .subscribe((res = {} as ReplaceableComponents.ReplaceableComponent) => {\r\n        this.vcRef.clear();\r\n        this.externalComponent = res.component;\r\n        if (this.defaultComponentRef) {\r\n          this.resetDefaultComponent();\r\n        }\r\n\r\n        if (res.component) {\r\n          this.setProvidedData();\r\n          const customInjector = Injector.create({\r\n            providers: [{ provide: 'REPLACEABLE_DATA', useValue: this.providedData }],\r\n            parent: this.injector,\r\n          });\r\n          this.vcRef.createComponent(\r\n            this.cfRes.resolveComponentFactory(res.component),\r\n            0,\r\n            customInjector,\r\n          );\r\n        } else {\r\n          this.vcRef.createEmbeddedView(this.templateRef, this.context);\r\n        }\r\n\r\n        this.initialized = true;\r\n      });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (snq(() => changes.data.currentValue.inputs) && this.defaultComponentRef) {\r\n      this.setDefaultComponentInputs();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {}\r\n\r\n  setDefaultComponentInputs() {\r\n    if (!this.defaultComponentRef || (!this.data.inputs && !this.data.outputs)) return;\r\n\r\n    if (this.data.inputs) {\r\n      for (const key in this.data.inputs) {\r\n        if (this.data.inputs.hasOwnProperty(key)) {\r\n          if (!compare(this.defaultComponentRef[key], this.data.inputs[key].value)) {\r\n            this.defaultComponentRef[key] = this.data.inputs[key].value;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.data.outputs) {\r\n      for (const key in this.data.outputs) {\r\n        if (this.data.outputs.hasOwnProperty(key)) {\r\n          if (!this.defaultComponentSubscriptions[key]) {\r\n            this.defaultComponentSubscriptions[key] = this.defaultComponentRef[key].subscribe(\r\n              value => {\r\n                this.data.outputs[key](value);\r\n              },\r\n            );\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  setProvidedData() {\r\n    this.providedData = { ...this.data, inputs: {} };\r\n\r\n    if (!this.data.inputs) return;\r\n    Object.defineProperties(this.providedData.inputs, {\r\n      ...Object.keys(this.data.inputs).reduce(\r\n        (acc, key) => ({\r\n          ...acc,\r\n          [key]: {\r\n            enumerable: true,\r\n            configurable: true,\r\n            get: () => this.data.inputs[key].value,\r\n            ...(this.data.inputs[key].twoWay && {\r\n              set: newValue => {\r\n                this.data.inputs[key].value = newValue;\r\n                this.data.outputs[`${key}Change`](newValue);\r\n              },\r\n            }),\r\n          },\r\n        }),\r\n        {},\r\n      ),\r\n    });\r\n  }\r\n\r\n  resetDefaultComponent() {\r\n    Object.keys(this.defaultComponentSubscriptions).forEach(key => {\r\n      this.defaultComponentSubscriptions[key].unsubscribe();\r\n    });\r\n    this.defaultComponentSubscriptions = {} as ABP.Dictionary<Subscription>;\r\n    this.defaultComponentRef = null;\r\n  }\r\n}\r\n","import { Directive, ElementRef, EventEmitter, OnInit, Output, OnDestroy } from '@angular/core';\r\nimport { fromEvent } from 'rxjs';\r\nimport { takeUntilDestroy } from '../utils/rxjs-utils';\r\n\r\n@Directive({\r\n  // tslint:disable-next-line: directive-selector\r\n  selector: '[click.stop]',\r\n})\r\nexport class StopPropagationDirective implements OnInit, OnDestroy {\r\n  @Output('click.stop') readonly stopPropEvent = new EventEmitter<MouseEvent>();\r\n\r\n  constructor(private el: ElementRef) {}\r\n\r\n  ngOnInit(): void {\r\n    fromEvent(this.el.nativeElement, 'click')\r\n      .pipe(takeUntilDestroy(this))\r\n      .subscribe((event: MouseEvent) => {\r\n        event.stopPropagation();\r\n        this.stopPropEvent.emit(event);\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {}\r\n}\r\n","import { Directive, Input, Optional, ElementRef, Renderer2, AfterViewInit } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport snq from 'snq';\r\n\r\n/**\r\n *\r\n * @deprecated To be deleted in v3.3\r\n */\r\n@Directive({\r\n  selector: '[abpVisibility]',\r\n})\r\nexport class VisibilityDirective implements AfterViewInit {\r\n  @Input('abpVisibility')\r\n  focusedElement: HTMLElement;\r\n\r\n  completed$ = new Subject<boolean>();\r\n\r\n  constructor(@Optional() private elRef: ElementRef, private renderer: Renderer2) {}\r\n\r\n  ngAfterViewInit() {\r\n    if (!this.focusedElement && this.elRef) {\r\n      this.focusedElement = this.elRef.nativeElement;\r\n    }\r\n\r\n    let observer: MutationObserver;\r\n    observer = new MutationObserver(mutations => {\r\n      mutations.forEach(mutation => {\r\n        if (!mutation.target) return;\r\n\r\n        const htmlNodes = snq(\r\n          () => Array.from(mutation.target.childNodes).filter(node => node instanceof HTMLElement),\r\n          [],\r\n        );\r\n\r\n        if (!htmlNodes.length) {\r\n          this.removeFromDOM();\r\n        }\r\n      });\r\n    });\r\n\r\n    observer.observe(this.focusedElement, {\r\n      childList: true,\r\n    });\r\n\r\n    setTimeout(() => {\r\n      const htmlNodes = snq(\r\n        () =>\r\n          Array.from(this.focusedElement.childNodes).filter(node => node instanceof HTMLElement),\r\n        [],\r\n      );\r\n\r\n      if (!htmlNodes.length) this.removeFromDOM();\r\n    }, 0);\r\n\r\n    this.completed$.subscribe(() => observer.disconnect());\r\n  }\r\n\r\n  disconnect() {\r\n    this.completed$.next();\r\n    this.completed$.complete();\r\n  }\r\n\r\n  removeFromDOM() {\r\n    if (!this.elRef.nativeElement) return;\r\n\r\n    this.renderer.removeChild(this.elRef.nativeElement.parentElement, this.elRef.nativeElement);\r\n    this.disconnect();\r\n  }\r\n}\r\n","import { Injectable, Optional } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ABP } from '../models';\r\nimport { RoutesService } from '../services/routes.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class RoutesHandler {\r\n  constructor(private routes: RoutesService, @Optional() private router: Router) {\r\n    this.addRoutes();\r\n  }\r\n\r\n  addRoutes() {\r\n    this.router?.config?.forEach(({ path = '', data }) => {\r\n      if (!data?.routes) return;\r\n\r\n      if (Array.isArray(data.routes)) {\r\n        this.routes.add(data.routes);\r\n        return;\r\n      }\r\n\r\n      const routes = flatRoutes([{ path, ...data.routes }], { path: '' });\r\n      this.routes.add(routes);\r\n    });\r\n  }\r\n}\r\n\r\nfunction flatRoutes(routes: RouteDef[], parent: any) {\r\n  if (!routes) return [];\r\n\r\n  return routes.reduce((acc, route) => {\r\n    const { children, ...current } = {\r\n      ...route,\r\n      parentName: parent.name,\r\n      path: (parent.path + '/' + route.path).replace(/\\/\\//g, '/'),\r\n    };\r\n\r\n    acc.push(current, ...flatRoutes(children, current));\r\n\r\n    return acc;\r\n  }, []);\r\n}\r\n\r\ntype RouteDef = ABP.Route & { children: RouteDef[] };\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpInterceptor, HttpHandler, HttpRequest } from '@angular/common/http';\r\nimport { OAuthService } from 'angular-oauth2-oidc';\r\nimport { Store } from '@ngxs/store';\r\nimport { SessionState } from '../states';\r\nimport { StartLoader, StopLoader } from '../actions/loader.actions';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class ApiInterceptor implements HttpInterceptor {\r\n  constructor(private oAuthService: OAuthService, private store: Store) {}\r\n\r\n  intercept(request: HttpRequest<any>, next: HttpHandler) {\r\n    this.store.dispatch(new StartLoader(request));\r\n\r\n    const headers = {} as any;\r\n\r\n    const token = this.oAuthService.getAccessToken();\r\n    if (!request.headers.has('Authorization') && token) {\r\n      headers['Authorization'] = `Bearer ${token}`;\r\n    }\r\n\r\n    const lang = this.store.selectSnapshot(SessionState.getLanguage);\r\n    if (!request.headers.has('Accept-Language') && lang) {\r\n      headers['Accept-Language'] = lang;\r\n    }\r\n\r\n    const tenant = this.store.selectSnapshot(SessionState.getTenant);\r\n    if (!request.headers.has('__tenant') && tenant) {\r\n      headers['__tenant'] = tenant.id;\r\n    }\r\n\r\n    return next\r\n      .handle(\r\n        request.clone({\r\n          setHeaders: headers,\r\n        }),\r\n      )\r\n      .pipe(finalize(() => this.store.dispatch(new StopLoader(request))));\r\n  }\r\n}\r\n","import { Injectable, Pipe, PipeTransform } from '@angular/core';\r\nimport { Store } from '@ngxs/store';\r\nimport { Config } from '../models';\r\nimport { ConfigState } from '../states';\r\n\r\n@Injectable()\r\n@Pipe({\r\n  name: 'abpLocalization',\r\n})\r\nexport class LocalizationPipe implements PipeTransform {\r\n  constructor(private store: Store) {}\r\n\r\n  transform(\r\n    value: string | Config.LocalizationWithDefault = '',\r\n    ...interpolateParams: string[]\r\n  ): string {\r\n    return this.store.selectSnapshot(\r\n      ConfigState.getLocalization(\r\n        value,\r\n        ...interpolateParams.reduce(\r\n          (acc, val) => (Array.isArray(val) ? [...acc, ...val] : [...acc, val]),\r\n          [],\r\n        ),\r\n      ),\r\n    );\r\n  }\r\n}\r\n\r\n@Injectable()\r\n@Pipe({\r\n  name: 'abpLocalization',\r\n})\r\nexport class MockLocalizationPipe implements PipeTransform {\r\n  transform(value: string | Config.LocalizationWithDefault = '', ..._: string[]) {\r\n    return typeof value === 'string' ? value : value.defaultValue;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { LocalizationPipe } from './pipes/localization.pipe';\r\n\r\n@NgModule({\r\n  exports: [LocalizationPipe],\r\n  declarations: [LocalizationPipe],\r\n})\r\nexport class LocalizationModule {}\r\n","import { Injectable, Pipe, PipeTransform } from '@angular/core';\r\nexport type SortOrder = 'asc' | 'desc';\r\n@Injectable()\r\n@Pipe({\r\n  name: 'abpSort',\r\n})\r\nexport class SortPipe implements PipeTransform {\r\n  transform(\r\n    value: any[],\r\n    sortOrder: SortOrder | string = 'asc',\r\n    sortKey?: string,\r\n  ): any {\r\n    sortOrder = sortOrder && (sortOrder.toLowerCase() as any);\r\n\r\n    if (!value || (sortOrder !== 'asc' && sortOrder !== 'desc')) return value;\r\n\r\n    let numberArray = [];\r\n    let stringArray = [];\r\n\r\n    if (!sortKey) {\r\n      numberArray = value.filter(item => typeof item === 'number').sort();\r\n      stringArray = value.filter(item => typeof item === 'string').sort();\r\n    } else {\r\n      numberArray = value\r\n        .filter(item => typeof item[sortKey] === 'number')\r\n        .sort((a, b) => a[sortKey] - b[sortKey]);\r\n      stringArray = value\r\n        .filter(item => typeof item[sortKey] === 'string')\r\n        .sort((a, b) => {\r\n          if (a[sortKey] < b[sortKey]) return -1;\r\n          else if (a[sortKey] > b[sortKey]) return 1;\r\n          else return 0;\r\n        });\r\n    }\r\n    const sorted = [\r\n      ...numberArray,\r\n      ...stringArray,\r\n      ...value.filter(\r\n        item =>\r\n          typeof (sortKey ? item[sortKey] : item) !== 'number' &&\r\n          typeof (sortKey ? item[sortKey] : item) !== 'string',\r\n      ),\r\n    ];\r\n    return sortOrder === 'asc' ? sorted : sorted.reverse();\r\n  }\r\n}\r\n","import { Inject, Injectable, InjectionToken } from '@angular/core';\r\nimport {\r\n  actionMatcher,\r\n  InitState,\r\n  NgxsNextPluginFn,\r\n  NgxsPlugin,\r\n  setValue,\r\n  UpdateState,\r\n} from '@ngxs/store';\r\nimport { ABP } from '../models/common';\r\n\r\nexport const NGXS_CONFIG_PLUGIN_OPTIONS = new InjectionToken('NGXS_CONFIG_PLUGIN_OPTIONS');\r\n\r\n@Injectable()\r\nexport class ConfigPlugin implements NgxsPlugin {\r\n  private initialized = false;\r\n\r\n  constructor(@Inject(NGXS_CONFIG_PLUGIN_OPTIONS) private options: ABP.Root) {}\r\n\r\n  handle(state: any, event: any, next: NgxsNextPluginFn) {\r\n    const matches = actionMatcher(event);\r\n    const isInitAction = matches(InitState) || matches(UpdateState);\r\n\r\n    if (isInitAction && !this.initialized) {\r\n      state = setValue(state, 'ConfigState', {\r\n        ...(state.ConfigState && { ...state.ConfigState }),\r\n        ...this.options,\r\n      });\r\n\r\n      this.initialized = true;\r\n    }\r\n\r\n    return next(state, event);\r\n  }\r\n}\r\n","import { Injectable, Injector, NgZone, Optional, SkipSelf } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Router } from '@angular/router';\r\nimport { Actions, ofActionSuccessful, Store } from '@ngxs/store';\r\nimport { noop, Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { SetLanguage } from '../actions/session.actions';\r\nimport { Config } from '../models/config';\r\nimport { ConfigState } from '../states/config.state';\r\nimport { registerLocale } from '../utils/initial-utils';\r\nimport { createLocalizer, createLocalizerWithFallback } from '../utils/localization-utils';\r\n\r\ntype ShouldReuseRoute = (future: ActivatedRouteSnapshot, curr: ActivatedRouteSnapshot) => boolean;\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class LocalizationService {\r\n  /**\r\n   * Returns currently selected language\r\n   */\r\n  get currentLang(): string {\r\n    return this.store.selectSnapshot(state => state.SessionState.language);\r\n  }\r\n\r\n  get languageChange(): Observable<SetLanguage> {\r\n    return this.actions.pipe(ofActionSuccessful(SetLanguage));\r\n  }\r\n\r\n  constructor(\r\n    private actions: Actions,\r\n    private store: Store,\r\n    private injector: Injector,\r\n    private ngZone: NgZone,\r\n    @Optional()\r\n    @SkipSelf()\r\n    otherInstance: LocalizationService,\r\n  ) {\r\n    if (otherInstance) throw new Error('LocalizationService should have only one instance.');\r\n\r\n    this.listenToSetLanguage();\r\n  }\r\n\r\n  private listenToSetLanguage() {\r\n    this.languageChange.subscribe(({ payload }) => this.registerLocale(payload));\r\n  }\r\n\r\n  registerLocale(locale: string) {\r\n    const router = this.injector.get(Router);\r\n    const { shouldReuseRoute } = router.routeReuseStrategy;\r\n    router.routeReuseStrategy.shouldReuseRoute = () => false;\r\n    router.navigated = false;\r\n\r\n    return registerLocale(locale).then(() => {\r\n      this.ngZone.run(async () => {\r\n        await router.navigateByUrl(router.url).catch(noop);\r\n        router.routeReuseStrategy.shouldReuseRoute = shouldReuseRoute;\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Returns an observable localized text with the given interpolation parameters in current language.\r\n   * @param key Localizaton key to replace with localized text\r\n   * @param interpolateParams Values to interpolate\r\n   */\r\n  get(\r\n    key: string | Config.LocalizationWithDefault,\r\n    ...interpolateParams: string[]\r\n  ): Observable<string> {\r\n    return this.store.select(ConfigState.getLocalization(key, ...interpolateParams));\r\n  }\r\n\r\n  /**\r\n   * Returns localized text with the given interpolation parameters in current language.\r\n   * @param key Localization key to replace with localized text\r\n   * @param interpolateParams Values to intepolate.\r\n   */\r\n  instant(key: string | Config.LocalizationWithDefault, ...interpolateParams: string[]): string {\r\n    return this.store.selectSnapshot(ConfigState.getLocalization(key, ...interpolateParams));\r\n  }\r\n\r\n  localize(resourceName: string, key: string, defaultValue: string): Observable<string> {\r\n    return this.store.select(ConfigState.getOne('localization')).pipe(\r\n      map(createLocalizer),\r\n      map(localize => localize(resourceName, key, defaultValue)),\r\n    );\r\n  }\r\n\r\n  localizeSync(resourceName: string, key: string, defaultValue: string): string {\r\n    const localization = this.store.selectSnapshot(ConfigState.getOne('localization'));\r\n    return createLocalizer(localization)(resourceName, key, defaultValue);\r\n  }\r\n\r\n  localizeWithFallback(\r\n    resourceNames: string[],\r\n    keys: string[],\r\n    defaultValue: string,\r\n  ): Observable<string> {\r\n    return this.store.select(ConfigState.getOne('localization')).pipe(\r\n      map(createLocalizerWithFallback),\r\n      map(localizeWithFallback => localizeWithFallback(resourceNames, keys, defaultValue)),\r\n    );\r\n  }\r\n\r\n  localizeWithFallbackSync(resourceNames: string[], keys: string[], defaultValue: string): string {\r\n    const localization = this.store.selectSnapshot(ConfigState.getOne('localization'));\r\n    return createLocalizerWithFallback(localization)(resourceNames, keys, defaultValue);\r\n  }\r\n}\r\n","import { LOCALE_ID, Provider } from '@angular/core';\r\nimport localesMapping from '../constants/different-locales';\r\nimport { LocalizationService } from '../services/localization.service';\r\n\r\nexport class LocaleId extends String {\r\n  constructor(private localizationService: LocalizationService) {\r\n    super();\r\n  }\r\n\r\n  toString(): string {\r\n    const { currentLang } = this.localizationService;\r\n    return localesMapping[currentLang] || currentLang;\r\n  }\r\n\r\n  valueOf(): string {\r\n    return this.toString();\r\n  }\r\n}\r\n\r\nexport const LocaleProvider: Provider = {\r\n  provide: LOCALE_ID,\r\n  useClass: LocaleId,\r\n  deps: [LocalizationService],\r\n};\r\n","export {};\r\n\r\ndeclare global {\r\n  interface Date {\r\n    toLocalISOString?: () => string;\r\n  }\r\n}\r\n\r\nDate.prototype.toLocalISOString = function(this: Date): string {\r\n  const timezoneOffset = this.getTimezoneOffset();\r\n\r\n  return new Date(this.getTime() - timezoneOffset * 60000).toISOString();\r\n};\r\n","import { APP_BASE_HREF, CommonModule } from '@angular/common';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { APP_INITIALIZER, Injector, ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgxsRouterPluginModule } from '@ngxs/router-plugin';\r\nimport { NgxsStoragePluginModule } from '@ngxs/storage-plugin';\r\nimport { NgxsModule, NGXS_PLUGINS } from '@ngxs/store';\r\nimport { OAuthModule, OAuthStorage } from 'angular-oauth2-oidc';\r\nimport { AbstractNgModelComponent } from './abstracts/ng-model.component';\r\nimport { DynamicLayoutComponent } from './components/dynamic-layout.component';\r\nimport { ReplaceableRouteContainerComponent } from './components/replaceable-route-container.component';\r\nimport { RouterOutletComponent } from './components/router-outlet.component';\r\nimport { AutofocusDirective } from './directives/autofocus.directive';\r\nimport { InputEventDebounceDirective } from './directives/debounce.directive';\r\nimport { EllipsisDirective } from './directives/ellipsis.directive';\r\nimport { ForDirective } from './directives/for.directive';\r\nimport { FormSubmitDirective } from './directives/form-submit.directive';\r\nimport { InitDirective } from './directives/init.directive';\r\nimport { PermissionDirective } from './directives/permission.directive';\r\nimport { ReplaceableTemplateDirective } from './directives/replaceable-template.directive';\r\nimport { StopPropagationDirective } from './directives/stop-propagation.directive';\r\nimport { VisibilityDirective } from './directives/visibility.directive';\r\nimport { RoutesHandler } from './handlers/routes.handler';\r\nimport { ApiInterceptor } from './interceptors/api.interceptor';\r\nimport { LocalizationModule } from './localization.module';\r\nimport { ABP } from './models/common';\r\nimport { LocalizationPipe, MockLocalizationPipe } from './pipes/localization.pipe';\r\nimport { SortPipe } from './pipes/sort.pipe';\r\nimport { ConfigPlugin, NGXS_CONFIG_PLUGIN_OPTIONS } from './plugins/config.plugin';\r\nimport { LocaleProvider } from './providers/locale.provider';\r\nimport { LocalizationService } from './services/localization.service';\r\nimport { ConfigState } from './states/config.state';\r\nimport { ProfileState } from './states/profile.state';\r\nimport { ReplaceableComponentsState } from './states/replaceable-components.state';\r\nimport { SessionState } from './states/session.state';\r\nimport { CORE_OPTIONS } from './tokens/options.token';\r\nimport { noop } from './utils/common-utils';\r\nimport './utils/date-extensions';\r\nimport { getInitialData, localeInitializer } from './utils/initial-utils';\r\n\r\nexport function storageFactory(): OAuthStorage {\r\n  return localStorage;\r\n}\r\n\r\n/**\r\n * BaseCoreModule is the module that holds\r\n * all imports, declarations, exports, and entryComponents\r\n * but not the providers.\r\n * This module will be imported and exported by all others.\r\n */\r\n@NgModule({\r\n  exports: [\r\n    CommonModule,\r\n    HttpClientModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    RouterModule,\r\n\r\n    AbstractNgModelComponent,\r\n    AutofocusDirective,\r\n    DynamicLayoutComponent,\r\n    EllipsisDirective,\r\n    ForDirective,\r\n    FormSubmitDirective,\r\n    InitDirective,\r\n    InputEventDebounceDirective,\r\n    PermissionDirective,\r\n    ReplaceableRouteContainerComponent,\r\n    ReplaceableTemplateDirective,\r\n    RouterOutletComponent,\r\n    SortPipe,\r\n    StopPropagationDirective,\r\n    VisibilityDirective,\r\n  ],\r\n  imports: [\r\n    OAuthModule,\r\n    CommonModule,\r\n    HttpClientModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    RouterModule,\r\n  ],\r\n  declarations: [\r\n    AbstractNgModelComponent,\r\n    AutofocusDirective,\r\n    DynamicLayoutComponent,\r\n    EllipsisDirective,\r\n    ForDirective,\r\n    FormSubmitDirective,\r\n    InitDirective,\r\n    InputEventDebounceDirective,\r\n    PermissionDirective,\r\n    ReplaceableRouteContainerComponent,\r\n    ReplaceableTemplateDirective,\r\n    RouterOutletComponent,\r\n    SortPipe,\r\n    StopPropagationDirective,\r\n    VisibilityDirective,\r\n  ],\r\n  entryComponents: [\r\n    RouterOutletComponent,\r\n    DynamicLayoutComponent,\r\n    ReplaceableRouteContainerComponent,\r\n  ],\r\n})\r\nexport class BaseCoreModule {}\r\n\r\n/**\r\n * RootCoreModule is the module that will be used at root level\r\n * and it introduces imports useful at root level (e.g. NGXS)\r\n */\r\n@NgModule({\r\n  exports: [BaseCoreModule, LocalizationModule],\r\n  imports: [\r\n    BaseCoreModule,\r\n    LocalizationModule,\r\n    NgxsModule.forFeature([ReplaceableComponentsState, ProfileState, SessionState, ConfigState]),\r\n    NgxsRouterPluginModule.forRoot(),\r\n    NgxsStoragePluginModule.forRoot({ key: ['SessionState'] }),\r\n    OAuthModule.forRoot(),\r\n  ],\r\n})\r\nexport class RootCoreModule {}\r\n\r\n/**\r\n * TestCoreModule is the module that will be used in tests\r\n * and it provides mock alternatives\r\n */\r\n@NgModule({\r\n  exports: [RouterModule, BaseCoreModule, MockLocalizationPipe],\r\n  imports: [RouterModule.forRoot([]), BaseCoreModule],\r\n  declarations: [MockLocalizationPipe],\r\n})\r\nexport class TestCoreModule {}\r\n\r\n/**\r\n * CoreModule is the module that is publicly available\r\n */\r\n@NgModule({\r\n  exports: [BaseCoreModule, LocalizationModule],\r\n  imports: [BaseCoreModule, LocalizationModule],\r\n  providers: [LocalizationPipe],\r\n})\r\nexport class CoreModule {\r\n  static forTest({ baseHref = '/' } = {} as ABP.Test): ModuleWithProviders<TestCoreModule> {\r\n    return {\r\n      ngModule: TestCoreModule,\r\n      providers: [\r\n        { provide: APP_BASE_HREF, useValue: baseHref },\r\n        {\r\n          provide: LocalizationPipe,\r\n          useClass: MockLocalizationPipe,\r\n        },\r\n      ],\r\n    };\r\n  }\r\n\r\n  static forRoot(options = {} as ABP.Root): ModuleWithProviders<RootCoreModule> {\r\n    return {\r\n      ngModule: RootCoreModule,\r\n      providers: [\r\n        LocaleProvider,\r\n        {\r\n          provide: NGXS_PLUGINS,\r\n          useClass: ConfigPlugin,\r\n          multi: true,\r\n        },\r\n        {\r\n          provide: NGXS_CONFIG_PLUGIN_OPTIONS,\r\n          useValue: { environment: options.environment },\r\n        },\r\n        {\r\n          provide: CORE_OPTIONS,\r\n          useValue: options,\r\n        },\r\n        {\r\n          provide: HTTP_INTERCEPTORS,\r\n          useClass: ApiInterceptor,\r\n          multi: true,\r\n        },\r\n        {\r\n          provide: APP_INITIALIZER,\r\n          multi: true,\r\n          deps: [Injector],\r\n          useFactory: getInitialData,\r\n        },\r\n        {\r\n          provide: APP_INITIALIZER,\r\n          multi: true,\r\n          deps: [Injector],\r\n          useFactory: localeInitializer,\r\n        },\r\n        {\r\n          provide: APP_INITIALIZER,\r\n          multi: true,\r\n          deps: [LocalizationService],\r\n          useFactory: noop,\r\n        },\r\n        {\r\n          provide: APP_INITIALIZER,\r\n          multi: true,\r\n          deps: [RoutesHandler],\r\n          useFactory: noop,\r\n        },\r\n        { provide: OAuthStorage, useFactory: storageFactory },\r\n      ],\r\n    };\r\n  }\r\n}\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport {\r\n  ActivatedRouteSnapshot,\r\n  CanActivate,\r\n  Router,\r\n  RouterStateSnapshot,\r\n  UrlTree,\r\n} from '@angular/router';\r\nimport { OAuthService } from 'angular-oauth2-oidc';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n  constructor(private oauthService: OAuthService, private injector: Injector) {}\r\n\r\n  canActivate(\r\n    _: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot,\r\n  ): Observable<boolean> | boolean | UrlTree {\r\n    const router = this.injector.get(Router);\r\n\r\n    const hasValidAccessToken = this.oauthService.hasValidAccessToken();\r\n    if (hasValidAccessToken) {\r\n      return hasValidAccessToken;\r\n    }\r\n\r\n    router.navigate(['/account/login'], { state: { redirectUrl: state.url } });\r\n    return true;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, RouterStateSnapshot } from '@angular/router';\r\nimport { Store } from '@ngxs/store';\r\nimport { Observable, of } from 'rxjs';\r\nimport { tap } from 'rxjs/operators';\r\nimport snq from 'snq';\r\nimport { RestOccurError } from '../actions';\r\nimport { ConfigState } from '../states';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class PermissionGuard implements CanActivate {\r\n  constructor(private store: Store) {}\r\n\r\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\r\n    let resource =\r\n      snq(() => route.data.routes.requiredPolicy) || snq(() => route.data.requiredPolicy as string);\r\n    if (!resource) {\r\n      resource = snq(\r\n        () =>\r\n          route.routeConfig.children.find(child => state.url.indexOf(child.path) > -1).data\r\n            .requiredPolicy,\r\n      );\r\n\r\n      if (!resource) {\r\n        return of(true);\r\n      }\r\n    }\r\n\r\n    return this.store.select(ConfigState.getGrantedPolicy(resource)).pipe(\r\n      tap(access => {\r\n        if (!access) {\r\n          this.store.dispatch(new RestOccurError({ status: 403 }));\r\n        }\r\n      }),\r\n    );\r\n  }\r\n}\r\n","import { ABP } from './common';\r\n\r\nexport class ListResultDto<T> {\r\n  items?: T[];\r\n\r\n  constructor(initialValues: Partial<ListResultDto<T>> = {}) {\r\n    for (const key in initialValues) {\r\n      if (initialValues.hasOwnProperty(key)) {\r\n        this[key] = initialValues[key];\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport class PagedResultDto<T> extends ListResultDto<T> {\r\n  totalCount?: number;\r\n\r\n  constructor(initialValues: Partial<PagedResultDto<T>> = {}) {\r\n    super(initialValues);\r\n  }\r\n}\r\n\r\nexport class LimitedResultRequestDto {\r\n  maxResultCount = 10;\r\n\r\n  constructor(initialValues: Partial<LimitedResultRequestDto> = {}) {\r\n    for (const key in initialValues) {\r\n      if (initialValues.hasOwnProperty(key)) {\r\n        this[key] = initialValues[key];\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport class PagedResultRequestDto extends LimitedResultRequestDto {\r\n  skipCount?: number;\r\n\r\n  constructor(initialValues: Partial<PagedResultRequestDto> = {}) {\r\n    super(initialValues);\r\n  }\r\n}\r\n\r\nexport class PagedAndSortedResultRequestDto extends PagedResultRequestDto {\r\n  sorting?: string;\r\n\r\n  constructor(initialValues: Partial<PagedAndSortedResultRequestDto> = {}) {\r\n    super(initialValues);\r\n  }\r\n}\r\n\r\nexport class EntityDto<TKey = string> {\r\n  id?: TKey;\r\n\r\n  constructor(initialValues: Partial<EntityDto<TKey>> = {}) {\r\n    for (const key in initialValues) {\r\n      if (initialValues.hasOwnProperty(key)) {\r\n        this[key] = initialValues[key];\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport class CreationAuditedEntityDto<TPrimaryKey = string> extends EntityDto<TPrimaryKey> {\r\n  creationTime?: string | Date;\r\n  creatorId?: string;\r\n\r\n  constructor(initialValues: Partial<CreationAuditedEntityDto<TPrimaryKey>> = {}) {\r\n    super(initialValues);\r\n  }\r\n}\r\n\r\nexport class CreationAuditedEntityWithUserDto<\r\n  TUserDto,\r\n  TPrimaryKey = string\r\n> extends CreationAuditedEntityDto<TPrimaryKey> {\r\n  creator?: TUserDto;\r\n\r\n  constructor(\r\n    initialValues: Partial<CreationAuditedEntityWithUserDto<TUserDto, TPrimaryKey>> = {},\r\n  ) {\r\n    super(initialValues);\r\n  }\r\n}\r\n\r\nexport class AuditedEntityDto<TPrimaryKey = string> extends CreationAuditedEntityDto<TPrimaryKey> {\r\n  lastModificationTime?: string | Date;\r\n  lastModifierId?: string;\r\n\r\n  constructor(initialValues: Partial<AuditedEntityDto<TPrimaryKey>> = {}) {\r\n    super(initialValues);\r\n  }\r\n}\r\n\r\nexport class AuditedEntityWithUserDto<TUserDto, TPrimaryKey = string> extends AuditedEntityDto<\r\n  TPrimaryKey\r\n> {\r\n  creator?: TUserDto;\r\n  lastModifier?: TUserDto;\r\n\r\n  constructor(initialValues: Partial<AuditedEntityWithUserDto<TUserDto, TPrimaryKey>> = {}) {\r\n    super(initialValues);\r\n  }\r\n}\r\n\r\nexport class FullAuditedEntityDto<TPrimaryKey = string> extends AuditedEntityDto<TPrimaryKey> {\r\n  isDeleted?: boolean;\r\n  deleterId?: string;\r\n  deletionTime?: Date | string;\r\n\r\n  constructor(initialValues: Partial<FullAuditedEntityDto<TPrimaryKey>> = {}) {\r\n    super(initialValues);\r\n  }\r\n}\r\n\r\nexport class FullAuditedEntityWithUserDto<\r\n  TUserDto,\r\n  TPrimaryKey = string\r\n> extends FullAuditedEntityDto<TPrimaryKey> {\r\n  creator?: TUserDto;\r\n  lastModifier?: TUserDto;\r\n  deleter?: TUserDto;\r\n\r\n  constructor(initialValues: Partial<FullAuditedEntityWithUserDto<TUserDto, TPrimaryKey>> = {}) {\r\n    super(initialValues);\r\n  }\r\n}\r\n\r\nexport class ExtensibleObject {\r\n  extraProperties: ABP.Dictionary<any>;\r\n\r\n  constructor(initialValues: Partial<ExtensibleObject> = {}) {\r\n    for (const key in initialValues) {\r\n      if (initialValues.hasOwnProperty(key)) {\r\n        this[key] = initialValues[key];\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport class ExtensibleEntityDto<TKey = string> extends ExtensibleObject {\r\n  id: TKey;\r\n\r\n  constructor(initialValues: Partial<ExtensibleEntityDto<TKey>> = {}) {\r\n    super(initialValues);\r\n  }\r\n}\r\n\r\nexport class ExtensibleCreationAuditedEntityDto<TPrimaryKey = string> extends ExtensibleEntityDto<\r\n  TPrimaryKey\r\n> {\r\n  creationTime: Date | string;\r\n  creatorId?: string;\r\n\r\n  constructor(initialValues: Partial<ExtensibleCreationAuditedEntityDto<TPrimaryKey>> = {}) {\r\n    super(initialValues);\r\n  }\r\n}\r\n\r\nexport class ExtensibleAuditedEntityDto<\r\n  TPrimaryKey = string\r\n> extends ExtensibleCreationAuditedEntityDto<TPrimaryKey> {\r\n  lastModificationTime?: Date | string;\r\n  lastModifierId?: string;\r\n\r\n  constructor(initialValues: Partial<ExtensibleAuditedEntityDto<TPrimaryKey>> = {}) {\r\n    super(initialValues);\r\n  }\r\n}\r\n\r\nexport class ExtensibleAuditedEntityWithUserDto<\r\n  TPrimaryKey = string,\r\n  TUserDto = any\r\n> extends ExtensibleAuditedEntityDto<TPrimaryKey> {\r\n  creator: TUserDto;\r\n  lastModifier: TUserDto;\r\n\r\n  constructor(initialValues: Partial<ExtensibleAuditedEntityWithUserDto<TPrimaryKey>> = {}) {\r\n    super(initialValues);\r\n  }\r\n}\r\n\r\nexport class ExtensibleCreationAuditedEntityWithUserDto<\r\n  TPrimaryKey = string,\r\n  TUserDto = any\r\n> extends ExtensibleCreationAuditedEntityDto<TPrimaryKey> {\r\n  creator: TUserDto;\r\n\r\n  constructor(\r\n    initialValues: Partial<ExtensibleCreationAuditedEntityWithUserDto<TPrimaryKey>> = {},\r\n  ) {\r\n    super(initialValues);\r\n  }\r\n}\r\n\r\nexport class ExtensibleFullAuditedEntityDto<\r\n  TPrimaryKey = string\r\n> extends ExtensibleAuditedEntityDto<TPrimaryKey> {\r\n  isDeleted: boolean;\r\n  deleterId?: string;\r\n  deletionTime: Date | string;\r\n\r\n  constructor(initialValues: Partial<ExtensibleFullAuditedEntityDto<TPrimaryKey>> = {}) {\r\n    super(initialValues);\r\n  }\r\n}\r\n\r\nexport class ExtensibleFullAuditedEntityWithUserDto<\r\n  TPrimaryKey = string,\r\n  TUserDto = any\r\n> extends ExtensibleFullAuditedEntityDto<TPrimaryKey> {\r\n  creator: TUserDto;\r\n  lastModifier: TUserDto;\r\n  deleter: TUserDto;\r\n\r\n  constructor(initialValues: Partial<ExtensibleFullAuditedEntityWithUserDto<TPrimaryKey>> = {}) {\r\n    super(initialValues);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { Rest } from '../models/rest';\r\nimport { ApplicationConfiguration } from '../models/application-configuration';\r\nimport { RestService } from './rest.service';\r\nimport { Store } from '@ngxs/store';\r\nimport { ConfigState } from '../states/config.state';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ApplicationConfigurationService {\r\n  get apiName(): string {\r\n    return this.store.selectSnapshot(ConfigState.getDeep('environment.application.name'));\r\n  }\r\n\r\n  constructor(private rest: RestService, private store: Store) {}\r\n\r\n  getConfiguration(): Observable<ApplicationConfiguration.Response> {\r\n    const request: Rest.Request<null> = {\r\n      method: 'GET',\r\n      url: '/api/abp/application-configuration',\r\n    };\r\n\r\n    return this.rest.request<null, ApplicationConfiguration.Response>(request, {\r\n      apiName: this.apiName,\r\n    });\r\n  }\r\n}\r\n","import { HttpHeaders } from '@angular/common/http';\r\nimport { Inject, Injectable, Optional } from '@angular/core';\r\nimport { Navigate } from '@ngxs/router-plugin';\r\nimport { Store } from '@ngxs/store';\r\nimport { OAuthService } from 'angular-oauth2-oidc';\r\nimport { from, Observable } from 'rxjs';\r\nimport { switchMap, tap, take } from 'rxjs/operators';\r\nimport snq from 'snq';\r\nimport { GetAppConfiguration } from '../actions/config.actions';\r\nimport { SessionState } from '../states/session.state';\r\nimport { RestService } from './rest.service';\r\nimport { ConfigState } from '../states/config.state';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthService {\r\n  constructor(\r\n    private rest: RestService,\r\n    private oAuthService: OAuthService,\r\n    private store: Store,\r\n    @Optional() @Inject('ACCOUNT_OPTIONS') private options: any,\r\n  ) {\r\n    this.oAuthService.configure(\r\n      this.store.selectSnapshot(ConfigState.getOne('environment')).oAuthConfig,\r\n    );\r\n  }\r\n\r\n  login(username: string, password: string): Observable<any> {\r\n    const tenant = this.store.selectSnapshot(SessionState.getTenant);\r\n\r\n    return from(this.oAuthService.loadDiscoveryDocument()).pipe(\r\n      switchMap(() =>\r\n        from(\r\n          this.oAuthService.fetchTokenUsingPasswordFlow(\r\n            username,\r\n            password,\r\n            new HttpHeaders({ ...(tenant && tenant.id && { __tenant: tenant.id }) }),\r\n          ),\r\n        ),\r\n      ),\r\n      switchMap(() => this.store.dispatch(new GetAppConfiguration())),\r\n      tap(() => {\r\n        const redirectUrl =\r\n          snq(() => window.history.state.redirectUrl) || (this.options || {}).redirectUrl || '/';\r\n        this.store.dispatch(new Navigate([redirectUrl]));\r\n      }),\r\n      take(1),\r\n    );\r\n  }\r\n\r\n  logout(): Observable<void> {\r\n    const issuer = this.store.selectSnapshot(ConfigState.getDeep('environment.oAuthConfig.issuer'));\r\n\r\n    return this.rest\r\n      .request(\r\n        {\r\n          method: 'GET',\r\n          url: '/api/account/logout',\r\n        },\r\n        null,\r\n        issuer,\r\n      )\r\n      .pipe(\r\n        switchMap(() => {\r\n          this.oAuthService.logOut(true);\r\n          return this.store.dispatch(new GetAppConfiguration());\r\n        }),\r\n      );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Store } from '@ngxs/store';\r\nimport { GetAppConfiguration, SetEnvironment } from '../actions/config.actions';\r\nimport { ConfigState } from '../states';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ConfigStateService {\r\n  constructor(private store: Store) {}\r\n\r\n  getAll() {\r\n    return this.store.selectSnapshot(ConfigState.getAll);\r\n  }\r\n\r\n  getApplicationInfo() {\r\n    return this.store.selectSnapshot(ConfigState.getApplicationInfo);\r\n  }\r\n\r\n  getOne(...args: Parameters<typeof ConfigState.getOne>) {\r\n    return this.store.selectSnapshot(ConfigState.getOne(...args));\r\n  }\r\n\r\n  getDeep(...args: Parameters<typeof ConfigState.getDeep>) {\r\n    return this.store.selectSnapshot(ConfigState.getDeep(...args));\r\n  }\r\n\r\n  getApiUrl(...args: Parameters<typeof ConfigState.getApiUrl>) {\r\n    return this.store.selectSnapshot(ConfigState.getApiUrl(...args));\r\n  }\r\n\r\n  getSetting(...args: Parameters<typeof ConfigState.getSetting>) {\r\n    return this.store.selectSnapshot(ConfigState.getSetting(...args));\r\n  }\r\n\r\n  getSettings(...args: Parameters<typeof ConfigState.getSettings>) {\r\n    return this.store.selectSnapshot(ConfigState.getSettings(...args));\r\n  }\r\n\r\n  getGrantedPolicy(...args: Parameters<typeof ConfigState.getGrantedPolicy>) {\r\n    return this.store.selectSnapshot(ConfigState.getGrantedPolicy(...args));\r\n  }\r\n\r\n  getLocalization(...args: Parameters<typeof ConfigState.getLocalization>) {\r\n    return this.store.selectSnapshot(ConfigState.getLocalization(...args));\r\n  }\r\n\r\n  dispatchGetAppConfiguration() {\r\n    return this.store.dispatch(new GetAppConfiguration());\r\n  }\r\n\r\n  dispatchSetEnvironment(...args: ConstructorParameters<typeof SetEnvironment>) {\r\n    return this.store.dispatch(new SetEnvironment(...args));\r\n  }\r\n}\r\n","import { Injectable, Injector, TemplateRef, Type } from '@angular/core';\r\nimport { ProjectionStrategy } from '../strategies/projection.strategy';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ContentProjectionService {\r\n  constructor(private injector: Injector) {}\r\n\r\n  projectContent<T extends Type<any> | TemplateRef<any>>(\r\n    projectionStrategy: ProjectionStrategy<T>,\r\n    injector = this.injector,\r\n  ) {\r\n    return projectionStrategy.injectContent(injector);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ContentStrategy } from '../strategies/content.strategy';\r\nimport { generateHash } from '../utils';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class DomInsertionService {\r\n  private readonly inserted = new Set<number>();\r\n\r\n  insertContent<T extends HTMLScriptElement | HTMLStyleElement>(\r\n    contentStrategy: ContentStrategy<T>,\r\n  ): T {\r\n    const hash = generateHash(contentStrategy.content);\r\n\r\n    if (this.inserted.has(hash)) return;\r\n\r\n    const element = contentStrategy.insertElement();\r\n    this.inserted.add(hash);\r\n\r\n    return element;\r\n  }\r\n\r\n  removeContent(element: HTMLScriptElement | HTMLStyleElement) {\r\n    const hash = generateHash(element.textContent);\r\n    this.inserted.delete(hash);\r\n\r\n    element.parentNode.removeChild(element);\r\n  }\r\n\r\n  has(content: string): boolean {\r\n    const hash = generateHash(content);\r\n\r\n    return this.inserted.has(hash);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { concat, Observable, of, throwError } from 'rxjs';\r\nimport { delay, retryWhen, shareReplay, take, tap } from 'rxjs/operators';\r\nimport { LoadingStrategy } from '../strategies';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class LazyLoadService {\r\n  readonly loaded = new Map<string, HTMLScriptElement | HTMLLinkElement>();\r\n\r\n  load(strategy: LoadingStrategy, retryTimes?: number, retryDelay?: number): Observable<Event> {\r\n    if (this.loaded.has(strategy.path)) return of(new CustomEvent('load'));\r\n\r\n    return strategy.createStream().pipe(\r\n      retryWhen(error$ =>\r\n        concat(\r\n          error$.pipe(delay(retryDelay), take(retryTimes)),\r\n          throwError(new CustomEvent('error')),\r\n        ),\r\n      ),\r\n      tap(() => this.loaded.set(strategy.path, strategy.element)),\r\n      delay(100),\r\n      shareReplay({ bufferSize: 1, refCount: true }),\r\n    );\r\n  }\r\n\r\n  remove(path: string): boolean {\r\n    const element = this.loaded.get(path);\r\n\r\n    if (!element) return false;\r\n\r\n    element.parentNode.removeChild(element);\r\n    this.loaded.delete(path);\r\n    return true;\r\n  }\r\n}\r\n","import { InjectionToken } from '@angular/core';\r\n\r\nexport const LIST_QUERY_DEBOUNCE_TIME = new InjectionToken<number>('LIST_QUERY_DEBOUNCE_TIME');\r\n","import { Inject, Injectable, OnDestroy, Optional } from '@angular/core';\r\nimport { BehaviorSubject, Observable, of, ReplaySubject } from 'rxjs';\r\nimport { catchError, debounceTime, filter, shareReplay, switchMap, tap } from 'rxjs/operators';\r\nimport { ABP } from '../models/common';\r\nimport { PagedResultDto } from '../models/dtos';\r\nimport { LIST_QUERY_DEBOUNCE_TIME } from '../tokens/list.token';\r\nimport { takeUntilDestroy } from '../utils/rxjs-utils';\r\n\r\n@Injectable()\r\nexport class ListService<QueryParamsType = ABP.PageQueryParams> implements OnDestroy {\r\n  private _filter = '';\r\n  set filter(value: string) {\r\n    this._filter = value;\r\n    this.get();\r\n  }\r\n  get filter(): string {\r\n    return this._filter;\r\n  }\r\n\r\n  private _maxResultCount = 10;\r\n  set maxResultCount(value: number) {\r\n    this._maxResultCount = value;\r\n    this.get();\r\n  }\r\n  get maxResultCount(): number {\r\n    return this._maxResultCount;\r\n  }\r\n\r\n  private _page = 0;\r\n  set page(value: number) {\r\n    if (value === this._page) return;\r\n\r\n    this._page = value;\r\n    this.get();\r\n  }\r\n  get page(): number {\r\n    return this._page;\r\n  }\r\n\r\n  private _sortKey = '';\r\n  set sortKey(value: string) {\r\n    this._sortKey = value;\r\n    this.get();\r\n  }\r\n  get sortKey(): string {\r\n    return this._sortKey;\r\n  }\r\n\r\n  private _sortOrder = '';\r\n  set sortOrder(value: string) {\r\n    this._sortOrder = value;\r\n    this.get();\r\n  }\r\n  get sortOrder(): string {\r\n    return this._sortOrder;\r\n  }\r\n\r\n  private _query$ = new ReplaySubject<QueryParamsType>(1);\r\n\r\n  get query$(): Observable<QueryParamsType> {\r\n    return this._query$\r\n      .asObservable()\r\n      .pipe(debounceTime(this.delay || 300), shareReplay({ bufferSize: 1, refCount: true }));\r\n  }\r\n\r\n  private _isLoading$ = new BehaviorSubject(false);\r\n\r\n  get isLoading$(): Observable<boolean> {\r\n    return this._isLoading$.asObservable();\r\n  }\r\n\r\n  get = () => {\r\n    this._query$.next(({\r\n      filter: this._filter || undefined,\r\n      maxResultCount: this._maxResultCount,\r\n      skipCount: this._page * this._maxResultCount,\r\n      sorting: this._sortOrder ? `${this._sortKey} ${this._sortOrder}` : undefined,\r\n    } as any) as QueryParamsType);\r\n  };\r\n\r\n  constructor(@Optional() @Inject(LIST_QUERY_DEBOUNCE_TIME) private delay: number) {\r\n    this.get();\r\n  }\r\n\r\n  hookToQuery<T extends any>(\r\n    streamCreatorCallback: QueryStreamCreatorCallback<T, QueryParamsType>,\r\n  ): Observable<PagedResultDto<T>> {\r\n    this._isLoading$.next(true);\r\n\r\n    return this.query$.pipe(\r\n      switchMap(query => streamCreatorCallback(query).pipe(catchError(() => of(null)))),\r\n      filter(Boolean),\r\n      tap(() => this._isLoading$.next(false)),\r\n      shareReplay({ bufferSize: 1, refCount: true }),\r\n      takeUntilDestroy(this),\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {}\r\n}\r\n\r\nexport type QueryStreamCreatorCallback<T, QueryParamsType = ABP.PageQueryParams> = (\r\n  query: QueryParamsType,\r\n) => Observable<PagedResultDto<T>>;\r\n","import { Injectable } from '@angular/core';\r\nimport { Store } from '@ngxs/store';\r\nimport { ProfileState } from '../states';\r\nimport { Profile } from '../models';\r\nimport { GetProfile, UpdateProfile, ChangePassword } from '../actions';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ProfileStateService {\r\n  constructor(private store: Store) {}\r\n\r\n  getProfile() {\r\n    return this.store.selectSnapshot(ProfileState.getProfile);\r\n  }\r\n\r\n  dispatchGetProfile() {\r\n    return this.store.dispatch(new GetProfile());\r\n  }\r\n\r\n  dispatchUpdateProfile(...args: ConstructorParameters<typeof UpdateProfile>) {\r\n    return this.store.dispatch(new UpdateProfile(...args));\r\n  }\r\n\r\n  dispatchChangePassword(...args: ConstructorParameters<typeof ChangePassword>) {\r\n    return this.store.dispatch(new ChangePassword(...args));\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Store } from '@ngxs/store';\r\nimport {\r\n  SetLanguage,\r\n  SetRemember,\r\n  SetTenant,\r\n  ModifyOpenedTabCount,\r\n} from '../actions/session.actions';\r\nimport { SessionState } from '../states';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class SessionStateService {\r\n  constructor(private store: Store) {}\r\n\r\n  getLanguage() {\r\n    return this.store.selectSnapshot(SessionState.getLanguage);\r\n  }\r\n\r\n  getTenant() {\r\n    return this.store.selectSnapshot(SessionState.getTenant);\r\n  }\r\n\r\n  getSessionDetail() {\r\n    return this.store.selectSnapshot(SessionState.getSessionDetail);\r\n  }\r\n\r\n  dispatchSetLanguage(...args: ConstructorParameters<typeof SetLanguage>) {\r\n    return this.store.dispatch(new SetLanguage(...args));\r\n  }\r\n\r\n  dispatchSetTenant(...args: ConstructorParameters<typeof SetTenant>) {\r\n    return this.store.dispatch(new SetTenant(...args));\r\n  }\r\n\r\n  dispatchSetRemember(...args: ConstructorParameters<typeof SetRemember>) {\r\n    return this.store.dispatch(new SetRemember(...args));\r\n  }\r\n\r\n  dispatchModifyOpenedTabCount(...args: ConstructorParameters<typeof ModifyOpenedTabCount>) {\r\n    return this.store.dispatch(new ModifyOpenedTabCount(...args));\r\n  }\r\n}\r\n","import { Injectable, TrackByFunction } from '@angular/core';\r\nimport { O } from 'ts-toolbelt';\r\n\r\nexport const trackBy = <T = any>(key: keyof T): TrackByFunction<T> => (_, item) => item[key];\r\n\r\nexport const trackByDeep = <T = any>(\r\n  ...keys: T extends object ? O.Paths<T> : never\r\n): TrackByFunction<T> => (_, item) => keys.reduce((acc, key) => acc[key], item);\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class TrackByService<ItemType = any> {\r\n  by = trackBy;\r\n\r\n  byDeep = trackByDeep;\r\n}\r\n","import { ViewContainerRef } from '@angular/core';\r\n\r\nexport abstract class ContainerStrategy {\r\n  constructor(public containerRef: ViewContainerRef) {}\r\n\r\n  abstract getIndex(): number;\r\n\r\n  prepare(): void {}\r\n}\r\n\r\nexport class ClearContainerStrategy extends ContainerStrategy {\r\n  getIndex(): number {\r\n    return 0;\r\n  }\r\n\r\n  prepare() {\r\n    this.containerRef.clear();\r\n  }\r\n}\r\n\r\nexport class InsertIntoContainerStrategy extends ContainerStrategy {\r\n  constructor(containerRef: ViewContainerRef, private index: number) {\r\n    super(containerRef);\r\n  }\r\n\r\n  getIndex() {\r\n    return Math.min(Math.max(0, this.index), this.containerRef.length);\r\n  }\r\n}\r\n\r\nexport const CONTAINER_STRATEGY = {\r\n  Clear(containerRef: ViewContainerRef) {\r\n    return new ClearContainerStrategy(containerRef);\r\n  },\r\n  Append(containerRef: ViewContainerRef) {\r\n    return new InsertIntoContainerStrategy(containerRef, containerRef.length);\r\n  },\r\n  Prepend(containerRef: ViewContainerRef) {\r\n    return new InsertIntoContainerStrategy(containerRef, 0);\r\n  },\r\n  Insert(containerRef: ViewContainerRef, index: number) {\r\n    return new InsertIntoContainerStrategy(containerRef, index);\r\n  },\r\n};\r\n","export abstract class ContentSecurityStrategy {\r\n  constructor(public nonce?: string) {}\r\n\r\n  abstract applyCSP(element: HTMLScriptElement | HTMLStyleElement): void;\r\n}\r\n\r\nexport class LooseContentSecurityStrategy extends ContentSecurityStrategy {\r\n  constructor(nonce: string) {\r\n    super(nonce);\r\n  }\r\n\r\n  applyCSP(element: HTMLScriptElement | HTMLStyleElement) {\r\n    element.setAttribute('nonce', this.nonce);\r\n  }\r\n}\r\n\r\nexport class NoContentSecurityStrategy extends ContentSecurityStrategy {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  applyCSP(_: HTMLScriptElement | HTMLStyleElement) {}\r\n}\r\n\r\nexport const CONTENT_SECURITY_STRATEGY = {\r\n  Loose(nonce: string) {\r\n    return new LooseContentSecurityStrategy(nonce);\r\n  },\r\n  None() {\r\n    return new NoContentSecurityStrategy();\r\n  },\r\n};\r\n","import { ContentSecurityStrategy, CONTENT_SECURITY_STRATEGY } from './content-security.strategy';\r\nimport { DomStrategy, DOM_STRATEGY } from './dom.strategy';\r\n\r\nexport abstract class ContentStrategy<T extends HTMLScriptElement | HTMLStyleElement = any> {\r\n  constructor(\r\n    public content: string,\r\n    protected domStrategy: DomStrategy = DOM_STRATEGY.AppendToHead(),\r\n    protected contentSecurityStrategy: ContentSecurityStrategy = CONTENT_SECURITY_STRATEGY.None(),\r\n  ) {}\r\n\r\n  abstract createElement(): T;\r\n\r\n  insertElement(): T {\r\n    const element = this.createElement();\r\n\r\n    this.contentSecurityStrategy.applyCSP(element);\r\n    this.domStrategy.insertElement(element);\r\n\r\n    return element;\r\n  }\r\n}\r\n\r\nexport class StyleContentStrategy extends ContentStrategy<HTMLStyleElement> {\r\n  createElement(): HTMLStyleElement {\r\n    const element = document.createElement('style');\r\n    element.textContent = this.content;\r\n\r\n    return element;\r\n  }\r\n}\r\n\r\nexport class ScriptContentStrategy extends ContentStrategy<HTMLScriptElement> {\r\n  createElement(): HTMLScriptElement {\r\n    const element = document.createElement('script');\r\n    element.textContent = this.content;\r\n\r\n    return element;\r\n  }\r\n}\r\n\r\nexport const CONTENT_STRATEGY = {\r\n  AppendScriptToBody(content: string) {\r\n    return new ScriptContentStrategy(content, DOM_STRATEGY.AppendToBody());\r\n  },\r\n  AppendScriptToHead(content: string) {\r\n    return new ScriptContentStrategy(content, DOM_STRATEGY.AppendToHead());\r\n  },\r\n  AppendStyleToHead(content: string) {\r\n    return new StyleContentStrategy(content, DOM_STRATEGY.AppendToHead());\r\n  },\r\n  PrependStyleToHead(content: string) {\r\n    return new StyleContentStrategy(content, DOM_STRATEGY.PrependToHead());\r\n  },\r\n};\r\n","import { ComponentRef, TemplateRef, Type } from '@angular/core';\r\nimport { InferredContextOf, InferredInstanceOf } from '../models';\r\n\r\nexport abstract class ContextStrategy<T = any> {\r\n  constructor(public context: Partial<ContextType<T>>) {}\r\n\r\n  /* tslint:disable-next-line:no-unused-variable */\r\n  setContext(componentRef?: ComponentRef<InferredInstanceOf<T>>): Partial<ContextType<T>> {\r\n    return this.context;\r\n  }\r\n}\r\n\r\nexport class NoContextStrategy<\r\n  T extends Type<any> | TemplateRef<any> = any\r\n> extends ContextStrategy<T> {\r\n  constructor() {\r\n    super(undefined);\r\n  }\r\n}\r\n\r\nexport class ComponentContextStrategy<T extends Type<any> = any> extends ContextStrategy<T> {\r\n  setContext(componentRef: ComponentRef<InferredInstanceOf<T>>): Partial<InferredInstanceOf<T>> {\r\n    Object.keys(this.context).forEach(key => (componentRef.instance[key] = this.context[key]));\r\n    componentRef.changeDetectorRef.detectChanges();\r\n    return this.context;\r\n  }\r\n}\r\n\r\nexport class TemplateContextStrategy<T extends TemplateRef<any> = any> extends ContextStrategy<T> {\r\n  setContext(): Partial<InferredContextOf<T>> {\r\n    return this.context;\r\n  }\r\n}\r\n\r\nexport const CONTEXT_STRATEGY = {\r\n  None<T extends Type<any> | TemplateRef<any> = any>() {\r\n    return new NoContextStrategy<T>();\r\n  },\r\n  Component<T extends Type<any> = any>(context: Partial<InferredInstanceOf<T>>) {\r\n    return new ComponentContextStrategy<T>(context);\r\n  },\r\n  Template<T extends TemplateRef<any> = any>(context: Partial<InferredContextOf<T>>) {\r\n    return new TemplateContextStrategy<T>(context);\r\n  },\r\n};\r\n\r\ntype ContextType<T> = T extends Type<infer U> | TemplateRef<infer U> ? U : never;\r\n","import { Observable, of } from 'rxjs';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { fromLazyLoad } from '../utils';\r\nimport { CrossOriginStrategy, CROSS_ORIGIN_STRATEGY } from './cross-origin.strategy';\r\nimport { DomStrategy, DOM_STRATEGY } from './dom.strategy';\r\n\r\nexport abstract class LoadingStrategy<T extends HTMLScriptElement | HTMLLinkElement = any> {\r\n  element: T;\r\n\r\n  constructor(\r\n    public path: string,\r\n    protected domStrategy: DomStrategy = DOM_STRATEGY.AppendToHead(),\r\n    protected crossOriginStrategy: CrossOriginStrategy = CROSS_ORIGIN_STRATEGY.Anonymous(),\r\n  ) {}\r\n\r\n  abstract createElement(): T;\r\n\r\n  createStream<E extends Event>(): Observable<E> {\r\n    this.element = this.createElement();\r\n\r\n    return of(null).pipe(\r\n      switchMap(() => fromLazyLoad<E>(this.element, this.domStrategy, this.crossOriginStrategy)),\r\n    );\r\n  }\r\n}\r\n\r\nexport class ScriptLoadingStrategy extends LoadingStrategy<HTMLScriptElement> {\r\n  constructor(src: string, domStrategy?: DomStrategy, crossOriginStrategy?: CrossOriginStrategy) {\r\n    super(src, domStrategy, crossOriginStrategy);\r\n  }\r\n\r\n  createElement(): HTMLScriptElement {\r\n    const element = document.createElement('script');\r\n    element.src = this.path;\r\n\r\n    return element;\r\n  }\r\n}\r\n\r\nexport class StyleLoadingStrategy extends LoadingStrategy<HTMLLinkElement> {\r\n  constructor(href: string, domStrategy?: DomStrategy, crossOriginStrategy?: CrossOriginStrategy) {\r\n    super(href, domStrategy, crossOriginStrategy);\r\n  }\r\n\r\n  createElement(): HTMLLinkElement {\r\n    const element = document.createElement('link');\r\n    element.rel = 'stylesheet';\r\n    element.href = this.path;\r\n\r\n    return element;\r\n  }\r\n}\r\n\r\nexport const LOADING_STRATEGY = {\r\n  AppendAnonymousScriptToBody(src: string, integrity?: string) {\r\n    return new ScriptLoadingStrategy(\r\n      src,\r\n      DOM_STRATEGY.AppendToBody(),\r\n      CROSS_ORIGIN_STRATEGY.Anonymous(integrity),\r\n    );\r\n  },\r\n  AppendAnonymousScriptToHead(src: string, integrity?: string) {\r\n    return new ScriptLoadingStrategy(\r\n      src,\r\n      DOM_STRATEGY.AppendToHead(),\r\n      CROSS_ORIGIN_STRATEGY.Anonymous(integrity),\r\n    );\r\n  },\r\n  AppendAnonymousStyleToHead(src: string, integrity?: string) {\r\n    return new StyleLoadingStrategy(\r\n      src,\r\n      DOM_STRATEGY.AppendToHead(),\r\n      CROSS_ORIGIN_STRATEGY.Anonymous(integrity),\r\n    );\r\n  },\r\n  PrependAnonymousScriptToHead(src: string, integrity?: string) {\r\n    return new ScriptLoadingStrategy(\r\n      src,\r\n      DOM_STRATEGY.PrependToHead(),\r\n      CROSS_ORIGIN_STRATEGY.Anonymous(integrity),\r\n    );\r\n  },\r\n  PrependAnonymousStyleToHead(src: string, integrity?: string) {\r\n    return new StyleLoadingStrategy(\r\n      src,\r\n      DOM_STRATEGY.PrependToHead(),\r\n      CROSS_ORIGIN_STRATEGY.Anonymous(integrity),\r\n    );\r\n  },\r\n};\r\n","import {\r\n  ApplicationRef,\r\n  ComponentFactoryResolver,\r\n  ComponentRef,\r\n  EmbeddedViewRef,\r\n  Injector,\r\n  TemplateRef,\r\n  Type,\r\n  ViewContainerRef,\r\n} from '@angular/core';\r\nimport { InferredContextOf, InferredInstanceOf } from '../models/utility';\r\nimport { ContainerStrategy, CONTAINER_STRATEGY } from './container.strategy';\r\nimport { ContextStrategy, CONTEXT_STRATEGY } from './context.strategy';\r\nimport { DomStrategy, DOM_STRATEGY } from './dom.strategy';\r\n\r\nexport abstract class ProjectionStrategy<T = any> {\r\n  constructor(public content: T) {}\r\n\r\n  abstract injectContent(injector: Injector): ComponentRefOrEmbeddedViewRef<T>;\r\n}\r\n\r\nexport class ComponentProjectionStrategy<T extends Type<any>> extends ProjectionStrategy<T> {\r\n  constructor(\r\n    component: T,\r\n    private containerStrategy: ContainerStrategy,\r\n    private contextStrategy: ContextStrategy = CONTEXT_STRATEGY.None(),\r\n  ) {\r\n    super(component);\r\n  }\r\n\r\n  injectContent(injector: Injector) {\r\n    this.containerStrategy.prepare();\r\n\r\n    const resolver = injector.get(ComponentFactoryResolver) as ComponentFactoryResolver;\r\n    const factory = resolver.resolveComponentFactory<InferredInstanceOf<T>>(this.content);\r\n\r\n    const componentRef = this.containerStrategy.containerRef.createComponent(\r\n      factory,\r\n      this.containerStrategy.getIndex(),\r\n      injector,\r\n    );\r\n    this.contextStrategy.setContext(componentRef);\r\n\r\n    return componentRef as ComponentRefOrEmbeddedViewRef<T>;\r\n  }\r\n}\r\n\r\nexport class RootComponentProjectionStrategy<T extends Type<any>> extends ProjectionStrategy<T> {\r\n  constructor(\r\n    component: T,\r\n    private contextStrategy: ContextStrategy = CONTEXT_STRATEGY.None(),\r\n    private domStrategy: DomStrategy = DOM_STRATEGY.AppendToBody(),\r\n  ) {\r\n    super(component);\r\n  }\r\n\r\n  injectContent(injector: Injector) {\r\n    const appRef = injector.get(ApplicationRef);\r\n    const resolver = injector.get(ComponentFactoryResolver) as ComponentFactoryResolver;\r\n    const componentRef = resolver\r\n      .resolveComponentFactory<InferredInstanceOf<T>>(this.content)\r\n      .create(injector);\r\n\r\n    this.contextStrategy.setContext(componentRef);\r\n\r\n    appRef.attachView(componentRef.hostView);\r\n    const element: HTMLElement = (componentRef.hostView as EmbeddedViewRef<any>).rootNodes[0];\r\n    this.domStrategy.insertElement(element);\r\n\r\n    return componentRef as ComponentRefOrEmbeddedViewRef<T>;\r\n  }\r\n}\r\n\r\nexport class TemplateProjectionStrategy<T extends TemplateRef<any>> extends ProjectionStrategy<T> {\r\n  constructor(\r\n    templateRef: T,\r\n    private containerStrategy: ContainerStrategy,\r\n    private contextStrategy = CONTEXT_STRATEGY.None(),\r\n  ) {\r\n    super(templateRef);\r\n  }\r\n\r\n  injectContent() {\r\n    this.containerStrategy.prepare();\r\n\r\n    const embeddedViewRef = this.containerStrategy.containerRef.createEmbeddedView(\r\n      this.content,\r\n      this.contextStrategy.context,\r\n      this.containerStrategy.getIndex(),\r\n    );\r\n    embeddedViewRef.detectChanges();\r\n\r\n    return embeddedViewRef as ComponentRefOrEmbeddedViewRef<T>;\r\n  }\r\n}\r\n\r\nexport const PROJECTION_STRATEGY = {\r\n  AppendComponentToBody<T extends Type<unknown>>(\r\n    component: T,\r\n    context?: Partial<InferredInstanceOf<T>>,\r\n  ) {\r\n    return new RootComponentProjectionStrategy<T>(\r\n      component,\r\n      context && CONTEXT_STRATEGY.Component(context),\r\n    );\r\n  },\r\n  AppendComponentToContainer<T extends Type<unknown>>(\r\n    component: T,\r\n    containerRef: ViewContainerRef,\r\n    context?: Partial<InferredInstanceOf<T>>,\r\n  ) {\r\n    return new ComponentProjectionStrategy<T>(\r\n      component,\r\n      CONTAINER_STRATEGY.Append(containerRef),\r\n      context && CONTEXT_STRATEGY.Component(context),\r\n    );\r\n  },\r\n  AppendTemplateToContainer<T extends TemplateRef<unknown>>(\r\n    templateRef: T,\r\n    containerRef: ViewContainerRef,\r\n    context?: Partial<InferredContextOf<T>>,\r\n  ) {\r\n    return new TemplateProjectionStrategy<T>(\r\n      templateRef,\r\n      CONTAINER_STRATEGY.Append(containerRef),\r\n      context && CONTEXT_STRATEGY.Template(context),\r\n    );\r\n  },\r\n  PrependComponentToContainer<T extends Type<unknown>>(\r\n    component: T,\r\n    containerRef: ViewContainerRef,\r\n    context?: Partial<InferredInstanceOf<T>>,\r\n  ) {\r\n    return new ComponentProjectionStrategy<T>(\r\n      component,\r\n      CONTAINER_STRATEGY.Prepend(containerRef),\r\n      context && CONTEXT_STRATEGY.Component(context),\r\n    );\r\n  },\r\n  PrependTemplateToContainer<T extends TemplateRef<unknown>>(\r\n    templateRef: T,\r\n    containerRef: ViewContainerRef,\r\n    context?: Partial<InferredContextOf<T>>,\r\n  ) {\r\n    return new TemplateProjectionStrategy<T>(\r\n      templateRef,\r\n      CONTAINER_STRATEGY.Prepend(containerRef),\r\n      context && CONTEXT_STRATEGY.Template(context),\r\n    );\r\n  },\r\n  ProjectComponentToContainer<T extends Type<unknown>>(\r\n    component: T,\r\n    containerRef: ViewContainerRef,\r\n    context?: Partial<InferredInstanceOf<T>>,\r\n  ) {\r\n    return new ComponentProjectionStrategy<T>(\r\n      component,\r\n      CONTAINER_STRATEGY.Clear(containerRef),\r\n      context && CONTEXT_STRATEGY.Component(context),\r\n    );\r\n  },\r\n  ProjectTemplateToContainer<T extends TemplateRef<unknown>>(\r\n    templateRef: T,\r\n    containerRef: ViewContainerRef,\r\n    context?: Partial<InferredContextOf<T>>,\r\n  ) {\r\n    return new TemplateProjectionStrategy<T>(\r\n      templateRef,\r\n      CONTAINER_STRATEGY.Clear(containerRef),\r\n      context && CONTEXT_STRATEGY.Template(context),\r\n    );\r\n  },\r\n};\r\n\r\ntype ComponentRefOrEmbeddedViewRef<T> = T extends Type<infer U>\r\n  ? ComponentRef<U>\r\n  : T extends TemplateRef<infer C>\r\n  ? EmbeddedViewRef<C>\r\n  : never;\r\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\r\n\r\nexport interface MinAgeError {\r\n  minAge: {\r\n    age: number;\r\n  };\r\n}\r\n\r\nexport interface MinAgeOptions {\r\n  age?: number;\r\n}\r\n\r\nexport function validateMinAge({ age = 18 }: MinAgeOptions = {}): ValidatorFn {\r\n  return (control: AbstractControl): MinAgeError | null => {\r\n    if (control.pristine) return null;\r\n\r\n    if (['', null, undefined].indexOf(control.value) > -1) return null;\r\n\r\n    return isValidMinAge(control.value, age) ? null : { minAge: { age } };\r\n  };\r\n}\r\n\r\nfunction isValidMinAge(value: string | number, minAge: number) {\r\n  const date = new Date();\r\n  date.setFullYear(date.getFullYear() - minAge);\r\n  date.setHours(23, 59, 59, 999);\r\n\r\n  return Number(new Date(value)) <= date.valueOf();\r\n}\r\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\r\n\r\nexport interface CreditCardError {\r\n  creditCard: true;\r\n}\r\n\r\nexport function validateCreditCard(): ValidatorFn {\r\n  return (control: AbstractControl): CreditCardError | null => {\r\n    if (control.pristine) return null;\r\n\r\n    if (['', null, undefined].indexOf(control.value) > -1) return null;\r\n\r\n    return isValidCreditCard(String(control.value)) ? null : { creditCard: true };\r\n  };\r\n}\r\n\r\nfunction isValidCreditCard(value: string): boolean {\r\n  value = value.replace(/[ -]/g, '');\r\n\r\n  if (!/^[0-9]{13,19}$/.test(value)) return false;\r\n\r\n  let checksum = 0;\r\n  let multiplier = 1;\r\n\r\n  for (let i = value.length; i > 0; i--) {\r\n    const digit = Number(value[i - 1]) * multiplier;\r\n    /* tslint:disable-next-line:no-bitwise */\r\n    checksum += (digit % 10) + ~~(digit / 10);\r\n\r\n    multiplier = (multiplier * 2) % 3;\r\n  }\r\n\r\n  return checksum % 10 === 0;\r\n}\r\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\r\n\r\nexport interface RangeError {\r\n  range: {\r\n    max: number;\r\n    min: number;\r\n  };\r\n}\r\n\r\nexport interface RangeOptions {\r\n  maximum?: number;\r\n  minimum?: number;\r\n}\r\n\r\nexport function validateRange({ maximum = Infinity, minimum = 0 }: RangeOptions = {}): ValidatorFn {\r\n  return (control: AbstractControl): RangeError | null => {\r\n    if (control.pristine) return null;\r\n\r\n    if (['', null, undefined].indexOf(control.value) > -1) return null;\r\n\r\n    const value = Number(control.value);\r\n    return getMinError(value, minimum, maximum) || getMaxError(value, maximum, minimum);\r\n  };\r\n}\r\n\r\nfunction getMaxError(value: number, max: number, min: number): RangeError {\r\n  return value > max ? { range: { max, min } } : null;\r\n}\r\n\r\nfunction getMinError(value: number, min: number, max: number): RangeError {\r\n  return value < min ? { range: { min, max } } : null;\r\n}\r\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\r\n\r\nexport interface RequiredError {\r\n  required: true;\r\n}\r\n\r\nexport interface RequiredOptions {\r\n  allowEmptyStrings?: boolean;\r\n}\r\n\r\nexport function validateRequired({ allowEmptyStrings }: RequiredOptions = {}): ValidatorFn {\r\n  return (control: AbstractControl): RequiredError | null => {\r\n    return control.pristine || isValidRequired(control.value, allowEmptyStrings)\r\n      ? null\r\n      : { required: true };\r\n  };\r\n}\r\n\r\nfunction isValidRequired(value: any, allowEmptyStrings: boolean): boolean {\r\n  if (value || value === 0 || value === false) return true;\r\n\r\n  if (allowEmptyStrings && value === '') return true;\r\n\r\n  return false;\r\n}\r\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\r\n\r\nexport interface StringLengthError {\r\n  maxlength?: {\r\n    requiredLength: number;\r\n  };\r\n  minlength?: {\r\n    requiredLength: number;\r\n  };\r\n}\r\n\r\nexport interface StringLengthOptions {\r\n  maximumLength?: number;\r\n  minimumLength?: number;\r\n}\r\n\r\nexport function validateStringLength({\r\n  maximumLength = Infinity,\r\n  minimumLength = 0,\r\n}: StringLengthOptions = {}): ValidatorFn {\r\n  return (control: AbstractControl): StringLengthError | null => {\r\n    if (control.pristine) return null;\r\n\r\n    if (['', null, undefined].indexOf(control.value) > -1) return null;\r\n\r\n    const value = String(control.value);\r\n\r\n    return getMinLengthError(value, minimumLength) || getMaxLengthError(value, maximumLength);\r\n  };\r\n}\r\n\r\nfunction getMaxLengthError(value: string, requiredLength: number): StringLengthError {\r\n  return value.length > requiredLength ? { maxlength: { requiredLength } } : null;\r\n}\r\n\r\nfunction getMinLengthError(value: string, requiredLength: number): StringLengthError {\r\n  return value.length < requiredLength ? { minlength: { requiredLength } } : null;\r\n}\r\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\r\n\r\nexport interface UrlError {\r\n  url: true;\r\n}\r\n\r\nexport function validateUrl(): ValidatorFn {\r\n  return (control: AbstractControl): UrlError | null => {\r\n    if (control.pristine) return null;\r\n\r\n    if (['', null, undefined].indexOf(control.value) > -1) return null;\r\n\r\n    return isValidUrl(control.value) ? null : { url: true };\r\n  };\r\n}\r\n\r\nfunction isValidUrl(value: string): boolean {\r\n  if (/^http(s)?:\\/\\/[^/]/.test(value) || /^ftp:\\/\\/[^/]/.test(value)) {\r\n    const a = document.createElement('a');\r\n    a.href = value;\r\n    return !!a.host;\r\n  }\r\n\r\n  return false;\r\n}\r\n","import { Validators } from '@angular/forms';\r\nimport { validateMinAge } from './age.validator';\r\nimport { validateCreditCard } from './credit-card.validator';\r\nimport { validateRange } from './range.validator';\r\nimport { validateRequired } from './required.validator';\r\nimport { validateStringLength } from './string-length.validator';\r\nimport { validateUrl } from './url.validator';\r\nexport * from './age.validator';\r\nexport * from './credit-card.validator';\r\nexport * from './range.validator';\r\nexport * from './required.validator';\r\nexport * from './string-length.validator';\r\nexport * from './url.validator';\r\n\r\nexport const AbpValidators = {\r\n  creditCard: validateCreditCard,\r\n  emailAddress: () => Validators.email,\r\n  minAge: validateMinAge,\r\n  range: validateRange,\r\n  required: validateRequired,\r\n  stringLength: validateStringLength,\r\n  url: validateUrl,\r\n};\r\n","/*\r\n * Public API Surface of core\r\n */\r\n\r\n// export * from './lib/handlers';\r\nexport * from './lib/abstracts';\r\nexport * from './lib/actions';\r\nexport * from './lib/components';\r\nexport * from './lib/constants';\r\nexport * from './lib/core.module';\r\nexport * from './lib/localization.module';\r\nexport * from './lib/directives';\r\nexport * from './lib/enums';\r\nexport * from './lib/guards';\r\nexport * from './lib/interceptors';\r\nexport * from './lib/models';\r\nexport * from './lib/pipes';\r\nexport * from './lib/plugins';\r\nexport * from './lib/services';\r\nexport * from './lib/states';\r\nexport * from './lib/strategies';\r\nexport * from './lib/tokens';\r\nexport * from './lib/utils';\r\nexport * from './lib/validators';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {AbstractNgModelComponent as a} from './lib/abstracts/ng-model.component';\nexport {GetAppConfiguration as bk,SetEnvironment as bl} from './lib/actions/config.actions';\nexport {ChangePassword as bb,GetProfile as z,UpdateProfile as ba} from './lib/actions/profile.actions';\nexport {AddReplaceableComponent as s} from './lib/actions/replaceable-components.actions';\nexport {ModifyOpenedTabCount as bg,SetLanguage as be,SetRemember as bh,SetTenant as bf} from './lib/actions/session.actions';\nexport {DynamicLayoutComponent as c} from './lib/components/dynamic-layout.component';\nexport {ReplaceableRouteContainerComponent as j} from './lib/components/replaceable-route-container.component';\nexport {RouterOutletComponent as l} from './lib/components/router-outlet.component';\nexport {AutofocusDirective as b} from './lib/directives/autofocus.directive';\nexport {InputEventDebounceDirective as h} from './lib/directives/debounce.directive';\nexport {EllipsisDirective as d} from './lib/directives/ellipsis.directive';\nexport {ForDirective as e} from './lib/directives/for.directive';\nexport {FormSubmitDirective as f} from './lib/directives/form-submit.directive';\nexport {InitDirective as g} from './lib/directives/init.directive';\nexport {PermissionDirective as i} from './lib/directives/permission.directive';\nexport {ReplaceableTemplateDirective as k} from './lib/directives/replaceable-template.directive';\nexport {StopPropagationDirective as n} from './lib/directives/stop-propagation.directive';\nexport {VisibilityDirective as o} from './lib/directives/visibility.directive';\nexport {RoutesHandler as bw} from './lib/handlers/routes.handler';\nexport {ApiInterceptor as bs} from './lib/interceptors/api.interceptor';\nexport {ABP as bi,Profile as bc} from './lib/models';\nexport {ABP as y} from './lib/models/common';\nexport {Config as bm} from './lib/models/config';\nexport {ReplaceableComponents as t} from './lib/models/replaceable-components';\nexport {LocalizationPipe as p,MockLocalizationPipe as q} from './lib/pipes/localization.pipe';\nexport {SortPipe as m} from './lib/pipes/sort.pipe';\nexport {ConfigPlugin as br,NGXS_CONFIG_PLUGIN_OPTIONS as bq} from './lib/plugins/config.plugin';\nexport {LocaleId as bn,LocaleProvider as bo} from './lib/providers/locale.provider';\nexport {LocalizationService as bp} from './lib/services/localization.service';\nexport {ProfileService as v} from './lib/services/profile.service';\nexport {RestService as w} from './lib/services/rest.service';\nexport {AbstractNavTreeService as by,AbstractTreeService as bx,RoutesService as bz} from './lib/services/routes.service';\nexport {ConfigState as bj} from './lib/states/config.state';\nexport {ProfileState as u} from './lib/states/profile.state';\nexport {ReplaceableComponentsState as r} from './lib/states/replaceable-components.state';\nexport {SessionState as bd} from './lib/states/session.state';\nexport {CORE_OPTIONS as x} from './lib/tokens/options.token';\nexport {noop as bv} from './lib/utils/common-utils';\nexport {getInitialData as bt,localeInitializer as bu} from './lib/utils/initial-utils';"],"names":["AbstractNgModelComponent","ChangeDetectorRef","Input","Component","Injector","SessionState","ofActionSuccessful","take","fromEvent","Action","Selector","State","Injectable","OAuthService","Store","Actions","ConfigState","createSelector","tap","switchMap","of","catchError","throwError","HttpClient","Subject","takeUntil","BehaviorSubject","AbstractNavTreeService","RoutesService","SettingTabsService","ReplaceableComponentsState","PRIMARY_OUTLET","DynamicLayoutComponent","ActivatedRoute","Router","NavigationEnd","Optional","SkipSelf","ReplaceableRouteContainerComponent","distinctUntilChanged","RouterOutletComponent","AutofocusDirective","Directive","ElementRef","InputEventDebounceDirective","EventEmitter","debounceTime","Output","EllipsisDirective","HostBinding","ForDirective","TemplateRef","ViewContainerRef","IterableDiffers","Compiler","NgModuleFactory","InjectionToken","differentLocales","registerLocaleData","Observable","FormSubmitDirective","filter","Self","FormGroupDirective","InitDirective","RestService","Inject","ProfileService","ProfileState","PermissionDirective","Renderer2","ReplaceableTemplateDirective","ComponentFactoryResolver","StopPropagationDirective","VisibilityDirective","RoutesHandler","ApiInterceptor","finalize","LocalizationPipe","Pipe","MockLocalizationPipe","LocalizationModule","NgModule","SortPipe","ConfigPlugin","actionMatcher","InitState","UpdateState","setValue","LocalizationService","noop","map","NgZone","LOCALE_ID","BaseCoreModule","CommonModule","HttpClientModule","FormsModule","ReactiveFormsModule","RouterModule","OAuthModule","RootCoreModule","NgxsModule","NgxsRouterPluginModule","NgxsStoragePluginModule","TestCoreModule","CoreModule","APP_BASE_HREF","NGXS_PLUGINS","HTTP_INTERCEPTORS","APP_INITIALIZER","OAuthStorage","AuthGuard","PermissionGuard","ApplicationConfigurationService","AuthService","from","HttpHeaders","Navigate","ConfigStateService","ContentProjectionService","DomInsertionService","LazyLoadService","retryWhen","concat","delay","shareReplay","ListService","ReplaySubject","ProfileStateService","SessionStateService","TrackByService","ApplicationRef","Validators"],"mappings":";;;;;;;;;;IAAA;;;;;;;;;;;;;;IAcA;IAEA,IAAI,aAAa,GAAG,UAAS,CAAC,EAAE,CAAC;QAC7B,aAAa,GAAG,MAAM,CAAC,cAAc;aAChC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;YAC5E,UAAU,CAAC,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC;gBAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;oBAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC/E,OAAO,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/B,CAAC,CAAC;aAEc,SAAS,CAAC,CAAC,EAAE,CAAC;QAC1B,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,KAAK,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;QACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;IACzF,CAAC;IAEM,IAAI,QAAQ,GAAG;QAClB,QAAQ,GAAG,MAAM,CAAC,MAAM,IAAI,SAAS,QAAQ,CAAC,CAAC;YAC3C,KAAK,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBACjD,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;gBACjB,KAAK,IAAI,CAAC,IAAI,CAAC;oBAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;wBAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;aAChF;YACD,OAAO,CAAC,CAAC;SACZ,CAAA;QACD,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAC3C,CAAC,CAAA;aAEe,MAAM,CAAC,CAAC,EAAE,CAAC;QACvB,IAAI,CAAC,GAAG,EAAE,CAAC;QACX,KAAK,IAAI,CAAC,IAAI,CAAC;YAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;gBAC/E,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAChB,IAAI,CAAC,IAAI,IAAI,IAAI,OAAO,MAAM,CAAC,qBAAqB,KAAK,UAAU;YAC/D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACpE,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,SAAS,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC1E,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aACzB;QACL,OAAO,CAAC,CAAC;IACb,CAAC;aAEe,UAAU,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI;QACpD,IAAI,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,IAAI,KAAK,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;QAC7H,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU;YAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;;YAC1H,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;gBAAE,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC;oBAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;QAClJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IAClE,CAAC;aAEe,OAAO,CAAC,UAAU,EAAE,SAAS;QACzC,OAAO,UAAU,MAAM,EAAE,GAAG,IAAI,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC,EAAE,CAAA;IACzE,CAAC;aAEe,UAAU,CAAC,WAAW,EAAE,aAAa;QACjD,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ,KAAK,UAAU;YAAE,OAAO,OAAO,CAAC,QAAQ,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC;IACnI,CAAC;aAEe,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS;QACvD,SAAS,KAAK,CAAC,KAAK,IAAI,OAAO,KAAK,YAAY,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC,UAAU,OAAO,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;QAC5G,OAAO,KAAK,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,EAAE,UAAU,OAAO,EAAE,MAAM;YACrD,SAAS,SAAS,CAAC,KAAK,IAAI,IAAI;gBAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;aAAE;YAAC,OAAO,CAAC,EAAE;gBAAE,MAAM,CAAC,CAAC,CAAC,CAAC;aAAE,EAAE;YAC3F,SAAS,QAAQ,CAAC,KAAK,IAAI,IAAI;gBAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;aAAE;YAAC,OAAO,CAAC,EAAE;gBAAE,MAAM,CAAC,CAAC,CAAC,CAAC;aAAE,EAAE;YAC9F,SAAS,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE;YAC9G,IAAI,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;SACzE,CAAC,CAAC;IACP,CAAC;aAEe,WAAW,CAAC,OAAO,EAAE,IAAI;QACrC,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,cAAa,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;gBAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACjH,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,MAAM,KAAK,UAAU,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,cAAa,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACzJ,SAAS,IAAI,CAAC,CAAC,IAAI,OAAO,UAAU,CAAC,IAAI,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;QAClE,SAAS,IAAI,CAAC,EAAE;YACZ,IAAI,CAAC;gBAAE,MAAM,IAAI,SAAS,CAAC,iCAAiC,CAAC,CAAC;YAC9D,OAAO,CAAC;gBAAE,IAAI;oBACV,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI;wBAAE,OAAO,CAAC,CAAC;oBAC7J,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;wBAAE,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;oBACxC,QAAQ,EAAE,CAAC,CAAC,CAAC;wBACT,KAAK,CAAC,CAAC;wBAAC,KAAK,CAAC;4BAAE,CAAC,GAAG,EAAE,CAAC;4BAAC,MAAM;wBAC9B,KAAK,CAAC;4BAAE,CAAC,CAAC,KAAK,EAAE,CAAC;4BAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;wBACxD,KAAK,CAAC;4BAAE,CAAC,CAAC,KAAK,EAAE,CAAC;4BAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;4BAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;4BAAC,SAAS;wBACjD,KAAK,CAAC;4BAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;4BAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;4BAAC,SAAS;wBACjD;4BACI,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;gCAAE,CAAC,GAAG,CAAC,CAAC;gCAAC,SAAS;6BAAE;4BAC5G,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;gCAAE,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;gCAAC,MAAM;6BAAE;4BACtF,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;gCAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gCAAC,CAAC,GAAG,EAAE,CAAC;gCAAC,MAAM;6BAAE;4BACrE,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;gCAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gCAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gCAAC,MAAM;6BAAE;4BACnE,IAAI,CAAC,CAAC,CAAC,CAAC;gCAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;4BACtB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;4BAAC,SAAS;qBAC9B;oBACD,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;iBAC9B;gBAAC,OAAO,CAAC,EAAE;oBAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBAAC,CAAC,GAAG,CAAC,CAAC;iBAAE;wBAAS;oBAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;iBAAE;YAC1D,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;gBAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;YAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;SACpF;IACL,CAAC;aAEe,eAAe,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE;QACvC,IAAI,EAAE,KAAK,SAAS;YAAE,EAAE,GAAG,CAAC,CAAC;QAC7B,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC;aAEe,YAAY,CAAC,CAAC,EAAE,OAAO;QACnC,KAAK,IAAI,CAAC,IAAI,CAAC;YAAE,IAAI,CAAC,KAAK,SAAS,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;gBAAE,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1F,CAAC;aAEe,QAAQ,CAAC,CAAC;QACtB,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,MAAM,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QAC9E,IAAI,CAAC;YAAE,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACxB,IAAI,CAAC,IAAI,OAAO,CAAC,CAAC,MAAM,KAAK,QAAQ;YAAE,OAAO;gBAC1C,IAAI,EAAE;oBACF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM;wBAAE,CAAC,GAAG,KAAK,CAAC,CAAC;oBACnC,OAAO,EAAE,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC;iBAC3C;aACJ,CAAC;QACF,MAAM,IAAI,SAAS,CAAC,CAAC,GAAG,yBAAyB,GAAG,iCAAiC,CAAC,CAAC;IAC3F,CAAC;aAEe,MAAM,CAAC,CAAC,EAAE,CAAC;QACvB,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QAC3D,IAAI,CAAC,CAAC;YAAE,OAAO,CAAC,CAAC;QACjB,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;QACjC,IAAI;YACA,OAAO,CAAC,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,IAAI;gBAAE,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;SAC9E;QACD,OAAO,KAAK,EAAE;YAAE,CAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;SAAE;gBAC/B;YACJ,IAAI;gBACA,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC;oBAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;aACpD;oBACO;gBAAE,IAAI,CAAC;oBAAE,MAAM,CAAC,CAAC,KAAK,CAAC;aAAE;SACpC;QACD,OAAO,EAAE,CAAC;IACd,CAAC;aAEe,QAAQ;QACpB,KAAK,IAAI,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE;YAC9C,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzC,OAAO,EAAE,CAAC;IACd,CAAC;aAEe,cAAc;QAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE;YAAE,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;QACpF,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE;YAC5C,KAAK,IAAI,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE;gBAC7D,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACpB,OAAO,CAAC,CAAC;IACb,CAAC;IAAA,CAAC;aAEc,OAAO,CAAC,CAAC;QACrB,OAAO,IAAI,YAAY,OAAO,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC;IACzE,CAAC;aAEe,gBAAgB,CAAC,OAAO,EAAE,UAAU,EAAE,SAAS;QAC3D,IAAI,CAAC,MAAM,CAAC,aAAa;YAAE,MAAM,IAAI,SAAS,CAAC,sCAAsC,CAAC,CAAC;QACvF,IAAI,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;QAC9D,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,cAAc,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;QACtH,SAAS,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;YAAE,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,IAAI,OAAO,IAAI,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;QAC1I,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI,IAAI;YAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAAE;QAAC,OAAO,CAAC,EAAE;YAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAAE,EAAE;QAClF,SAAS,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,YAAY,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;QACxH,SAAS,OAAO,CAAC,KAAK,IAAI,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,EAAE;QAClD,SAAS,MAAM,CAAC,KAAK,IAAI,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,EAAE;QAClD,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM;YAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACtF,CAAC;aAEe,gBAAgB,CAAC,CAAC;QAC9B,IAAI,CAAC,EAAE,CAAC,CAAC;QACT,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,cAAc,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;QAC5I,SAAS,IAAI,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,IAAI,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,KAAK,QAAQ,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;IACnJ,CAAC;aAEe,aAAa,CAAC,CAAC;QAC3B,IAAI,CAAC,MAAM,CAAC,aAAa;YAAE,MAAM,IAAI,SAAS,CAAC,sCAAsC,CAAC,CAAC;QACvF,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;QACnC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,OAAO,QAAQ,KAAK,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,cAAc,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;QACjN,SAAS,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,UAAU,CAAC,IAAI,OAAO,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;QAChK,SAAS,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,IAAI,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAS,CAAC,IAAI,OAAO,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,EAAE;IAChI,CAAC;aAEe,oBAAoB,CAAC,MAAM,EAAE,GAAG;QAC5C,IAAI,MAAM,CAAC,cAAc,EAAE;YAAE,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC;SAAE;aAAM;YAAE,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC;SAAE;QAC/G,OAAO,MAAM,CAAC;IAClB,CAAC;IAAA,CAAC;aAEc,YAAY,CAAC,GAAG;QAC5B,IAAI,GAAG,IAAI,GAAG,CAAC,UAAU;YAAE,OAAO,GAAG,CAAC;QACtC,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,IAAI,GAAG,IAAI,IAAI;YAAE,KAAK,IAAI,CAAC,IAAI,GAAG;gBAAE,IAAI,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;oBAAE,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;QAC/F,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC;QACrB,OAAO,MAAM,CAAC;IAClB,CAAC;aAEe,eAAe,CAAC,GAAG;QAC/B,OAAO,CAAC,GAAG,IAAI,GAAG,CAAC,UAAU,IAAI,GAAG,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;IAC5D,CAAC;aAEe,sBAAsB,CAAC,QAAQ,EAAE,UAAU;QACvD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;YAC3B,MAAM,IAAI,SAAS,CAAC,gDAAgD,CAAC,CAAC;SACzE;QACD,OAAO,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IACpC,CAAC;aAEe,sBAAsB,CAAC,QAAQ,EAAE,UAAU,EAAE,KAAK;QAC9D,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;YAC3B,MAAM,IAAI,SAAS,CAAC,gDAAgD,CAAC,CAAC;SACzE;QACD,UAAU,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QAChC,OAAO,KAAK,CAAC;IACjB;;ICtNA;IACA;AAEaA,cAAwB;QAoCnC,kCAAmB,QAAkB;YAAlB,aAAQ,GAAR,QAAQ,CAAU;YAvBrC,YAAO,GAAuC,UAAA,KAAK,IAAK,OAAA,KAAkB,GAAA,CAAC;YAG3E,iBAAY,GAAyC,UAAA,KAAK,IAAI,OAAA,KAAK,GAAA,CAAC;;YAsBlE,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,GAAG,CAACC,oBAAiB,CAAC,CAAC;SAC9C;QApBD,sBAAI,2CAAK;iBAST;gBACE,OAAO,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,YAAY,CAAC;aACzC;iBAXD,UAAU,KAAQ;gBAChB,KAAK,GAAG,IAAI,CAAC,OAAO,CAAE,KAAkB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;gBAEvD,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,KAAK,IAAI,IAAI,CAAC,QAAQ;oBAAE,OAAO;gBAE7E,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;gBACpB,IAAI,CAAC,iBAAiB,EAAE,CAAC;aAC1B;;;WAAA;QAMD,sBAAI,kDAAY;iBAAhB;gBACE,OAAO,IAAI,CAAC,MAAM,CAAC;aACpB;;;WAAA;QAOD,oDAAiB,GAAjB;YACE,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACjB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC3B;SACF;QAED,6CAAU,GAAV,UAAW,KAAQ;YAAnB,iBAGC;YAFC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC;YAC7D,UAAU,CAAC,cAAM,OAAA,KAAI,CAAC,KAAK,CAAC,YAAY,EAAE,GAAA,EAAE,CAAC,CAAC,CAAC;SAChD;QAED,mDAAgB,GAAhB,UAAiB,EAAO;YACtB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;SACpB;QAED,oDAAiB,GAAjB,UAAkB,EAAO;YACvB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;SACrB;QAED,mDAAgB,GAAhB,UAAiB,UAAmB;YAClC,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC;SAC5B;uCACF;KA/DD,IA+DC;IAxDC;QADCC,QAAK,EAAE;;gDACU;IAGlB;QADCA,QAAK,EAAE;;gDACU;IAGlB;QADCA,QAAK,EAAE;;+CACmE;IAG3E;QADCA,QAAK,EAAE;;oDAC4D;IAGpE;QADCA,QAAK,EAAE;;;2CAQP;AA1BUF,cAAwB;QADpCG,YAAS,CAAC,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAC;yCAqCGC,WAAQ;OApC1BJ,UAAwB,CA+DpC;;;QCnED;;;;IACkB,wBAAI,GAAG,gCAAgC,CAAC;;QAKxD,wBAAmB,WAA+B;YAA/B,gBAAW,GAAX,WAAW,CAAoB;SAAI;;;IADtC,mBAAI,GAAG,0BAA0B;;;QCHjD,qBAAmB,OAAyB;YAAzB,YAAO,GAAP,OAAO,CAAkB;SAAI;;;IADhC,gBAAI,GAAG,gBAAgB,CAAC;;QAMxC,oBAAmB,OAAyB;YAAzB,YAAO,GAAP,OAAO,CAAkB;SAAI;;;IADhC,eAAI,GAAG,eAAe;;;QCNxC;;;;IACkB,eAAI,GAAG,eAAe,CAAC;;QAKvC,uBAAmB,OAAyB;YAAzB,YAAO,GAAP,OAAO,CAAkB;SAAI;;;IADhC,kBAAI,GAAG,kBAAkB,CAAC;;QAM1C,wBAAmB,OAAsC;YAAtC,YAAO,GAAP,OAAO,CAA+B;SAAI;;;IAD7C,mBAAI,GAAG,2BAA2B;;ICVpD;;;;QAKE,iCAAmB,OAAmD;YAAnD,YAAO,GAAP,OAAO,CAA4C;SAAI;;;IAD1D,4BAAI,GAAG,6BAA6B;;;QCFpD,wBAAmB,OAAgC;YAAhC,YAAO,GAAP,OAAO,CAAyB;SAAI;;;IADvC,mBAAI,GAAG,cAAc;;;QCCrC,qBAAmB,OAAe,EAAS,wBAAkC;YAA1D,YAAO,GAAP,OAAO,CAAQ;YAAS,6BAAwB,GAAxB,wBAAwB,CAAU;SAAI;;;IADjE,gBAAI,GAAG,wBAAwB,CAAC;;QAKhD,mBAAmB,OAAsB;YAAtB,YAAO,GAAP,OAAO,CAAe;SAAI;;;IAD7B,cAAI,GAAG,sBAAsB,CAAC;;QAK9C,8BAAmB,SAAkC;YAAlC,cAAS,GAAT,SAAS,CAAyB;SAAI;;;IADzC,yBAAI,GAAG,mCAAmC,CAAC;;QAK3D,qBAAmB,OAAgB;YAAhB,YAAO,GAAP,OAAO,CAAS;SAAI;;;IADvB,gBAAI,GAAG,wBAAwB;;;ACYpCK,eAAY;QAgBvB,sBAAoB,YAA0B,EAAU,KAAY,EAAU,OAAgB;YAA9F,iBAyBC;YAzBmB,iBAAY,GAAZ,YAAY,CAAc;YAAU,UAAK,GAAL,KAAK,CAAO;YAAU,YAAO,GAAP,OAAO,CAAS;YAC5F,OAAO;iBACJ,IAAI,CAACC,qBAAkB,CAAC,mBAAmB,CAAC,CAAC;iBAC7C,IAAI,CAACC,cAAI,CAAC,CAAC,CAAC,CAAC;iBACb,SAAS,CAAC;gBACD,IAAA,mGAAa,CAAsE;gBAE3F,IAAM,iBAAiB,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;gBAE/D,IACE,aAAa,CAAC,YAAY;oBAC1B,aAAa,CAAC,cAAc,KAAK,CAAC;oBAClC,KAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE;oBACvC,aAAa,CAAC,QAAQ,KAAK,KAAK;oBAChC,aAAa,CAAC,YAAY,GAAG,iBAAiB,EAC9C;oBACA,KAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;iBAC5B;gBAED,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,oBAAoB,CAAC,UAAU,CAAC,CAAC,CAAC;gBAE1DC,cAAS,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,SAAS,CAAC,UAAA,KAAK;oBACzC,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,oBAAoB,CAAC,UAAU,CAAC,CAAC,CAAC;iBAC3D,CAAC,CAAC;aACJ,CAAC,CAAC;SACN;QAvCM,wBAAW,GAAlB,UAAmB,EAA2B;gBAAzB,sBAAQ;YAC3B,OAAO,QAAQ,CAAC;SACjB;QAGM,sBAAS,GAAhB,UAAiB,EAAyB;gBAAvB,kBAAM;YACvB,OAAO,MAAM,CAAC;SACf;QAGM,6BAAgB,GAAvB,UAAwB,EAAgC;gBAA9B,gCAAa;YACrC,OAAO,aAAa,CAAC;SACtB;QA8BD,kCAAW,GAAX,UACE,EAAqD,EACrD,EAAyD;gBADvD,0BAAU,EAAE,sBAAQ;gBACpB,oBAAO,EAAE,gCAA+B,EAA/B,oDAA+B;YAE1C,UAAU,CAAC;gBACT,QAAQ,EAAE,OAAO;aAClB,CAAC,CAAC;YAEH,IAAI,wBAAwB;gBAAE,OAAO,QAAQ,CAAC,IAAI,mBAAmB,EAAE,CAAC,CAAC;SAC1E;QAGD,gCAAS,GAAT,UAAU,EAA2C,EAAE,EAAsB;gBAAjE,0BAAU;gBAAmC,oBAAO;YAC9D,UAAU,CAAC;gBACT,MAAM,EAAE,OAAO;aAChB,CAAC,CAAC;SACJ;QAGD,kCAAW,GAAX,UACE,EAAqD,EACrD,EAAkC;gBADhC,sBAAQ,EAAE,0BAAU;gBACpB,qBAAiB;YAEX,IAAA,wCAAa,CAAgB;YAErC,UAAU,CAAC;gBACT,aAAa,kCACR,aAAa,KAChB,QAAQ,UAAA,GACT;aACF,CAAC,CAAC;SACJ;QAGD,2CAAoB,GAApB,UACE,EAAqD,EACrD,EAAmC;gBADjC,sBAAQ,EAAE,0BAAU;gBACpB,wBAAS;;YAGX,IAAI,sDAC0E,EADxE,kCAAc,EAAE,8BAAY,EAAE,uDAC0C,CAAC;YAE/E,IAAI,SAAS,KAAK,UAAU,EAAE;gBAC5B,cAAc,EAAE,CAAC;aAClB;iBAAM,IAAI,SAAS,KAAK,UAAU,EAAE;gBACnC,cAAc,EAAE,CAAC;gBACjB,YAAY,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;aACrC;YAED,IAAI,CAAC,cAAc,IAAI,cAAc,GAAG,CAAC,EAAE;gBACzC,cAAc,GAAG,CAAC,CAAC;aACpB;YAED,UAAU,CAAC;gBACT,aAAa,kBACX,cAAc,gBAAA;oBACd,YAAY,cAAA,IACT,MAAM,CACV;aACF,CAAC,CAAC;SACJ;2BACF;KAzGD,IAyGC;IA7DC;QADCC,SAAM,CAAC,WAAW,CAAC;;iDAG4B,WAAW;;kDAO1D;IAGD;QADCA,SAAM,CAAC,SAAS,CAAC;;iDACkD,SAAS;;gDAI5E;IAGD;QADCA,SAAM,CAAC,WAAW,CAAC;;iDAGK,WAAW;;kDAUnC;IAGD;QADCA,SAAM,CAAC,oBAAoB,CAAC;;iDAGZ,oBAAoB;;2DAwBpC;IAtGD;QADCC,WAAQ,EAAE;;;;wCAGV;IAGD;QADCA,WAAQ,EAAE;;;;sCAGV;IAGD;QADCA,WAAQ,EAAE;;;;6CAGV;AAdUL,eAAY;QALxBM,QAAK,CAAgB;YACpB,IAAI,EAAE,cAAc;YACpB,QAAQ,EAAE,EAAE,aAAa,EAAE,EAAE,cAAc,EAAE,CAAC,EAAE,EAAmB;SACpE,CAAC;QACDC,aAAU,EAAE;yCAiBuBC,iBAAY,EAAiBC,QAAK,EAAmBC,UAAO;OAhBnFV,WAAY,CAyGxB;;;AClHYW,eAAW;QA0KtB,qBAAoB,IAAgB,EAAU,KAAY;YAAtC,SAAI,GAAJ,IAAI,CAAY;YAAU,UAAK,GAAL,KAAK,CAAO;SAAI;QAxKvD,kBAAM,GAAb,UAAc,KAAmB;YAC/B,OAAO,KAAK,CAAC;SACd;QAGM,8BAAkB,GAAzB,UAA0B,KAAmB;YAC3C,OAAO,KAAK,CAAC,WAAW,CAAC,WAAW,IAAK,EAAyB,CAAC;SACpE;QAEM,kBAAM,GAAb,UAAc,GAAW;YACvB,IAAM,QAAQ,GAAGC,iBAAc,CAAC,CAAC,aAAW,CAAC,EAAE,UAAC,KAAmB;gBACjE,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC;aACnB,CAAC,CAAC;YAEH,OAAO,QAAQ,CAAC;SACjB;QAEM,mBAAO,GAAd,UAAe,IAAuB;YACpC,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;gBAC5B,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;aACxB;YAED,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBACxB,MAAM,IAAI,KAAK,CAAC,uDAAuD,CAAC,CAAC;aAC1E;YAED,IAAM,QAAQ,GAAGA,iBAAc,CAAC,CAAC,aAAW,CAAC,EAAE,UAAC,KAAmB;gBACjE,OAAQ,IAAiB,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,GAAG;oBACxC,IAAI,GAAG,EAAE;wBACP,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC;qBACjB;oBAED,OAAO,SAAS,CAAC;iBAClB,EAAE,KAAK,CAAC,CAAC;aACX,CAAC,CAAC;YAEH,OAAO,QAAQ,CAAC;SACjB;QAEM,qBAAS,GAAhB,UAAiB,GAAY;YAC3B,IAAM,QAAQ,GAAGA,iBAAc,CAAC,CAAC,aAAW,CAAC,EAAE,UAAC,KAAmB;gBACjE,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,IAAI,SAAS,CAAC,IAAI,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC;aACzF,CAAC,CAAC;YAEH,OAAO,QAAQ,CAAC;SACjB;QAEM,sBAAU,GAAjB,UAAkB,GAAW;YAC3B,IAAM,QAAQ,GAAGA,iBAAc,CAAC,CAAC,aAAW,CAAC,EAAE,UAAC,KAAmB;gBACjE,OAAO,GAAG,CAAC,cAAM,OAAA,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,GAAA,CAAC,CAAC;aAC7C,CAAC,CAAC;YAEH,OAAO,QAAQ,CAAC;SACjB;QAEM,uBAAW,GAAlB,UAAmB,OAAgB;YACjC,IAAM,QAAQ,GAAGA,iBAAc,CAAC,CAAC,aAAW,CAAC,EAAE,UAAC,KAAmB;gBACjE,IAAM,QAAQ,GAAG,GAAG,CAAC,cAAM,OAAA,KAAK,CAAC,OAAO,CAAC,MAAM,GAAA,EAAE,EAAE,CAAC,CAAC;gBAErD,IAAI,CAAC,OAAO;oBAAE,OAAO,QAAQ,CAAC;gBAE9B,IAAM,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAA,CAAC,CAAC;gBAEjF,OAAO,SAAS,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,GAAG;oBAC/B,GAAG,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;oBACzB,OAAO,GAAG,CAAC;iBACZ,EAAE,EAAE,CAAC,CAAC;aACR,CAAC,CAAC;YAEH,OAAO,QAAQ,CAAC;SACjB;QAEM,4BAAgB,GAAvB,UAAwB,GAAW;YACjC,IAAM,QAAQ,GAAGA,iBAAc,CAAC,CAAC,aAAW,CAAC,EAAE,UAAC,KAAmB;gBACjE,IAAI,CAAC,GAAG;oBAAE,OAAO,IAAI,CAAC;gBACtB,IAAM,SAAS,GAAG,UAAC,CAAS,IAAK,OAAA,GAAG,CAAC,cAAM,OAAA,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,GAAA,EAAE,KAAK,CAAC,GAAA,CAAC;gBAEjF,IAAM,QAAQ,GAAG,OAAO,CAAC;gBACzB,IAAM,SAAS,GAAG,KAAK,CAAC;;gBAGxB,IAAI,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;oBACtB,IAAM,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;oBAE7C,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC;wBAAE,OAAO,KAAK,CAAC;oBAElC,OAAO,IAAI,CAAC,IAAI,CAAC,UAAA,CAAC,IAAI,OAAA,SAAS,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,GAAA,CAAC,CAAC;iBAC5C;qBAAM,IAAI,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;oBAC9B,IAAM,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;oBAE7C,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC;wBAAE,OAAO,KAAK,CAAC;oBAElC,OAAO,IAAI,CAAC,KAAK,CAAC,UAAA,CAAC,IAAI,OAAA,SAAS,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,GAAA,CAAC,CAAC;iBAC7C;gBAED,OAAO,SAAS,CAAC,GAAG,CAAC,CAAC;aACvB,CAAC,CAAC;YAEH,OAAO,QAAQ,CAAC;SACjB;QAEM,2BAAe,GAAtB,UACE,GAA4C;YAC5C,2BAA8B;iBAA9B,UAA8B,EAA9B,qBAA8B,EAA9B,IAA8B;gBAA9B,0CAA8B;;YAE9B,IAAI,CAAC,GAAG;gBAAE,GAAG,GAAG,EAAE,CAAC;YACnB,IAAI,YAAoB,CAAC;YAEzB,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;gBAC3B,YAAY,GAAG,GAAG,CAAC,YAAY,CAAC;gBAChC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;aACf;YAED,IAAM,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,CAAa,CAAC;YACzC,IAAM,QAAQ,GAAGA,iBAAc,CAAC,CAAC,aAAW,CAAC,EAAE,UAAC,KAAmB;gBACjE,IAAM,IAAI,GAAG,UAAC,OAAe;oBAC3B,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,UAAU;wBAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBAC1D,CAAC;gBAEF,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;oBACnB,IAAI,CAAC,mDAAmD,CAAC,CAAC;oBAC1D,OAAO,YAAY,IAAK,GAAc,CAAC;iBACxC;gBACD,IAAI,CAAC,KAAK,CAAC,YAAY;oBAAE,OAAO,YAAY,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;gBAExD,IAAM,UAAU,GACd,IAAI,CAAC,CAAC,CAAC;oBACP,GAAG,CAAC,cAAM,OAAA,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,mBAAmB,GAAA,CAAC;oBAC7D,KAAK,CAAC,YAAY,CAAC,mBAAmB,CAAC;gBACzC,IAAM,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;gBAE1B,IAAI,UAAU,KAAK,GAAG,EAAE;oBACtB,OAAO,YAAY,IAAI,SAAS,CAAC;iBAClC;gBAED,IAAI,CAAC,UAAU,EAAE;oBACf,IAAI,CACF,wFAAwF,CACzF,CAAC;oBAEF,OAAO,YAAY,IAAI,SAAS,CAAC;iBAClC;gBAED,IAAM,MAAM,GAAG,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;gBACrD,IAAI,CAAC,MAAM,EAAE;oBACX,IAAI,CAAC,sCAAsC,GAAG,UAAU,CAAC,CAAC;oBAC1D,OAAO,YAAY,IAAI,SAAS,CAAC;iBAClC;gBAED,IAAI,YAAY,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;gBACrC,IAAI,OAAO,YAAY,KAAK,WAAW,EAAE;oBACvC,OAAO,YAAY,IAAI,SAAS,CAAC;iBAClC;gBAED,iBAAiB,GAAG,iBAAiB,CAAC,MAAM,CAAC,UAAA,MAAM,IAAI,OAAA,MAAM,IAAI,IAAI,GAAA,CAAC,CAAC;gBACvE,IAAI,YAAY,IAAI,iBAAiB,IAAI,iBAAiB,CAAC,MAAM,EAAE;oBACjE,iBAAiB,CAAC,OAAO,CAAC,UAAA,KAAK;wBAC7B,YAAY,GAAG,YAAY,CAAC,OAAO,CAAC,yBAAyB,EAAE,KAAK,CAAC,CAAC;qBACvE,CAAC,CAAC;iBACJ;gBAED,IAAI,OAAO,YAAY,KAAK,QAAQ;oBAAE,YAAY,GAAG,EAAE,CAAC;gBACxD,OAAO,YAAY,IAAI,YAAY,IAAK,GAAc,CAAC;aACxD,CAAC,CAAC;YAEH,OAAO,QAAQ,CAAC;SACjB;QAKD,6BAAO,GAAP,UAAQ,EAAoD;YAA5D,iBAgCC;gBAhCS,0BAAU,EAAE,sBAAQ;YAC5B,IAAM,OAAO,GAAG,SAAS,CAAC;YAC1B,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,aAAW,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;YACtE,OAAO,IAAI,CAAC,IAAI;iBACb,GAAG,CAAuC,GAAG,uCAAoC,CAAC;iBAClF,IAAI,CACHC,aAAG,CAAC,UAAA,aAAa,IACf,OAAA,UAAU,mBACL,aAAa,EAChB,GAAA,CACH,EACDC,mBAAS,CAAC,UAAA,aAAa;gBACrB,IAAI,WAAW,GACb,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,kCAAkC,CAAC,CAAC;gBAEnE,IAAI,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;oBAC7B,WAAW,GAAG,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iBACzC;gBAED,QAAQ,CAAC,eAAe,CAAC,YAAY,CACnC,MAAM,EACN,aAAa,CAAC,YAAY,CAAC,cAAc,CAAC,WAAW,CACtD,CAAC;gBACF,OAAO,KAAI,CAAC,KAAK,CAAC,cAAc,CAACd,WAAY,CAAC,WAAW,CAAC;sBACtDe,OAAE,CAAC,IAAI,CAAC;sBACR,QAAQ,CAAC,IAAI,WAAW,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC,CAAC;aACnD,CAAC,EACFC,oBAAU,CAAC,UAAC,GAAsB;gBAChC,QAAQ,CAAC,IAAI,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC;gBAClC,OAAOC,eAAU,CAAC,GAAG,CAAC,CAAC;aACxB,CAAC,CACH,CAAC;SACL;QAGD,oCAAc,GAAd,UAAe,EAA0C,EAAE,EAA+B;gBAAzE,0BAAU;gBAAkC,4BAAW;YACtE,OAAO,UAAU,CAAC;gBAChB,WAAW,aAAA;aACZ,CAAC,CAAC;SACJ;0BACF;KArND,IAqNC;IAxCC;QADCb,SAAM,CAAC,mBAAmB,CAAC;;;;8CAiC3B;IAGD;QADCA,SAAM,CAAC,cAAc,CAAC;;iDACqD,cAAc;;qDAIzF;IAlND;QADCC,WAAQ,EAAE;;;;mCAGV;IAGD;QADCA,WAAQ,EAAE;;;;+CAGV;AATUM,eAAW;QALvBL,QAAK,CAAe;YACnB,IAAI,EAAE,aAAa;YACnB,QAAQ,EAAE,EAAkB;SAC7B,CAAC;QACDC,aAAU,EAAE;yCA2KeW,eAAU,EAAiBT,QAAK;OA1K/CE,WAAW,CAqNvB;;ICpOD,SAAS,UAAU,CAAC,KAAK;QACvB,OAAO,OAAO,KAAK,KAAK,UAAU,CAAC;IACrC,CAAC;QAEY,gBAAgB,GAAG,UAAC,iBAAiB,EAAE,iBAAiC;QAAjC,kCAAA,EAAA,iCAAiC;QAAK,OAAA,UACxF,MAAqB;YAErB,IAAM,eAAe,GAAG,iBAAiB,CAAC,iBAAiB,CAAC,CAAC;YAC7D,IAAI,UAAU,CAAC,eAAe,CAAC,KAAK,KAAK,EAAE;gBACzC,MAAM,IAAI,KAAK,CACV,iBAAiB,CAAC,WAAW,CAAC,IAAI,uDAAkD,iBAAmB,CAC3G,CAAC;aACH;YACD,IAAI,CAAC,iBAAiB,CAAC,oBAAoB,CAAC,EAAE;gBAC5C,iBAAiB,CAAC,oBAAoB,CAAC,GAAG,IAAIQ,YAAO,EAAE,CAAC;gBAExD,iBAAiB,CAAC,iBAAiB,CAAC,GAAG;;oBAErC,UAAU,CAAC,eAAe,CAAC,IAAI,eAAe,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;oBACtE,iBAAiB,CAAC,oBAAoB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACnD,iBAAiB,CAAC,oBAAoB,CAAC,CAAC,QAAQ,EAAE,CAAC;iBACpD,CAAC;aACH;YACD,OAAO,MAAM,CAAC,IAAI,CAACC,mBAAS,CAAI,iBAAiB,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;SAC3E;IApByF;;aCP1E,WAAW,CAAgB,KAAU;QACnD,OAAO,UAAC,OAAU;YAChB,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACpB,OAAO,KAAK,CAAC;SACd,CAAC;IACJ;;;QCAE,sBAAY,KAAQ;YAJpB,aAAQ,GAAkB,EAAE,CAAC;YAC7B,WAAM,GAAG,IAAI,CAAC;YAIZ,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;SAC5B;QAEM,mBAAM,GAAb,UAAgC,KAAQ;YACtC,OAAO,IAAI,YAAY,CAAI,KAAK,CAAgB,CAAC;SAClD;2BACF;KAAA,IAAA;aAEe,kBAAkB,CAChC,IAAS,EACT,WAAkD,EAClD,iBAAqC,EACrC,WAA2B;QAE3B,IAAM,GAAG,GAAG,iBAAiB,CAAC,IAAI,EAAE,WAAW,EAAE,WAAW,CAAC,CAAC;QAC9D,IAAM,IAAI,GAAuC,EAAE,CAAC;QAEpD,IAAI,CAAC,OAAO,CAAC,UAAA,GAAG;YACd,IAAM,EAAE,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC;YAC5B,IAAM,QAAQ,GAAG,iBAAiB,CAAC,GAAG,CAAC,CAAC;YACxC,IAAM,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;YAEzB,IAAI,QAAQ,EAAE;gBACZ,IAAM,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBACjC,IAAI,CAAC,MAAM;oBAAE,OAAO;gBACnB,MAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACnC,MAAc,CAAC,MAAM,GAAG,KAAK,CAAC;gBAC9B,IAAY,CAAC,MAAM,GAAG,MAAM,CAAC;aAC/B;iBAAM;gBACL,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACjB;SACF,CAAC,CAAC;QAEH,OAAO,IAAI,CAAC;IACd,CAAC;aAEe,iBAAiB,CAC/B,IAAS,EACT,WAAkD,EAClD,WAA2B;QAI3B,IAAM,GAAG,GAAG,IAAI,GAAG,EAAc,CAAC;QAClC,IAAI,CAAC,OAAO,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE,WAAW,CAAC,GAAG,CAAC,CAAC,GAAA,CAAC,CAAC;QACjE,OAAO,GAAG,CAAC;IACb;;;QC1CA;YAMU,WAAM,GAAG,IAAIC,oBAAe,CAAM,EAAE,CAAC,CAAC;YACtC,WAAM,GAAG,IAAIA,oBAAe,CAAgB,EAAE,CAAC,CAAC;YAChD,cAAS,GAAG,IAAIA,oBAAe,CAAgB,EAAE,CAAC,CAAC;SA4G5D;QA1GC,sBAAI,qCAAI;iBAAR;gBACE,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;aAC1B;;;WAAA;QAED,sBAAI,sCAAK;iBAAT;gBACE,OAAO,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;aACnC;;;WAAA;QAED,sBAAI,qCAAI;iBAAR;gBACE,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;aAC1B;;;WAAA;QAED,sBAAI,sCAAK;iBAAT;gBACE,OAAO,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;aACnC;;;WAAA;QAED,sBAAI,wCAAO;iBAAX;gBACE,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;aAC7B;;;WAAA;QAED,sBAAI,yCAAQ;iBAAZ;gBACE,OAAO,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;aACtC;;;WAAA;QAES,wCAAU,GAAV,UAAW,KAAU;YAArB,iBAOT;YANC,OAAO,kBAAkB,CACvB,KAAK,EACL,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,KAAI,CAAC,EAAE,CAAC,GAAA,EACrB,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,KAAI,CAAC,QAAQ,CAAC,GAAA,EAC3B,UAAA,IAAI,IAAI,OAAA,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,GAAA,CAClC,CAAC;SACH;QAEO,wCAAU,GAAV,UAAW,QAAsC;YAAjD,iBAIP;YAHC,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAC7B,UAAA,IAAI,IAAI,OAAA,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,KAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,GAAA,CAC3E,CAAC;SACH;QAEO,qCAAO,GAAP,UAAQ,SAAc,EAAE,YAAiB;YAC/C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAC5B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC;YAC7C,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,CAAC;YACnD,OAAO,SAAS,CAAC;SAClB;QAED,iCAAG,GAAH,UAAI,KAAU;YAAd,iBAWC;YAVC,IAAM,GAAG,GAAG,IAAI,GAAG,EAAa,CAAC;YACjC,KAAK,CAAC,OAAO,CAAC,UAAA,IAAI,IAAI,OAAA,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,KAAI,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAA,CAAC,CAAC;YAEpD,IAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;YACvC,GAAG,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC;YAEpC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC1B,IAAM,YAAY,GAAG,SAAS,CAAC,MAAM,CAAC,UAAA,IAAI,IAAI,OAAA,CAAC,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAA,CAAC,CAAC;YAEhE,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;SAC9C;QAED,kCAAI,GAAJ,UAAK,SAAyC,EAAE,IAAgB;YAAhE,iBAKC;YAL+C,qBAAA,EAAA,OAAO,IAAI,CAAC,IAAI;YAC9D,OAAO,IAAI,CAAC,MAAM,CAChB,UAAC,GAAG,EAAE,IAAI,IAAK,QAAC,GAAG,GAAG,GAAG,GAAG,SAAS,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,KAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAC,EACzF,IAAI,CACL,CAAC;SACH;QAED,mCAAK,GAAL,UAAM,UAAkB,EAAE,KAAiB;YAA3C,iBAWC;YAVC,IAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;YACpC,IAAM,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,KAAI,CAAC,EAAE,CAAC,KAAK,UAAU,GAAA,CAAC,CAAC;YACxE,IAAI,KAAK,GAAG,CAAC;gBAAE,OAAO,KAAK,CAAC;YAE5B,SAAS,CAAC,KAAK,CAAC,mCAAQ,SAAS,CAAC,KAAK,CAAC,GAAK,KAAK,CAAE,CAAC;YAErD,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC1B,IAAM,YAAY,GAAG,SAAS,CAAC,MAAM,CAAC,UAAA,IAAI,IAAI,OAAA,CAAC,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAA,CAAC,CAAC;YAEhE,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;SAC9C;QAED,qCAAO,GAAP;YACE,OAAO,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;SACrB;QAED,oCAAM,GAAN,UAAO,WAAqB;YAA5B,iBAQC;YAPC,IAAM,GAAG,GAAG,IAAI,GAAG,EAAU,CAAC;YAC9B,WAAW,CAAC,OAAO,CAAC,UAAA,EAAE,IAAI,OAAA,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAA,CAAC,CAAC;YAEvC,IAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;YACvC,IAAM,YAAY,GAAG,SAAS,CAAC,MAAM,CAAC,UAAA,IAAI,IAAI,OAAA,CAAC,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAA,CAAC,CAAC;YAEhE,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;SAC9C;QAED,oCAAM,GAAN,UAAO,MAAkB,EAAE,IAAgB;YAA3C,iBAYC;YAZ0B,qBAAA,EAAA,OAAO,IAAI,CAAC,IAAI;YACzC,IAAM,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAEvC,OAAO,IAAI,CAAC,MAAM,CAChB,UAAC,GAAG,EAAE,IAAI,IACR,OAAA,GAAG;kBACC,GAAG;kBACH,UAAU,CAAC,KAAK,CAAC,UAAA,GAAG,IAAI,OAAA,IAAI,CAAC,GAAG,CAAC,KAAK,MAAM,CAAC,GAAG,CAAC,GAAA,CAAC;sBAClD,IAAI;sBACJ,KAAI,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAA,EACxC,IAAI,CACL,CAAC;SACH;kCACF;KAAA,IAAA;AAGqBC,eAAsB;QAA4B,0CAAsB;QAY5F,gCAAsB,OAAgB,EAAY,KAAY;YAA9D,YACE,iBAAO,SAKR;YANqB,aAAO,GAAP,OAAO,CAAS;YAAY,WAAK,GAAL,KAAK,CAAO;YAVrD,QAAE,GAAG,MAAM,CAAC;YACZ,cAAQ,GAAG,YAAY,CAAC;YACxB,UAAI,GAAG,UAAC,IAAO,IAAK,OAAA,IAAI,CAAC,SAAS,IAAI,CAAC,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAA,CAAC;YAC5D,UAAI,GAAG,UAAC,CAAI,EAAE,CAAI;gBACzB,IAAI,CAAC,CAAC,CAAC,KAAK;oBAAE,OAAO,CAAC,CAAC;gBACvB,IAAI,CAAC,CAAC,CAAC,KAAK;oBAAE,OAAO,CAAC,CAAC,CAAC;gBAExB,OAAO,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;aAC1B,CAAC;YAKA,KAAI,CAAC,OAAO;iBACT,IAAI,CAAC,gBAAgB,CAAC,KAAI,CAAC,EAAErB,qBAAkB,CAAC,mBAAmB,CAAC,CAAC;iBACrE,SAAS,CAAC,cAAM,OAAA,KAAI,CAAC,OAAO,EAAE,GAAA,CAAC,CAAC;;SACpC;QAES,0CAAS,GAAT,UAAU,EAAqB;gBAAnB,kCAAc;YAClC,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAACU,WAAW,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC,CAAC;SAChF;QAED,4CAAW,GAAX,UAAY,UAAkB;YAA9B,iBAGC;;YAFC,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,KAAI,CAAC,EAAE,CAAC,KAAK,UAAU,GAAA,CAAC,CAAC;YAC7D,OAAO,OAAO,OAAC,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,QAAQ,0CAAE,MAAM,CAAC,CAAC;SACxC;QAED,kDAAiB,GAAjB,UAAkB,UAAkB;YAApC,iBAGC;;YAFC,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,KAAI,CAAC,EAAE,CAAC,KAAK,UAAU,GAAA,CAAC,CAAC;YAC7D,aAAO,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,QAAQ,0CAAE,IAAI,CAAC,UAAA,KAAK,IAAI,OAAA,KAAK,CAAC,SAAS,GAAA,EAAE;SACvD;;QAGD,4CAAW,GAAX,eAAgB;qCACjB;KAAA,CApCuE,mBAAsB,GAoC7F;AApCqBW,eAAsB;QAD3Cf,aAAU,EAAE;yCAaoBG,UAAO,EAAmBD,QAAK;OAZ1Ca,WAAsB,CAoC3C;AAGYC,eAAa;QAAS,iCAAiC;QAApE;;SAAuE;4BAAA;KAAA,CAApCD,WAAiC,GAAG;;AAA1DC,eAAa;QADzBhB,aAAU,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC;OACtBgB,WAAa,CAA6C;AAG1DC,8BAAkB;QAAS,sCAA+B;QAAvE;;SAA0E;iCAAA;KAAA,CAAlCF,WAA+B,GAAG;;AAA7DE,8BAAkB;QAD9BjB,aAAU,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC;OACtBiB,0BAAkB,CAA2C;;;AChK7DC,cAA0B;QAAvC;SAwCC;QAtCQ,iCAAM,GAAb,UAAc,EAEgB;gBAD5B,gDAAqB;YAErB,OAAO,qBAAqB,IAAI,EAAE,CAAC;SACpC;QAEM,uCAAY,GAAnB,UAAoB,GAAW;YAC7B,IAAM,QAAQ,GAAGb,iBAAc,CAC7B,CAAC,4BAA0B,CAAC,EAC5B,UAAC,KAAkC;gBACjC,OAAO,GAAG,CAAC,cAAM,OAAA,KAAK,CAAC,qBAAqB,CAAC,IAAI,CAAC,UAAA,SAAS,IAAI,OAAA,SAAS,CAAC,GAAG,KAAK,GAAG,GAAA,CAAC,GAAA,CAAC,CAAC;aACxF,CACF,CAAC;YAEF,OAAO,QAAQ,CAAC;SACjB;QAGD,gEAA2B,GAA3B,UACE,EAAmE,EACnE,EAAoC;gBADlC,sBAAQ,EAAE,0BAAU;gBACpB,oBAAO;YAEH,IAAA,wDAAqB,CAAgB;YAE3C,IAAM,KAAK,GAAG,GAAG,CACf,cAAM,OAAA,qBAAqB,CAAC,SAAS,CAAC,UAAA,SAAS,IAAI,OAAA,SAAS,CAAC,GAAG,KAAK,OAAO,CAAC,GAAG,GAAA,CAAC,GAAA,EACjF,CAAC,CAAC,CACH,CAAC;YACF,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;gBACd,qBAAqB,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC;aACxC;iBAAM;gBACL,qBAAqB,YAAO,qBAAqB,GAAE,OAAO,EAAC,CAAC;aAC7D;YAED,UAAU,CAAC;gBACT,qBAAqB,uBAAA;aACtB,CAAC,CAAC;SACJ;yCACF;KAxCD,IAwCC;IApBC;QADCR,SAAM,CAAC,uBAAuB,CAAC;;iDAGjB,uBAAuB;;iEAiBrC;IArCD;QADCC,WAAQ,EAAE;;;;kCAKV;AANUoB,cAA0B;QALtCnB,QAAK,CAA8B;YAClC,IAAI,EAAE,4BAA4B;YAClC,QAAQ,EAAE,EAAE,qBAAqB,EAAE,EAAE,EAAiC;SACvE,CAAC;QACDC,aAAU,EAAE;OACAkB,UAA0B,CAwCtC;;aC9Ce,SAAS,CAAC,MAAqB,EAAE,IAAY;QAC3D,IAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,UAAA,KAAK,IAAI,OAAA,KAAK,CAAC,IAAI,KAAK,IAAI,GAAA,CAAC,CAAC;QAEvD,OAAO,IAAI,IAAI,IAAI,KAAK,GAAG;cACvB,IAAI;cACJ,SAAS,CACP,MAAM,EACN,IAAI;iBACD,KAAK,CAAC,GAAG,CAAC;iBACV,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBACZ,IAAI,CAAC,GAAG,CAAC,CACb,CAAC;IACR,CAAC;aAEe,YAAY,CAAC,MAAc;QACzC,IAAM,UAAU,GAAG,EAAE,QAAQ,EAAE,EAAE,EAAqB,CAAC;QACvD,IAAM,YAAY,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAACC,iBAAc,CAAC,CAAC;QAE/E,OAAO,GAAG,GAAG,CAAC,YAAY,IAAI,UAAU,EAAE,QAAQ,CAAC,GAAG,CAAC,UAAC,EAAQ;gBAAN,cAAI;YAAO,OAAA,IAAI;SAAA,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACvF;;ACFaC,cAAsB;QAGjC,gCACE,QAAkB,EACV,KAAY,EACI,sBAA8C;YAHxE,iBAsCC;YApCS,UAAK,GAAL,KAAK,CAAO;YAGpB,IAAI,sBAAsB;gBAAE,OAAO;YACnC,IAAM,KAAK,GAAG,QAAQ,CAAC,GAAG,CAACC,iBAAc,CAAC,CAAC;YAC3C,IAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAACC,SAAM,CAAC,CAAC;YACpC,IAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAACN,WAAa,CAAC,CAAC;YAC3C,IAAM,OAAO,GAAG;gBACd,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,kCAAkC,CAAC;gBAClE,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,8BAA8B,CAAC;gBAC1D,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,4BAA4B,CAAC;aACvD,CAAC;YAEF,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,UAAA,KAAK;gBACxD,IAAI,KAAK,YAAYO,gBAAa,EAAE;oBAClC,IAAI,cAAc,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAE,EAAE,MAAM,CAAC;oBAExD,IAAI,CAAC,cAAc,EAAE;wBACnB,IAAI,IAAI,GAAG,SAAS,CAAC,MAAM,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;wBACnD,IAAI,GAAG,EAAE,MAAM,EAAE,IAAI,EAAyB,CAAC;wBAE/C,OAAO,IAAI,CAAC,MAAM,EAAE;4BAClB,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC;4BAEnB,IAAI,IAAI,CAAC,MAAM,EAAE;gCACf,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC;gCAC7B,MAAM;6BACP;yBACF;qBACF;oBAED,IAAI,CAAC,cAAc;wBAAE,cAAc,uBAAqB;oBAExD,KAAI,CAAC,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC;iBACjD;aACF,CAAC,CAAC;SACJ;QAEO,6CAAY,GAAZ,UAAa,GAAW;YAC9B,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAACL,UAA0B,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;SAChF;QAED,4CAAW,GAAX,eAAgB;qCACjB;KAhDD,IAgDC;AAhDYE,cAAsB;QAVlC7B,YAAS,CAAC;YACT,QAAQ,EAAE,oBAAoB;YAC9B,QAAQ,EAAE,gTAMT;SACF,CAAC;QAOG,WAAAiC,WAAQ,EAAE,CAAA,EAAE,WAAAC,WAAQ,EAAE,CAAA;yCAFbjC,WAAQ;YACHU,QAAK;YAC4BkB,UAAsB;OAN7DA,UAAsB,CAgDlC;;ACvDYM,cAAkC;QAO7C,4CAAoB,KAAqB,EAAU,KAAY;YAA3C,UAAK,GAAL,KAAK,CAAgB;YAAU,UAAK,GAAL,KAAK,CAAO;SAAI;QAEnE,qDAAQ,GAAR;YAAA,iBAWC;YAVC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,CAAC;YACvF,IAAI,CAAC,YAAY,GAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI;iBAC1C,oBAAwD,CAAC,GAAG,CAAC;YAEhE,IAAI,CAAC,KAAK;iBACP,MAAM,CAACR,UAA0B,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;iBAClE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAES,8BAAoB,EAAE,CAAC;iBACpD,SAAS,CAAC,UAAC,GAAsD;gBAAtD,oBAAA,EAAA,QAAsD;gBAChE,KAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC,SAAS,CAAC;aACxC,CAAC,CAAC;SACN;QAED,wDAAW,GAAX,eAAgB;iDACjB;KAvBD,IAuBC;AAvBYD,cAAkC;QAN9CnC,YAAS,CAAC;YACT,QAAQ,EAAE,iCAAiC;YAC3C,QAAQ,EAAE,sGAET;SACF,CAAC;yCAQ2B8B,iBAAc,EAAiBnB,QAAK;OAPpDwB,UAAkC,CAuB9C;;AC9BYE,cAAqB;QAAlC;SAAqC;oCAAA;KAArC,IAAqC;AAAxBA,cAAqB;QANjCrC,YAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;YAC7B,QAAQ,EAAE,2CAET;SACF,CAAC;OACWqC,UAAqB,CAAG;;ACFxBC,cAAkB;QAI7B,4BAAoB,KAAiB;YAAjB,UAAK,GAAL,KAAK,CAAY;YAFrC,UAAK,GAAG,CAAC,CAAC;SAE+B;QAEzC,4CAAe,GAAf;YAAA,iBAEC;YADC,UAAU,CAAC,cAAM,OAAA,KAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,EAAE,GAAA,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;SAChE;iCACF;KATD,IASC;IAPC;QADCvC,QAAK,CAAC,WAAW,CAAC;;6CACT;AAFCuC,cAAkB;QAJ9BC,YAAS,CAAC;;YAET,QAAQ,EAAE,aAAa;SACxB,CAAC;yCAK2BC,aAAU;OAJ1BF,UAAkB,CAS9B;;ACEYG,cAA2B;QAKtC,qCAAoB,EAAc;YAAd,OAAE,GAAF,EAAE,CAAY;YAJzB,aAAQ,GAAG,GAAG,CAAC;YAEW,kBAAa,GAAG,IAAIC,eAAY,EAAS,CAAC;SAEvC;QAEtC,8CAAQ,GAAR;YAAA,iBAMC;YALCrC,cAAS,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,OAAO,CAAC;iBACtC,IAAI,CAACsC,sBAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,gBAAgB,CAAC,IAAI,CAAC,CAAC;iBACzD,SAAS,CAAC,UAAC,KAAY;gBACtB,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAChC,CAAC,CAAC;SACN;QAED,iDAAW,GAAX,eAAsB;0CACvB;KAhBD,IAgBC;IAfU;QAAR5C,QAAK,EAAE;;gDAAgB;IAEE;QAAzB6C,SAAM,CAAC,gBAAgB,CAAC;;qDAAoD;AAHlEH,cAA2B;QAJvCF,YAAS,CAAC;;YAET,QAAQ,EAAE,kBAAkB;SAC7B,CAAC;yCAMwBC,aAAU;OALvBC,UAA2B,CAgBvC;;AC5BYI,cAAiB;QA0B5B,2BAAoB,KAAwB,EAAU,KAAiB;YAAnD,UAAK,GAAL,KAAK,CAAmB;YAAU,UAAK,GAAL,KAAK,CAAY;YAjBvE,YAAO,GAAG,IAAI,CAAC;SAiB4D;QAd3E,sBAAI,0CAAW;iBAAf;gBACE,OAAO,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC;aACnC;;;WAAA;QAGD,sBAAI,oCAAK;iBAAT;gBACE,OAAO,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;aACpC;;;WAAA;QAGD,sBAAI,uCAAQ;iBAAZ;gBACE,OAAO,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,OAAO,GAAG,SAAS,CAAC;aACvE;;;WAAA;QAID,2CAAe,GAAf;YACE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAK,IAAI,CAAC,KAAK,CAAC,aAA6B,CAAC,SAAS,CAAC;YAC/E,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;SAC5B;gCACF;KAhCD,IAgCC;IA9BC;QADC9C,QAAK,CAAC,aAAa,CAAC;;6CACP;IAId;QAFC+C,cAAW,CAAC,OAAO,CAAC;QACpB/C,QAAK,EAAE;;6CACM;IAGd;QADCA,QAAK,CAAC,oBAAoB,CAAC;;+CACb;IAGf;QADC+C,cAAW,CAAC,2BAA2B,CAAC;;;iDAGxC;IAGD;QADCA,cAAW,CAAC,oBAAoB,CAAC;;;2CAGjC;IAGD;QADCA,cAAW,CAAC,iBAAiB,CAAC;;;8CAG9B;AAxBUD,cAAiB;QAH7BN,YAAS,CAAC;YACT,QAAQ,EAAE,eAAe;SAC1B,CAAC;yCA2B2BzC,oBAAiB,EAAiB0C,aAAU;OA1B5DK,UAAiB,CAgC7B;;ICnBD;QACE,uBAAmB,SAAc,EAAS,KAAa,EAAS,KAAa,EAAS,IAAW;YAA9E,cAAS,GAAT,SAAS,CAAK;YAAS,UAAK,GAAL,KAAK,CAAQ;YAAS,UAAK,GAAL,KAAK,CAAQ;YAAS,SAAI,GAAJ,IAAI,CAAO;SAAI;4BACtG;KAAA,IAAA;IAED;QACE,oBAAmB,MAAiC,EAAS,IAAoC;YAA9E,WAAM,GAAN,MAAM,CAA2B;YAAS,SAAI,GAAJ,IAAI,CAAgC;SAAI;yBACtG;KAAA,IAAA;AAKYE,cAAY;QAqCvB,sBACU,OAAmC,EACnC,KAAuB,EACvB,OAAwB;YAFxB,YAAO,GAAP,OAAO,CAA4B;YACnC,UAAK,GAAL,KAAK,CAAkB;YACvB,YAAO,GAAP,OAAO,CAAiB;SAC9B;QAZJ,sBAAI,mCAAS;iBAAb;gBACE,OAAO,IAAI,CAAC,SAAS,IAAI,OAAO,CAAC;aAClC;;;WAAA;QAED,sBAAI,mCAAS;iBAAb;gBACE,OAAO,IAAI,CAAC,OAAO,KAAK,UAAC,KAAa,EAAE,IAAS,IAAM,OAAA,IAAY,CAAC,EAAE,IAAI,KAAK,GAAA,CAAC,CAAC;aAClF;;;WAAA;QAQO,mDAA4B,GAA5B,UAA6B,OAA6B;YAA1D,iBAyBP;YAxBC,IAAM,EAAE,GAAiB,EAAE,CAAC;YAE5B,OAAO,CAAC,gBAAgB,CAAC,UAAC,MAAiC,EAAE,aAAqB,EAAE,YAAoB;gBACtG,IAAI,MAAM,CAAC,aAAa,IAAI,IAAI,EAAE;oBAChC,IAAM,IAAI,GAAG,KAAI,CAAC,KAAK,CAAC,kBAAkB,CACxC,KAAI,CAAC,OAAO,EACZ,IAAI,aAAa,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,KAAI,CAAC,KAAK,CAAC,EAC3C,YAAY,CACb,CAAC;oBAEF,EAAE,CAAC,IAAI,CAAC,IAAI,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC;iBACvC;qBAAM,IAAI,YAAY,IAAI,IAAI,EAAE;oBAC/B,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;iBAClC;qBAAM;oBACL,IAAM,IAAI,GAAG,KAAI,CAAC,KAAK,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;oBAC3C,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;oBAEpC,EAAE,CAAC,IAAI,CAAC,IAAI,UAAU,CAAC,MAAM,EAAE,IAAsC,CAAC,CAAC,CAAC;iBACzE;aACF,CAAC,CAAC;YAEH,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBACzC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC;aAClD;SACF;QAEO,+CAAwB,GAAxB,UAAyB,OAA6B;YAAtD,iBAYP;YAXC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBACjD,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAmC,CAAC;gBACpE,OAAO,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC;gBAC1B,OAAO,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC;gBAC1B,OAAO,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;aACnC;YAED,OAAO,CAAC,qBAAqB,CAAC,UAAC,MAAiC;gBAC9D,IAAM,OAAO,GAAG,KAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,YAAY,CAAmC,CAAC;gBACtF,OAAO,CAAC,OAAO,CAAC,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC;aACzC,CAAC,CAAC;SACJ;QAEO,mCAAY,GAAZ,UAAa,KAAY;YAC/B,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,IAAI,CAAC,QAAQ,EAAE;gBAClC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;;gBAEnB,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC;gBACvD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;gBAC3B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBAEnB,OAAO;aACR;YAED,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,cAAc,EAAE;gBACxC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;gBACnB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;aAC7B;YAED,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,KAAK,EAAE;gBACzB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAC/D;YAED,IAAI,IAAI,CAAC,MAAM,EAAE;gBACf,IAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAExC,IAAI,OAAO,EAAE;oBACX,IAAI,CAAC,4BAA4B,CAAC,OAAO,CAAC,CAAC;oBAC3C,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;iBACxC;aACF;SACF;QAEO,gCAAS,GAAT,UAAU,KAAY;YAAtB,iBAMP;YALC,IAAI,IAAI,CAAC,OAAO,EAAE;gBAChB,KAAK,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,QAAC,CAAC,CAAC,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAC,CAAC,CAAC;aAC5G;iBAAM;gBACL,KAAK,CAAC,IAAI,EAAE,CAAC;aACd;SACF;QAED,kCAAW,GAAX;YAAA,iBAyBC;YAxBC,IAAI,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAU,CAAC;YACvC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC;gBAAE,OAAO;YAElC,IAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;YAEjC,IAAI,OAAO,IAAI,CAAC,QAAQ,KAAK,WAAW,IAAI,OAAO,IAAI,CAAC,SAAS,KAAK,WAAW,IAAI,IAAI,CAAC,SAAS,KAAK,EAAE,EAAE;gBAC1G,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,UAAA,IAAI,IAAI,OAAA,SAAS,CAAC,IAAI,CAAC,KAAI,CAAC,QAAQ,CAAC,EAAE,KAAI,CAAC,SAAS,CAAC,GAAA,CAAC,CAAC;aAC9E;YAED,QAAQ,IAAI,CAAC,QAAQ;gBACnB,KAAK,KAAK;oBACR,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;oBACtB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;oBACzB,MAAM;gBAER,KAAK,MAAM;oBACT,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;oBACtB,KAAK,CAAC,OAAO,EAAE,CAAC;oBAChB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;oBACzB,MAAM;gBAER;oBACE,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;aAC5B;SACF;2BACF;KApJD,IAoJC;IAlJC;QADChD,QAAK,CAAC,UAAU,CAAC;;6CACL;IAGb;QADCA,QAAK,CAAC,eAAe,CAAC;;+CACP;IAGhB;QADCA,QAAK,CAAC,gBAAgB,CAAC;;gDACC;IAGzB;QADCA,QAAK,CAAC,gBAAgB,CAAC;;gDACP;IAGjB;QADCA,QAAK,CAAC,iBAAiB,CAAC;;iDACV;IAGf;QADCA,QAAK,CAAC,eAAe,CAAC;;+CACf;IAGR;QADCA,QAAK,CAAC,iBAAiB,CAAC;;iDACJ;IAGrB;QADCA,QAAK,CAAC,gBAAgB,CAAC;kCACdiD,cAAW;gDAAM;AAvBhBD,cAAY;QAHxBR,YAAS,CAAC;YACT,QAAQ,EAAE,UAAU;SACrB,CAAC;yCAuCmBS,cAAW;YACbC,mBAAgB;YACdC,kBAAe;OAxCvBH,UAAY,CAoJxB;;aCjLe,IAAI;;QAElB,IAAM,EAAE,GAAG,eAAa,CAAC;QACzB,OAAO,EAAE,CAAC;IACZ,CAAC;aAEe,wBAAwB,CAAC,KAAc;QACrD,OAAO,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,EAAE,CAAC;IAC7C;;;QCE0C,qCAAkB;QAK1D,2BAAoB,mBAA2C;YAA/D,YACE,iBAAO,SACR;YAFmB,yBAAmB,GAAnB,mBAAmB,CAAwB;;SAE9D;QAND,sBAAI,yCAAU;iBAAd;gBACE,OAAO,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC;aAC1C;;;WAAA;QAMD,kCAAM,GAAN,UAAO,cAA+B;YACpC,IAAM,QAAQ,GAAG9C,WAAQ,CAAC,MAAM,CAAC;gBAC/B,MAAM,EAAE,cAAc;gBACtB,SAAS,EAAE,IAAI,CAAC,mBAAmB,CAAC,SAA6B;aAClE,CAAC,CAAC;YAEH,IAAM,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAACkD,WAAQ,CAAC,CAAC;YACxC,IAAM,OAAO,GAAG,QAAQ,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAE5D,OAAO,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;SACjC;gCACF;KApBD,CAA0CC,kBAAkB;;aCV5C,QAAQ,CAAC,KAAsB;;QAE7C,OAAO,KAAK,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC;IAChC;;aCAgB,gBAAgB,CAAI,KAAQ;QAC1C,IAAM,OAAO,GAAoB,EAAE,CAAC;QAEpC,KAAK,IAAM,MAAM,IAAI,KAAK;YACxB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;gBACnB,OAAO,CAAC,IAAI,CAAC;oBACX,GAAG,EAAE,MAAM;oBACX,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC;iBACrB,CAAC,CAAC;QAEP,OAAO,OAAO,CAAC;IACjB;;ICdA;aAEgB,IAAI,CAAC,CAAO;QAC1B,OAAO,CAAC;cACJ,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,EAAE,CAAC;cACpD,CAAC,EAAE,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACtE,CAAC;aAEe,YAAY,CAAC,KAAa;QACxC,IAAI,MAAM,GAAG,CAAC,CAAC;QACf,IAAI,QAAgB,CAAC;QAErB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACrC,QAAQ,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC/B,MAAM,GAAG,CAAC,MAAM,IAAI,CAAC,IAAI,MAAM,GAAG,QAAQ,CAAC;YAC3C,MAAM,IAAI,CAAC,CAAC;SACb;QACD,OAAO,MAAM,CAAC;IAChB,CAAC;aAEe,gBAAgB,CAAC,MAAU;QAAV,uBAAA,EAAA,UAAU;QACzC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC;QAE5C,IAAM,MAAM,GAAG,4BAA4B,CAAC;QAC5C,IAAM,MAAM,GAAG,4BAA4B,CAAC;QAC5C,IAAM,OAAO,GAAG,YAAY,CAAC;QAC7B,IAAM,QAAQ,GAAG,sBAAsB,CAAC;QACxC,IAAM,GAAG,GAAG,MAAM,GAAG,MAAM,GAAG,OAAO,GAAG,QAAQ,CAAC;QAEjD,IAAM,SAAS,GAAG,UAAC,MAAc,IAAK,OAAA,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,GAAA,CAAC;QAExF,IAAM,QAAQ,GAAG,KAAK,CAAC,EAAE,MAAM,QAAA,EAAE,CAAC,CAAC;QACnC,QAAQ,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC;QAChC,QAAQ,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC;QAChC,QAAQ,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,OAAO,CAAC,CAAC;QACjC,QAAQ,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,QAAQ,CAAC,CAAC;QAElC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;YAC/B,QAAQ,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;SAC9B;QAED,OAAO,QAAQ,CAAC,IAAI,CAAC,cAAM,OAAA,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,GAAA,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAC3D;;IC1CA;IACA;AAEA,yBAAe;QACb,OAAO,EAAE,OAAO;QAChB,gBAAgB,EAAE,gBAAgB;QAClC,OAAO,EAAE,IAAI;QACb,OAAO,EAAE,IAAI;QACb,OAAO,EAAE,IAAI;QACb,UAAU,EAAE,IAAI;QAChB,SAAS,EAAE,IAAI;QACf,SAAS,EAAE,IAAI;QACf,SAAS,EAAE,IAAI;QACf,UAAU,EAAE,IAAI;QAChB,UAAU,EAAE,IAAI;QAChB,GAAG,EAAE,IAAI;QACT,GAAG,EAAE,IAAI;QACT,OAAO,EAAE,IAAI;QACb,SAAS,EAAE,IAAI;QACf,SAAS,EAAE,IAAI;QACf,SAAS,EAAE,IAAI;QACf,OAAO,EAAE,IAAI;QACb,SAAS,EAAE,IAAI;QACf,OAAO,EAAE,IAAI;QACb,SAAS,EAAE,SAAS;QACpB,YAAY,EAAE,SAAS;QACvB,YAAY,EAAE,SAAS;QACvB,SAAS,EAAE,IAAI;QACf,SAAS,EAAE,IAAI;QACf,SAAS,EAAE,IAAI;QACf,SAAS,EAAE,IAAI;QACf,SAAS,EAAE,IAAI;KAChB;;QC7BY,YAAY,GAAG,IAAIC,iBAAc,CAAW,cAAc;;aCQvD,cAAc,CAAC,QAAkB;QAC/C,IAAM,EAAE,GAAG;YACT,IAAM,KAAK,GAAU,QAAQ,CAAC,GAAG,CAAC1C,QAAK,CAAC,CAAC;YACjC,IAAA,4EAAuB,CAA4C;YAE3E,IAAI,uBAAuB;gBAAE,OAAO;YAEpC,OAAO,KAAK;iBACT,QAAQ,CAAC,IAAI,mBAAmB,EAAE,CAAC;iBACnC,IAAI,CAACI,aAAG,CAAC,UAAA,GAAG,IAAI,OAAA,gBAAgB,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAA,CAAC,CAAC;iBACnD,SAAS,EAAE,CAAC;SAChB,CAAC;QAEF,OAAO,EAAE,CAAC;IACZ,CAAC;IAED,SAAS,gBAAgB,CAAC,KAAY,EAAE,QAAkB;QACxD,IAAM,KAAK,GAAG,QAAQ,CAAC,GAAG,CAACL,iBAAY,CAAC,CAAC;QACzC,IAAI,KAAK,CAAC,mBAAmB,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAACG,WAAW,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,EAAE;YAC/F,KAAK,CAAC,MAAM,EAAE,CAAC;SAChB;IACH,CAAC;aAEe,iBAAiB,CAAC,QAAkB;QAClD,IAAM,EAAE,GAAG;YACT,IAAM,KAAK,GAAU,QAAQ,CAAC,GAAG,CAACF,QAAK,CAAC,CAAC;YAEzC,IAAM,IAAI,GAAG,KAAK,CAAC,cAAc,CAAC,UAAA,KAAK,IAAI,OAAA,KAAK,CAAC,YAAY,CAAC,QAAQ,GAAA,CAAC,IAAI,IAAI,CAAC;YAEhF,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;gBACjC,cAAc,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,cAAM,OAAA,OAAO,CAAC,UAAU,CAAC,GAAA,EAAE,MAAM,CAAC,CAAC;aAC9D,CAAC,CAAC;SACJ,CAAC;QAEF,OAAO,EAAE,CAAC;IACZ,CAAC;aAEe,cAAc,CAAC,MAAc;QAC3C,OAAO;;QAEL,8BAA2B2C,cAAgB,CAAC,MAAM,CAAC,IAAI,MAAM,SAAK,CACnE,CAAC,IAAI,CAAC,UAAA,MAAM;YACXC,yBAAkB,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;SACpC,CAAC,CAAC;IACL;;;QCtDE,6BAAmB,WAA4C,EAAS,SAAkB;YAAvE,gBAAW,GAAX,WAAW,CAAiC;YAAS,cAAS,GAAT,SAAS,CAAS;SAAI;QAE9F,4CAAc,GAAd,UAAsC,OAAU;YAC9C,IAAI,IAAI,CAAC,SAAS;gBAAE,OAAO,CAAC,YAAY,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YACtE,OAAO,CAAC,YAAY,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;SACvD;kCACF;KAAA,IAAA;QAEY,qBAAqB,GAAG;QACnC,SAAS,YAAC,SAAkB;YAC1B,OAAO,IAAI,mBAAmB,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;SACxD;QACD,cAAc,YAAC,SAAkB;YAC/B,OAAO,IAAI,mBAAmB,CAAC,iBAAiB,EAAE,SAAS,CAAC,CAAC;SAC9D;;;;QCdD,qBACS,MAAmC,EACnC,QAAsC;YADtC,uBAAA,EAAA,SAAsB,QAAQ,CAAC,IAAI;YACnC,yBAAA,EAAA,sBAAsC;YADtC,WAAM,GAAN,MAAM,CAA6B;YACnC,aAAQ,GAAR,QAAQ,CAA8B;SAC3C;QAEJ,mCAAa,GAAb,UAAqC,OAAU;YAC7C,IAAI,CAAC,MAAM,CAAC,qBAAqB,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;SAC3D;0BACF;KAAA,IAAA;QAEY,YAAY,GAAG;QAC1B,YAAY,YAAC,OAAoB;YAC/B,OAAO,IAAI,WAAW,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;SAC7C;QACD,YAAY;YACV,OAAO,IAAI,WAAW,CAAC,QAAQ,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;SACpD;QACD,YAAY;YACV,OAAO,IAAI,WAAW,CAAC,QAAQ,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;SACpD;QACD,aAAa,YAAC,OAAoB;YAChC,OAAO,IAAI,WAAW,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;SAChD;QACD,aAAa;YACX,OAAO,IAAI,WAAW,CAAC,QAAQ,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;SACrD;;;aCtBa,YAAY,CAC1B,OAA4C,EAC5C,WAAsD,EACtD,mBAA4E;QAD5E,4BAAA,EAAA,cAA2B,YAAY,CAAC,YAAY,EAAE;QACtD,oCAAA,EAAA,sBAA2C,qBAAqB,CAAC,SAAS,EAAE;QAE5E,mBAAmB,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAC5C,WAAW,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAEnC,OAAO,IAAIC,eAAU,CAAC,UAAC,QAAqB;YAC1C,OAAO,CAAC,MAAM,GAAG,UAAC,KAAQ;gBACxB,cAAc,CAAC,OAAO,CAAC,CAAC;gBACxB,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACrB,QAAQ,CAAC,QAAQ,EAAE,CAAC;aACrB,CAAC;YAEF,IAAM,WAAW,GAAG,kBAAkB,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;YAE1D,OAAO,CAAC,OAAO,GAAG,WAAW,CAAC;YAC9B,OAAO,CAAC,OAAO,GAAG,WAAW,CAAC;YAC9B,OAAO,CAAC,SAAS,GAAG,WAAW,CAAC;YAChC,OAAO,CAAC,SAAS,GAAG,WAAW,CAAC;YAChC,OAAO,CAAC,SAAS,GAAG,WAAW,CAAC;YAEhC,OAAO;gBACL,cAAc,CAAC,OAAO,CAAC,CAAC;gBACxB,QAAQ,CAAC,QAAQ,EAAE,CAAC;aACrB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,SAAS,kBAAkB,CAAC,QAAyB,EAAE,OAAoB;;QAEzE,OAAO,UAAS,KAAqB;YACnC,cAAc,CAAC,OAAO,CAAC,CAAC;YACxB,OAAO,CAAC,UAAU,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;YACxC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SACvB,CAAC;IACJ,CAAC;IAED,SAAS,cAAc,CAAC,OAAoB;QAC1C,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;QACtB,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC;QACvB,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC;QACvB,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;QACzB,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;QACzB,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;IAC3B;;IChDA;aACgB,kBAAkB,CAAC,MAAc;QAC/C,OAAO,sGAAsG,CAAC,IAAI,CAChH,MAAM,CACP;cACG,KAAK;cACL,KAAK,CAAC;IACZ,CAAC;aAEe,eAAe,CAAC,YAAmD;QACjF,OAAO,UAAC,YAAoB,EAAE,GAAW,EAAE,YAAoB;YAC7D,IAAI,YAAY,KAAK,GAAG;gBAAE,OAAO,GAAG,CAAC;YAErC,IAAM,QAAQ,GAAG,YAAY,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;YAEnD,IAAI,CAAC,QAAQ;gBAAE,OAAO,YAAY,CAAC;YAEnC,OAAO,QAAQ,CAAC,GAAG,CAAC,IAAI,YAAY,CAAC;SACtC,CAAC;IACJ,CAAC;aAEe,2BAA2B,CAAC,YAAmD;QAC7F,IAAM,gBAAgB,GAAG,wBAAwB,CAAC,YAAY,CAAC,CAAC;QAEhE,OAAO,UAAC,aAAuB,EAAE,IAAc,EAAE,YAAoB;YAC3D,IAAA,2DAAS,CAA2C;YAC5D,OAAO,SAAS,IAAI,YAAY,CAAC;SAClC,CAAC;IACJ,CAAC;aAEe,kCAAkC,CAChD,YAAmD;QAEnD,IAAM,gBAAgB,GAAG,wBAAwB,CAAC,YAAY,CAAC,CAAC;QAEhE,OAAO,UAAC,aAAuB,EAAE,IAAc,EAAE,UAAkB;YAC3D,IAAA,0CAA6D,EAA3D,8BAAY,EAAE,YAA6C,CAAC;YACpE,OAAO,CAAC,YAAY,GAAG,UAAU,GAAG,YAAY,KAAK,GAAG,GAAG,GAAG,GAAM,YAAY,UAAK,GAAK,CAAC;SAC5F,CAAC;IACJ,CAAC;IAED,SAAS,wBAAwB,CAAC,YAAmD;QACnF,IAAM,QAAQ,GAAG,eAAe,CAAC,YAAY,CAAC,CAAC;QAE/C,OAAO,UAAC,aAAuB,EAAE,IAAc;YAC7C,aAAa,GAAG,aAAa,CAAC,MAAM,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YAEvF,IAAM,aAAa,GAAG,aAAa,CAAC,MAAM,CAAC;YAC3C,IAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC;YAE7B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,EAAE,CAAC,EAAE,EAAE;gBACtC,IAAM,YAAY,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC;gBAEtC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,EAAE,EAAE;oBACjC,IAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;oBACpB,IAAM,SAAS,GAAG,QAAQ,CAAC,YAAY,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;oBACpD,IAAI,SAAS;wBAAE,OAAO,EAAE,YAAY,cAAA,EAAE,GAAG,KAAA,EAAE,SAAS,WAAA,EAAE,CAAC;iBACxD;aACF;YAED,OAAO,EAAE,YAAY,EAAE,SAAS,EAAE,GAAG,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC;SAC1E,CAAC;IACJ;;AC1CaC,cAAmB;QAW9B,6BACkB,kBAAsC,EAC9C,IAAiC,EACjC,KAAwB;YAFhB,uBAAkB,GAAlB,kBAAkB,CAAoB;YAC9C,SAAI,GAAJ,IAAI,CAA6B;YACjC,UAAK,GAAL,KAAK,CAAmB;YAZlC,aAAQ,GAAG,GAAG,CAAC;YAKI,aAAQ,GAAG,IAAIf,eAAY,EAAE,CAAC;YAEjD,qBAAgB,GAAG,KAAK,CAAC;SAMrB;QAEJ,sCAAQ,GAAR;YAAA,iBAmBC;YAlBC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC;gBACtE,KAAI,CAAC,WAAW,EAAE,CAAC;gBACnB,KAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;aAC9B,CAAC,CAAC;YAEHrC,cAAS,CAAC,IAAI,CAAC,IAAI,CAAC,aAA4B,EAAE,OAAO,CAAC;iBACvD,IAAI,CACHsC,sBAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,EAC3Be,gBAAM,CAAC,UAAC,GAAkB,IAAK,OAAA,GAAG,IAAI,GAAG,CAAC,GAAG,KAAK,OAAO,GAAA,CAAC,EAC1D,gBAAgB,CAAC,IAAI,CAAC,CACvB;iBACA,SAAS,CAAC;gBACT,IAAI,CAAC,KAAI,CAAC,gBAAgB,EAAE;oBAC1B,KAAI,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;iBACjG;gBAED,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;aAC/B,CAAC,CAAC;SACN;QAED,yCAAW,GAAX,eAAsB;QAEtB,yCAAW,GAAX;YACU,IAAA,mCAAI,CAA6B;YAEzC,QAAQ,CAAC,IAAI,CAAC,QAA0C,CAAC,CAAC;YAC1D,IAAI,CAAC,WAAW,EAAE,CAAC;YAEnB,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;SAC5B;kCACF;KAhDD,IAgDC;IA9CC;QADC3D,QAAK,EAAE;;gDACO;IAGf;QADCA,QAAK,EAAE;;2DAC8B;IAE5B;QAAT6C,SAAM,EAAE;;gDAAwC;AAPtCa,cAAmB;QAJ/BlB,YAAS,CAAC;;YAET,QAAQ,EAAE,2BAA2B;SACtC,CAAC;QAaG,WAAAoB,OAAI,EAAE,CAAA;yCAA6BC,wBAAkB;YACxCpB,aAAU;YACT1C,oBAAiB;OAdvB2D,UAAmB,CAgD/B;IAED,SAAS,QAAQ,CAAC,QAAkB;QAClC,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;YAC3B,QAAQ,CAAC,OAAO,CAAC,UAAA,KAAK;gBACpB,QAAQ,CAAC,KAAK,CAAC,QAA0C,CAAC,CAAC;aAC5D,CAAC,CAAC;YACH,OAAO;SACR;QAED,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,UAAA,GAAG;YAC/B,QAAQ,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC;YAC5B,QAAQ,CAAC,GAAG,CAAC,CAAC,sBAAsB,EAAE,CAAC;SACxC,CAAC,CAAC;IACL;;ACjFaI,cAAa;QAGxB,uBAAoB,KAAiB;YAAjB,UAAK,GAAL,KAAK,CAAY;YAFT,SAAI,GAAG,IAAInB,eAAY,EAAmB,CAAC;SAE9B;QAEzC,uCAAe,GAAf;YACE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC5B;4BACF;KARD,IAQC;IAPoB;QAAlBE,SAAM,CAAC,SAAS,CAAC;;4CAAqD;AAD5DiB,cAAa;QADzBtB,YAAS,CAAC,EAAE,QAAQ,EAAE,WAAW,EAAE,CAAC;yCAIRC,aAAU;OAH1BqB,UAAa,CAQzB;;ACIYC,cAAW;QACtB,qBACgC,OAAiB,EACvC,IAAgB,EAChB,KAAY;YAFU,YAAO,GAAP,OAAO,CAAU;YACvC,SAAI,GAAJ,IAAI,CAAY;YAChB,UAAK,GAAL,KAAK,CAAO;SAClB;QAEI,qCAAe,GAAf,UAAgB,OAAe;YACrC,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAACjD,WAAW,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;SAClE;QAED,iCAAW,GAAX,UAAY,GAAQ;YAClB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC;YAC7C,OAAOM,eAAU,CAAC,GAAG,CAAC,CAAC;SACxB;;QAGD,6BAAO,GAAP,UACE,OAAyC,EACzC,MAAoB,EACpB,GAAY;YAHd,iBA2BC;YAtBC,MAAM,GAAG,MAAM,IAAK,EAAkB,CAAC;YACvC,GAAG,GAAG,GAAG,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YAC1C,IAAA,uBAAM,EAAE,uBAAM,EAAE,+CAAsB,CAAC;YACvC,IAAA,gCAAA,kDAA6B,wCAAe,CAAY;YAEhE,OAAO,IAAI,CAAC,IAAI;iBACb,OAAO,CAAI,MAAM,EAAE,GAAG,GAAG,OAAO,CAAC,GAAG,EAAE,8BACrC,OAAO,SAAA,KACH,MAAM,IAAI;gBACZ,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,GAAG;oBAC1C,IAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;oBAE1B,IAAI,wBAAwB,CAAC,KAAK,CAAC;wBAAE,OAAO,GAAG,CAAC;oBAChD,IAAI,KAAK,KAAK,IAAI,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,qBAAqB;wBAAE,OAAO,GAAG,CAAC;oBAEtE,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;oBACjB,OAAO,GAAG,CAAC;iBACZ,EAAE,EAAE,CAAC;aACP,IACE,OAAO,CACJ,CAAC;iBACR,IAAI,CAACD,oBAAU,CAAC,UAAA,GAAG,IAAI,QAAC,eAAe,GAAGC,eAAU,CAAC,GAAG,CAAC,GAAG,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAC,CAAC,CAAC,CAAC;SACzF;0BACF;KA7CD,IA6CC;;AA7CY2C,cAAW;QAHvBrD,aAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;QAGG,WAAAsD,SAAM,CAAC,YAAY,CAAC,CAAA;iDACP3C,eAAU;YACTT,QAAK;OAJXmD,UAAW,CA6CvB;;ACpDYE,cAAc;QAGzB,wBAAoB,IAAiB;YAAjB,SAAI,GAAJ,IAAI,CAAa;YAFrC,YAAO,GAAG,aAAa,CAAC;SAEiB;QAEzC,4BAAG,GAAH;YACE,IAAM,OAAO,GAAuB;gBAClC,MAAM,EAAE,KAAK;gBACb,GAAG,EAAE,0BAA0B;aAChC,CAAC;YAEF,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAyB,OAAO,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;SACtF;QAED,+BAAM,GAAN,UAAO,IAAsB;YAC3B,IAAM,OAAO,GAAmC;gBAC9C,MAAM,EAAE,KAAK;gBACb,GAAG,EAAE,0BAA0B;gBAC/B,IAAI,MAAA;aACL,CAAC;YAEF,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAqC,OAAO,EAAE;gBACpE,OAAO,EAAE,IAAI,CAAC,OAAO;aACtB,CAAC,CAAC;SACJ;QAED,uCAAc,GAAd,UACE,IAAmC,EACnC,eAAgC;YAAhC,gCAAA,EAAA,uBAAgC;YAEhC,IAAM,OAAO,GAAgD;gBAC3D,MAAM,EAAE,MAAM;gBACd,GAAG,EAAE,0CAA0C;gBAC/C,IAAI,MAAA;aACL,CAAC;YAEF,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAsC,OAAO,EAAE;gBACrE,eAAe,iBAAA;gBACf,OAAO,EAAE,IAAI,CAAC,OAAO;aACtB,CAAC,CAAC;SACJ;6BACF;KAzCD,IAyCC;;AAzCYA,cAAc;QAH1BvD,aAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAI0BqD,UAAW;OAH1BE,UAAc,CAyC1B;;ACrCYC,cAAY;QAMvB,sBAAoB,cAA8B;YAA9B,mBAAc,GAAd,cAAc,CAAgB;SAAI;QAJ/C,uBAAU,GAAjB,UAAkB,EAA0B;gBAAxB,oBAAO;YACzB,OAAO,OAAO,CAAC;SAChB;QAKD,iCAAU,GAAV,UAAW,EAA2C;gBAAzC,0BAAU;YACrB,OAAO,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,IAAI,CACnClD,aAAG,CAAC,UAAA,OAAO,IACT,OAAA,UAAU,CAAC;gBACT,OAAO,SAAA;aACR,CAAC,GAAA,CACH,CACF,CAAC;SACH;QAGD,oCAAa,GAAb,UAAc,EAA2C,EAAE,EAA0B;gBAArE,0BAAU;gBAAmC,oBAAO;YAClE,OAAO,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAC7CA,aAAG,CAAC,UAAA,OAAO,IACT,OAAA,UAAU,CAAC;gBACT,OAAO,SAAA;aACR,CAAC,GAAA,CACH,CACF,CAAC;SACH;QAGD,qCAAc,GAAd,UAAe,CAAC,EAAE,EAA2B;gBAAzB,oBAAO;YACzB,OAAO,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;SAC1D;2BACF;KAlCD,IAkCC;IAzBC;QADCT,SAAM,CAAC,UAAU,CAAC;;;;gDASlB;IAGD;QADCA,SAAM,CAAC,aAAa,CAAC;;iDACkD,aAAa;;mDAQpF;IAGD;QADCA,SAAM,CAAC,cAAc,CAAC;;iDACQ,cAAc;;oDAE5C;IA/BD;QADCC,WAAQ,EAAE;;;;sCAGV;AAJU0D,cAAY;QALxBzD,QAAK,CAAgB;YACpB,IAAI,EAAE,cAAc;YACpB,QAAQ,EAAE,EAAmB;SAC9B,CAAC;QACDC,aAAU,EAAE;yCAOyBuD,UAAc;OANvCC,UAAY,CAkCxB;;ACzBYC,cAAmB;QAK9B,6BACU,KAAiB,EACjB,QAAmB,EACnB,KAAY,EACA,WAA6B,EACzC,KAAuB;YAJvB,UAAK,GAAL,KAAK,CAAY;YACjB,aAAQ,GAAR,QAAQ,CAAW;YACnB,UAAK,GAAL,KAAK,CAAO;YACA,gBAAW,GAAX,WAAW,CAAkB;YACzC,UAAK,GAAL,KAAK,CAAkB;SAC7B;QAEI,mCAAK,GAAL;YAAA,iBAkBP;YAjBC,IAAI,IAAI,CAAC,YAAY,EAAE;gBACrB,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;aACjC;YAED,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK;iBAC3B,MAAM,CAACrD,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;iBACpD,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;iBAC5B,SAAS,CAAC,UAAA,SAAS;gBAClB,IAAI,KAAI,CAAC,WAAW,IAAI,SAAS,EAAE;oBACjC,KAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;oBACnB,KAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;iBACjD;qBAAM,IAAI,KAAI,CAAC,WAAW,IAAI,CAAC,SAAS,EAAE;oBACzC,KAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;iBACpB;qBAAM,IAAI,CAAC,SAAS,IAAI,CAAC,KAAI,CAAC,WAAW,EAAE;oBAC1C,KAAI,CAAC,QAAQ,CAAC,WAAW,CAAE,KAAI,CAAC,KAAK,CAAC,aAA6B,CAAC,aAAa,EAAE,KAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;iBAC9G;aACF,CAAC,CAAC;SACN;QAED,sCAAQ,GAAR;YACE,IAAI,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;gBACvC,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aACjD;SACF;QAED,yCAAW,GAAX,eAAsB;QAEtB,yCAAW,GAAX,UAAY,EAA4B;gBAA1B,wBAAS;YACrB,IAAI,CAAC,SAAS,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,EAAE,YAAY,EAAE;gBACtD,IAAI,CAAC,KAAK,EAAE,CAAC;aACd;SACF;kCACF;KA9CD,IA8CC;IA7CyB;QAAvBd,QAAK,CAAC,eAAe,CAAC;;iDAAmB;AAD/BmE,cAAmB;QAH/B3B,YAAS,CAAC;YACT,QAAQ,EAAE,iBAAiB;SAC5B,CAAC;QAUG,WAAAN,WAAQ,EAAE,CAAA;yCAHIO,aAAU;YACP2B,YAAS;YACZxD,QAAK;YACaqC,cAAW;YAC7BC,mBAAgB;OAVtBiB,UAAmB,CA8C/B;;AC3CYE,cAA4B;QAmBvC,sCACU,QAAkB,EAClB,WAA6B,EAC7B,KAA+B,EAC/B,KAAuB,EACvB,KAAY;YALtB,iBAcC;YAbS,aAAQ,GAAR,QAAQ,CAAU;YAClB,gBAAW,GAAX,WAAW,CAAkB;YAC7B,UAAK,GAAL,KAAK,CAA0B;YAC/B,UAAK,GAAL,KAAK,CAAkB;YACvB,UAAK,GAAL,KAAK,CAAO;YApBtB,iBAAY,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,EAGvC,CAAC;YAEF,YAAO,GAAG,EAAS,CAAC;YAMpB,kCAA6B,GAAG,EAAkC,CAAC;YAEnE,gBAAW,GAAG,KAAK,CAAC;YASlB,IAAI,CAAC,OAAO,GAAG;gBACb,YAAY,EAAE,UAAA,GAAG;oBACf,KAAI,CAAC,qBAAqB,EAAE,CAAC;oBAC7B,KAAI,CAAC,mBAAmB,GAAG,GAAG,CAAC;oBAC/B,KAAI,CAAC,yBAAyB,EAAE,CAAC;iBAClC;aACF,CAAC;SACH;QAED,+CAAQ,GAAR;YAAA,iBAkCC;YAjCC,IAAI,CAAC,KAAK;iBACP,MAAM,CAACzC,UAA0B,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;iBACvE,IAAI,CACH+B,gBAAM,CACJ,UAAC,GAAsD;gBAAtD,oBAAA,EAAA,QAAsD;gBACrD,OAAA,CAAC,KAAI,CAAC,WAAW,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,KAAI,CAAC,iBAAiB,CAAC;aAAA,CACvE,EACD,gBAAgB,CAAC,IAAI,CAAC,CACvB;iBACA,SAAS,CAAC,UAAC,GAAsD;gBAAtD,oBAAA,EAAA,QAAsD;gBAChE,KAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;gBACnB,KAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC,SAAS,CAAC;gBACvC,IAAI,KAAI,CAAC,mBAAmB,EAAE;oBAC5B,KAAI,CAAC,qBAAqB,EAAE,CAAC;iBAC9B;gBAED,IAAI,GAAG,CAAC,SAAS,EAAE;oBACjB,KAAI,CAAC,eAAe,EAAE,CAAC;oBACvB,IAAM,cAAc,GAAGzD,WAAQ,CAAC,MAAM,CAAC;wBACrC,SAAS,EAAE,CAAC,EAAE,OAAO,EAAE,kBAAkB,EAAE,QAAQ,EAAE,KAAI,CAAC,YAAY,EAAE,CAAC;wBACzE,MAAM,EAAE,KAAI,CAAC,QAAQ;qBACtB,CAAC,CAAC;oBACH,KAAI,CAAC,KAAK,CAAC,eAAe,CACxB,KAAI,CAAC,KAAK,CAAC,uBAAuB,CAAC,GAAG,CAAC,SAAS,CAAC,EACjD,CAAC,EACD,cAAc,CACf,CAAC;iBACH;qBAAM;oBACL,KAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,KAAI,CAAC,WAAW,EAAE,KAAI,CAAC,OAAO,CAAC,CAAC;iBAC/D;gBAED,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;aACzB,CAAC,CAAC;SACN;QAED,kDAAW,GAAX,UAAY,OAAsB;YAChC,IAAI,GAAG,CAAC,cAAM,OAAA,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,GAAA,CAAC,IAAI,IAAI,CAAC,mBAAmB,EAAE;gBAC3E,IAAI,CAAC,yBAAyB,EAAE,CAAC;aAClC;SACF;QAED,kDAAW,GAAX,eAAgB;QAEhB,gEAAyB,GAAzB;YAAA,iBA0BC;YAzBC,IAAI,CAAC,IAAI,CAAC,mBAAmB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;gBAAE,OAAO;YAEnF,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;gBACpB,KAAK,IAAM,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;oBAClC,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;wBACxC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE;4BACxE,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;yBAC7D;qBACF;iBACF;aACF;YAED,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;wCACV,GAAG;oBACZ,IAAI,OAAK,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;wBACzC,IAAI,CAAC,OAAK,6BAA6B,CAAC,GAAG,CAAC,EAAE;4BAC5C,OAAK,6BAA6B,CAAC,GAAG,CAAC,GAAG,OAAK,mBAAmB,CAAC,GAAG,CAAC,CAAC,SAAS,CAC/E,UAAA,KAAK;gCACH,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;6BAC/B,CACF,CAAC;yBACH;qBACF;;;gBATH,KAAK,IAAM,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO;4BAAxB,GAAG;iBAUb;aACF;SACF;QAED,sDAAe,GAAf;YAAA,iBAuBC;YAtBC,IAAI,CAAC,YAAY,mCAAQ,IAAI,CAAC,IAAI,KAAE,MAAM,EAAE,EAAE,GAAE,CAAC;YAEjD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM;gBAAE,OAAO;YAC9B,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,oBAC3C,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CACrC,UAAC,GAAG,EAAE,GAAG;;gBAAK,wCACT,GAAG,aACN,GAAC,GAAG,oBACF,UAAU,EAAE,IAAI,EAChB,YAAY,EAAE,IAAI,EAClB,GAAG,EAAE,cAAM,OAAA,KAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,GAAA,KAClC,KAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,IAAI;oBAClC,GAAG,EAAE,UAAA,QAAQ;wBACX,KAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,QAAQ,CAAC;wBACvC,KAAI,CAAC,IAAI,CAAC,OAAO,CAAI,GAAG,WAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;qBAC7C;iBACF;aAEH,EACF,EAAE,CACH,EACD,CAAC;SACJ;QAED,4DAAqB,GAArB;YAAA,iBAMC;YALC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC,OAAO,CAAC,UAAA,GAAG;gBACzD,KAAI,CAAC,6BAA6B,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC;aACvD,CAAC,CAAC;YACH,IAAI,CAAC,6BAA6B,GAAG,EAAkC,CAAC;YACxE,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;SACjC;2CACF;KA3ID,IA2IC;IAzIC;QADCF,QAAK,CAAC,wBAAwB,CAAC;;4CACwC;AAF7DqE,cAA4B;QADxC7B,YAAS,CAAC,EAAE,QAAQ,EAAE,0BAA0B,EAAE,CAAC;yCAqB9BtC,WAAQ;YACL+C,cAAW;YACjBqB,2BAAwB;YACxBpB,mBAAgB;YAChBtC,QAAK;OAxBXyD,UAA4B,CA2IxC;;AC3JYE,cAAwB;QAGnC,kCAAoB,EAAc;YAAd,OAAE,GAAF,EAAE,CAAY;YAFH,kBAAa,GAAG,IAAI5B,eAAY,EAAc,CAAC;SAExC;QAEtC,2CAAQ,GAAR;YAAA,iBAOC;YANCrC,cAAS,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,OAAO,CAAC;iBACtC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;iBAC5B,SAAS,CAAC,UAAC,KAAiB;gBAC3B,KAAK,CAAC,eAAe,EAAE,CAAC;gBACxB,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAChC,CAAC,CAAC;SACN;QAED,8CAAW,GAAX,eAAsB;uCACvB;KAfD,IAeC;IAduB;QAArBuC,SAAM,CAAC,YAAY,CAAC;;qDAAyD;AADnE0B,cAAwB;QAJpC/B,YAAS,CAAC;;YAET,QAAQ,EAAE,cAAc;SACzB,CAAC;yCAIwBC,aAAU;OAHvB8B,UAAwB,CAepC;;ICnBD;;;;AAOaC,cAAmB;QAM9B,6BAAgC,KAAiB,EAAU,QAAmB;YAA9C,UAAK,GAAL,KAAK,CAAY;YAAU,aAAQ,GAAR,QAAQ,CAAW;YAF9E,eAAU,GAAG,IAAIlD,YAAO,EAAW,CAAC;SAE8C;QAElF,6CAAe,GAAf;YAAA,iBAoCC;YAnCC,IAAI,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,KAAK,EAAE;gBACtC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC;aAChD;YAED,IAAI,QAA0B,CAAC;YAC/B,QAAQ,GAAG,IAAI,gBAAgB,CAAC,UAAA,SAAS;gBACvC,SAAS,CAAC,OAAO,CAAC,UAAA,QAAQ;oBACxB,IAAI,CAAC,QAAQ,CAAC,MAAM;wBAAE,OAAO;oBAE7B,IAAM,SAAS,GAAG,GAAG,CACnB,cAAM,OAAA,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,YAAY,WAAW,GAAA,CAAC,GAAA,EACxF,EAAE,CACH,CAAC;oBAEF,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;wBACrB,KAAI,CAAC,aAAa,EAAE,CAAC;qBACtB;iBACF,CAAC,CAAC;aACJ,CAAC,CAAC;YAEH,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE;gBACpC,SAAS,EAAE,IAAI;aAChB,CAAC,CAAC;YAEH,UAAU,CAAC;gBACT,IAAM,SAAS,GAAG,GAAG,CACnB,cACE,OAAA,KAAK,CAAC,IAAI,CAAC,KAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,YAAY,WAAW,GAAA,CAAC,GAAA,EACxF,EAAE,CACH,CAAC;gBAEF,IAAI,CAAC,SAAS,CAAC,MAAM;oBAAE,KAAI,CAAC,aAAa,EAAE,CAAC;aAC7C,EAAE,CAAC,CAAC,CAAC;YAEN,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,cAAM,OAAA,QAAQ,CAAC,UAAU,EAAE,GAAA,CAAC,CAAC;SACxD;QAED,wCAAU,GAAV;YACE,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;YACvB,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;SAC5B;QAED,2CAAa,GAAb;YACE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa;gBAAE,OAAO;YAEtC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,aAAa,EAAE,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;YAC5F,IAAI,CAAC,UAAU,EAAE,CAAC;SACnB;kCACF;KAzDD,IAyDC;IAvDC;QADCtB,QAAK,CAAC,eAAe,CAAC;kCACP,WAAW;sDAAC;AAFjBwE,cAAmB;QAH/BhC,YAAS,CAAC;YACT,QAAQ,EAAE,iBAAiB;SAC5B,CAAC;QAOa,WAAAN,WAAQ,EAAE,CAAA;yCAAgBO,aAAU,EAAoB2B,YAAS;OANnEI,UAAmB,CAyD/B;;AC5DYC,eAAa;QACxB,uBAAoB,MAAqB,EAAsB,MAAc;YAAzD,WAAM,GAAN,MAAM,CAAe;YAAsB,WAAM,GAAN,MAAM,CAAQ;YAC3E,IAAI,CAAC,SAAS,EAAE,CAAC;SAClB;QAED,iCAAS,GAAT;YAAA,iBAYC;;YAXC,YAAA,IAAI,CAAC,MAAM,0CAAE,MAAM,0CAAE,OAAO,CAAC,UAAC,EAAmB;oBAAjB,YAAS,EAAT,8BAAS,EAAE,cAAI;gBAC7C,IAAI,EAAC,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,MAAM,CAAA;oBAAE,OAAO;gBAE1B,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;oBAC9B,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBAC7B,OAAO;iBACR;gBAED,IAAM,MAAM,GAAG,UAAU,CAAC,iBAAG,IAAI,MAAA,IAAK,IAAI,CAAC,MAAM,EAAG,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,CAAC;gBACpE,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;aACzB,EAAE;SACJ;4BACF;KAlBD,IAkBC;;AAlBYA,eAAa;QAHzB/D,aAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;QAE4C,WAAAwB,WAAQ,EAAE,CAAA;yCAA1BR,WAAa,EAA8BM,SAAM;OADlEyC,WAAa,CAkBzB;IAED,SAAS,UAAU,CAAC,MAAkB,EAAE,MAAW;QACjD,IAAI,CAAC,MAAM;YAAE,OAAO,EAAE,CAAC;QAEvB,OAAO,MAAM,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,KAAK;YAC9B,IAAM,uIAIL,EAJO,sBAAQ,EAAE,kCAIjB,CAAC;YAEF,GAAG,CAAC,IAAI,OAAR,GAAG,YAAM,OAAO,GAAK,UAAU,CAAC,QAAQ,EAAE,OAAO,CAAC,GAAE;YAEpD,OAAO,GAAG,CAAC;SACZ,EAAE,EAAE,CAAC,CAAC;IACT;;ACjCaC,eAAc;QACzB,wBAAoB,YAA0B,EAAU,KAAY;YAAhD,iBAAY,GAAZ,YAAY,CAAc;YAAU,UAAK,GAAL,KAAK,CAAO;SAAI;QAExE,kCAAS,GAAT,UAAU,OAAyB,EAAE,IAAiB;YAAtD,iBA2BC;YA1BC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC;YAE9C,IAAM,OAAO,GAAG,EAAS,CAAC;YAE1B,IAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,CAAC;YACjD,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,KAAK,EAAE;gBAClD,OAAO,CAAC,eAAe,CAAC,GAAG,YAAU,KAAO,CAAC;aAC9C;YAED,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAACvE,WAAY,CAAC,WAAW,CAAC,CAAC;YACjE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,IAAI,IAAI,EAAE;gBACnD,OAAO,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC;aACnC;YAED,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAACA,WAAY,CAAC,SAAS,CAAC,CAAC;YACjE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,MAAM,EAAE;gBAC9C,OAAO,CAAC,UAAU,CAAC,GAAG,MAAM,CAAC,EAAE,CAAC;aACjC;YAED,OAAO,IAAI;iBACR,MAAM,CACL,OAAO,CAAC,KAAK,CAAC;gBACZ,UAAU,EAAE,OAAO;aACpB,CAAC,CACH;iBACA,IAAI,CAACwE,kBAAQ,CAAC,cAAM,OAAA,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,UAAU,CAAC,OAAO,CAAC,CAAC,GAAA,CAAC,CAAC,CAAC;SACvE;6BACF;KA/BD,IA+BC;AA/BYD,eAAc;QAD1BhE,aAAU,EAAE;yCAEuBC,iBAAY,EAAiBC,QAAK;OADzD8D,WAAc,CA+B1B;;AC/BYE,cAAgB;QAC3B,0BAAoB,KAAY;YAAZ,UAAK,GAAL,KAAK,CAAO;SAAI;QAEpC,oCAAS,GAAT,UACE,KAAmD;YAAnD,sBAAA,EAAA,UAAmD;YACnD,2BAA8B;iBAA9B,UAA8B,EAA9B,qBAA8B,EAA9B,IAA8B;gBAA9B,0CAA8B;;YAE9B,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAC9B9D,WAAW,CAAC,eAAe,OAA3BA,WAAW,YACT,KAAK,GACF,iBAAiB,CAAC,MAAM,CACzB,UAAC,GAAG,EAAE,GAAG,IAAK,QAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,YAAO,GAAG,EAAK,GAAG,aAAQ,GAAG,GAAE,GAAG,EAAC,IAAC,EACrE,EAAE,CACH,GAEJ,CAAC;SACH;+BACF;KAjBD,IAiBC;AAjBY8D,cAAgB;QAJ5BlE,aAAU,EAAE;QACZmE,OAAI,CAAC;YACJ,IAAI,EAAE,iBAAiB;SACxB,CAAC;yCAE2BjE,QAAK;OADrBgE,UAAgB,CAiB5B;AAMYE,cAAoB;QAAjC;SAIC;QAHC,wCAAS,GAAT,UAAU,KAAmD;YAAnD,sBAAA,EAAA,UAAmD;YAAE,WAAc;iBAAd,UAAc,EAAd,qBAAc,EAAd,IAAc;gBAAd,0BAAc;;YAC3E,OAAO,OAAO,KAAK,KAAK,QAAQ,GAAG,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC;SAC/D;mCACF;KAJD,IAIC;AAJYA,cAAoB;QAJhCpE,aAAU,EAAE;QACZmE,OAAI,CAAC;YACJ,IAAI,EAAE,iBAAiB;SACxB,CAAC;OACWC,UAAoB,CAIhC;;AC7BYC,8BAAkB;QAA/B;SAAkC;iCAAA;KAAlC,IAAkC;AAArBA,8BAAkB;QAJ9BC,WAAQ,CAAC;YACR,OAAO,EAAE,CAACJ,UAAgB,CAAC;YAC3B,YAAY,EAAE,CAACA,UAAgB,CAAC;SACjC,CAAC;OACWG,0BAAkB,CAAG;;ACDrBE,cAAQ;QAArB;SAuCC;QAtCC,4BAAS,GAAT,UACE,KAAY,EACZ,SAAqC,EACrC,OAAgB;YADhB,0BAAA,EAAA,iBAAqC;YAGrC,SAAS,GAAG,SAAS,IAAK,SAAS,CAAC,WAAW,EAAU,CAAC;YAE1D,IAAI,CAAC,KAAK,KAAK,SAAS,KAAK,KAAK,IAAI,SAAS,KAAK,MAAM,CAAC;gBAAE,OAAO,KAAK,CAAC;YAE1E,IAAI,WAAW,GAAG,EAAE,CAAC;YACrB,IAAI,WAAW,GAAG,EAAE,CAAC;YAErB,IAAI,CAAC,OAAO,EAAE;gBACZ,WAAW,GAAG,KAAK,CAAC,MAAM,CAAC,UAAA,IAAI,IAAI,OAAA,OAAO,IAAI,KAAK,QAAQ,GAAA,CAAC,CAAC,IAAI,EAAE,CAAC;gBACpE,WAAW,GAAG,KAAK,CAAC,MAAM,CAAC,UAAA,IAAI,IAAI,OAAA,OAAO,IAAI,KAAK,QAAQ,GAAA,CAAC,CAAC,IAAI,EAAE,CAAC;aACrE;iBAAM;gBACL,WAAW,GAAG,KAAK;qBAChB,MAAM,CAAC,UAAA,IAAI,IAAI,OAAA,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,QAAQ,GAAA,CAAC;qBACjD,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,OAAA,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,GAAA,CAAC,CAAC;gBAC3C,WAAW,GAAG,KAAK;qBAChB,MAAM,CAAC,UAAA,IAAI,IAAI,OAAA,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,QAAQ,GAAA,CAAC;qBACjD,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC;oBACT,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC;wBAAE,OAAO,CAAC,CAAC,CAAC;yBAClC,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC;wBAAE,OAAO,CAAC,CAAC;;wBACtC,OAAO,CAAC,CAAC;iBACf,CAAC,CAAC;aACN;YACD,IAAM,MAAM,YACP,WAAW,EACX,WAAW,EACX,KAAK,CAAC,MAAM,CACb,UAAA,IAAI,IACF,OAAA,QAAQ,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,KAAK,QAAQ;gBACpD,QAAQ,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,KAAK,QAAQ,GAAA,CACvD,CACF,CAAC;YACF,OAAO,SAAS,KAAK,KAAK,GAAG,MAAM,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC;SACxD;uBACF;KAvCD,IAuCC;AAvCYA,cAAQ;QAJpBvE,aAAU,EAAE;QACZmE,OAAI,CAAC;YACJ,IAAI,EAAE,SAAS;SAChB,CAAC;OACWI,UAAQ,CAuCpB;;QClCY,0BAA0B,GAAG,IAAI3B,iBAAc,CAAC,4BAA4B,EAAE;AAG9E4B,eAAY;QAGvB,sBAAwD,OAAiB;YAAjB,YAAO,GAAP,OAAO,CAAU;YAFjE,gBAAW,GAAG,KAAK,CAAC;SAEiD;QAE7E,6BAAM,GAAN,UAAO,KAAU,EAAE,KAAU,EAAE,IAAsB;YACnD,IAAM,OAAO,GAAGC,gBAAa,CAAC,KAAK,CAAC,CAAC;YACrC,IAAM,YAAY,GAAG,OAAO,CAACC,YAAS,CAAC,IAAI,OAAO,CAACC,cAAW,CAAC,CAAC;YAEhE,IAAI,YAAY,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;gBACrC,KAAK,GAAGC,WAAQ,CAAC,KAAK,EAAE,aAAa,mCAC/B,KAAK,CAAC,WAAW,sBAAS,KAAK,CAAC,WAAW,CAAE,IAC9C,IAAI,CAAC,OAAO,EACf,CAAC;gBAEH,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;aACzB;YAED,OAAO,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;SAC3B;2BACF;KApBD,IAoBC;AApBYJ,eAAY;QADxBxE,aAAU,EAAE;QAIE,WAAAsD,SAAM,CAAC,0BAA0B,CAAC,CAAA;;OAHpCkB,WAAY,CAoBxB;;ACpBYK,eAAmB;QAY9B,6BACU,OAAgB,EAChB,KAAY,EACZ,QAAkB,EAClB,MAAc,EAGtB,aAAkC;YAN1B,YAAO,GAAP,OAAO,CAAS;YAChB,UAAK,GAAL,KAAK,CAAO;YACZ,aAAQ,GAAR,QAAQ,CAAU;YAClB,WAAM,GAAN,MAAM,CAAQ;YAKtB,IAAI,aAAa;gBAAE,MAAM,IAAI,KAAK,CAAC,oDAAoD,CAAC,CAAC;YAEzF,IAAI,CAAC,mBAAmB,EAAE,CAAC;SAC5B;QApBD,sBAAI,4CAAW;;;;iBAAf;gBACE,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,UAAA,KAAK,IAAI,OAAA,KAAK,CAAC,YAAY,CAAC,QAAQ,GAAA,CAAC,CAAC;aACxE;;;WAAA;QAED,sBAAI,+CAAc;iBAAlB;gBACE,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAACnF,qBAAkB,CAAC,WAAW,CAAC,CAAC,CAAC;aAC3D;;;WAAA;QAgBO,iDAAmB,GAAnB;YAAA,iBAEP;YADC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,UAAC,EAAW;oBAAT,oBAAO;gBAAO,OAAA,KAAI,CAAC,cAAc,CAAC,OAAO,CAAC;aAAA,CAAC,CAAC;SAC9E;QAED,4CAAc,GAAd,UAAe,MAAc;YAA7B,iBAYC;YAXC,IAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC4B,SAAM,CAAC,CAAC;YACjC,IAAA,6DAAgB,CAA+B;YACvD,MAAM,CAAC,kBAAkB,CAAC,gBAAgB,GAAG,cAAM,OAAA,KAAK,GAAA,CAAC;YACzD,MAAM,CAAC,SAAS,GAAG,KAAK,CAAC;YAEzB,OAAO,cAAc,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC;gBACjC,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC;;;oCACd,qBAAM,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,CAACwD,SAAI,CAAC,EAAA;;gCAAlD,SAAkD,CAAC;gCACnD,MAAM,CAAC,kBAAkB,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;;;;iBAC/D,CAAA,GAAA,CAAC,CAAC;aACJ,CAAC,CAAC;SACJ;;;;;;QAOD,iCAAG,GAAH,UACE,GAA4C;YAC5C,2BAA8B;iBAA9B,UAA8B,EAA9B,qBAA8B,EAA9B,IAA8B;gBAA9B,0CAA8B;;YAE9B,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC1E,WAAW,CAAC,eAAe,OAA3BA,WAAW,YAAiB,GAAG,GAAK,iBAAiB,GAAE,CAAC;SAClF;;;;;;QAOD,qCAAO,GAAP,UAAQ,GAA4C;YAAE,2BAA8B;iBAA9B,UAA8B,EAA9B,qBAA8B,EAA9B,IAA8B;gBAA9B,0CAA8B;;YAClF,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAACA,WAAW,CAAC,eAAe,OAA3BA,WAAW,YAAiB,GAAG,GAAK,iBAAiB,GAAE,CAAC;SAC1F;QAED,sCAAQ,GAAR,UAAS,YAAoB,EAAE,GAAW,EAAE,YAAoB;YAC9D,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAACA,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAC/D2E,aAAG,CAAC,eAAe,CAAC,EACpBA,aAAG,CAAC,UAAA,QAAQ,IAAI,OAAA,QAAQ,CAAC,YAAY,EAAE,GAAG,EAAE,YAAY,CAAC,GAAA,CAAC,CAC3D,CAAC;SACH;QAED,0CAAY,GAAZ,UAAa,YAAoB,EAAE,GAAW,EAAE,YAAoB;YAClE,IAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC3E,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC;YACnF,OAAO,eAAe,CAAC,YAAY,CAAC,CAAC,YAAY,EAAE,GAAG,EAAE,YAAY,CAAC,CAAC;SACvE;QAED,kDAAoB,GAApB,UACE,aAAuB,EACvB,IAAc,EACd,YAAoB;YAEpB,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAACA,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAC/D2E,aAAG,CAAC,2BAA2B,CAAC,EAChCA,aAAG,CAAC,UAAA,oBAAoB,IAAI,OAAA,oBAAoB,CAAC,aAAa,EAAE,IAAI,EAAE,YAAY,CAAC,GAAA,CAAC,CACrF,CAAC;SACH;QAED,sDAAwB,GAAxB,UAAyB,aAAuB,EAAE,IAAc,EAAE,YAAoB;YACpF,IAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC3E,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC;YACnF,OAAO,2BAA2B,CAAC,YAAY,CAAC,CAAC,aAAa,EAAE,IAAI,EAAE,YAAY,CAAC,CAAC;SACrF;kCACF;KA5FD,IA4FC;;AA5FYyE,eAAmB;QAD/B7E,aAAU,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC;QAkB9B,WAAAwB,WAAQ,EAAE,CAAA;QACV,WAAAC,WAAQ,EAAE,CAAA;yCALMtB,UAAO;YACTD,QAAK;YACFV,WAAQ;YACVwF,SAAM;YAGPH,WAAmB;OAnBzBA,WAAmB,CA4F/B;;;QCtG6B,4BAAM;QAClC,kBAAoB,mBAAwC;YAA5D,YACE,iBAAO,SACR;YAFmB,yBAAmB,GAAnB,mBAAmB,CAAqB;;SAE3D;QAED,2BAAQ,GAAR;YACU,IAAA,kDAAW,CAA8B;YACjD,OAAO,cAAc,CAAC,WAAW,CAAC,IAAI,WAAW,CAAC;SACnD;QAED,0BAAO,GAAP;YACE,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAC;SACxB;uBACF;KAbD,CAA8B,MAAM,GAanC;QAEY,cAAc,GAAa;QACtC,OAAO,EAAEI,YAAS;QAClB,QAAQ,EAAE,QAAQ;QAClB,IAAI,EAAE,CAACJ,WAAmB,CAAC;;;ICd7B,IAAI,CAAC,SAAS,CAAC,gBAAgB,GAAG;QAChC,IAAM,cAAc,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAEhD,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,cAAc,GAAG,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC;IACzE,CAAC;;aC6Be,cAAc;QAC5B,OAAO,YAAY,CAAC;IACtB,CAAC;IAED;;;;;;AA6DaK,0BAAc;QAA3B;SAA8B;6BAAA;KAA9B,IAA8B;AAAjBA,0BAAc;QAvD1BZ,WAAQ,CAAC;YACR,OAAO,EAAE;gBACPa,mBAAY;gBACZC,qBAAgB;gBAChBC,iBAAW;gBACXC,yBAAmB;gBACnBC,eAAY;gBAEZnG,UAAwB;gBACxByC,UAAkB;gBAClBT,UAAsB;gBACtBgB,UAAiB;gBACjBE,UAAY;gBACZU,UAAmB;gBACnBI,UAAa;gBACbpB,UAA2B;gBAC3ByB,UAAmB;gBACnB/B,UAAkC;gBAClCiC,UAA4B;gBAC5B/B,UAAqB;gBACrB2C,UAAQ;gBACRV,UAAwB;gBACxBC,UAAmB;aACpB;YACD,OAAO,EAAE;gBACP0B,gBAAW;gBACXL,mBAAY;gBACZC,qBAAgB;gBAChBC,iBAAW;gBACXC,yBAAmB;gBACnBC,eAAY;aACb;YACD,YAAY,EAAE;gBACZnG,UAAwB;gBACxByC,UAAkB;gBAClBT,UAAsB;gBACtBgB,UAAiB;gBACjBE,UAAY;gBACZU,UAAmB;gBACnBI,UAAa;gBACbpB,UAA2B;gBAC3ByB,UAAmB;gBACnB/B,UAAkC;gBAClCiC,UAA4B;gBAC5B/B,UAAqB;gBACrB2C,UAAQ;gBACRV,UAAwB;gBACxBC,UAAmB;aACpB;YACD,eAAe,EAAE;gBACflC,UAAqB;gBACrBR,UAAsB;gBACtBM,UAAkC;aACnC;SACF,CAAC;OACWwD,sBAAc,CAAG;IAE9B;;;;AAeaO,0BAAc;QAA3B;SAA8B;6BAAA;KAA9B,IAA8B;AAAjBA,0BAAc;QAX1BnB,WAAQ,CAAC;YACR,OAAO,EAAE,CAACY,sBAAc,EAAEb,0BAAkB,CAAC;YAC7C,OAAO,EAAE;gBACPa,sBAAc;gBACdb,0BAAkB;gBAClBqB,aAAU,CAAC,UAAU,CAAC,CAACxE,UAA0B,EAAEsC,UAAY,EAAE/D,WAAY,EAAEW,WAAW,CAAC,CAAC;gBAC5FuF,mCAAsB,CAAC,OAAO,EAAE;gBAChCC,qCAAuB,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,EAAE,CAAC;gBAC1DJ,gBAAW,CAAC,OAAO,EAAE;aACtB;SACF,CAAC;OACWC,sBAAc,CAAG;IAE9B;;;;AASaI,0BAAc;QAA3B;SAA8B;6BAAA;KAA9B,IAA8B;AAAjBA,0BAAc;QAL1BvB,WAAQ,CAAC;YACR,OAAO,EAAE,CAACiB,eAAY,EAAEL,sBAAc,EAAEd,UAAoB,CAAC;YAC7D,OAAO,EAAE,CAACmB,eAAY,CAAC,OAAO,CAAC,EAAE,CAAC,EAAEL,sBAAc,CAAC;YACnD,YAAY,EAAE,CAACd,UAAoB,CAAC;SACrC,CAAC;OACWyB,sBAAc,CAAG;IAE9B;;;AAQaC,sBAAU;QAAvB;SAiEC;QAhEQ,kBAAO,GAAd,UAAe,EAAmC;gBAAjC,uCAAc,EAAd,mCAAc;YAC7B,OAAO;gBACL,QAAQ,EAAED,sBAAc;gBACxB,SAAS,EAAE;oBACT,EAAE,OAAO,EAAEE,oBAAa,EAAE,QAAQ,EAAE,QAAQ,EAAE;oBAC9C;wBACE,OAAO,EAAE7B,UAAgB;wBACzB,QAAQ,EAAEE,UAAoB;qBAC/B;iBACF;aACF,CAAC;SACH;QAEM,kBAAO,GAAd,UAAe,OAAwB;YAAxB,wBAAA,EAAA,YAAwB;YACrC,OAAO;gBACL,QAAQ,EAAEqB,sBAAc;gBACxB,SAAS,EAAE;oBACT,cAAc;oBACd;wBACE,OAAO,EAAEO,eAAY;wBACrB,QAAQ,EAAExB,WAAY;wBACtB,KAAK,EAAE,IAAI;qBACZ;oBACD;wBACE,OAAO,EAAE,0BAA0B;wBACnC,QAAQ,EAAE,EAAE,WAAW,EAAE,OAAO,CAAC,WAAW,EAAE;qBAC/C;oBACD;wBACE,OAAO,EAAE,YAAY;wBACrB,QAAQ,EAAE,OAAO;qBAClB;oBACD;wBACE,OAAO,EAAEyB,sBAAiB;wBAC1B,QAAQ,EAAEjC,WAAc;wBACxB,KAAK,EAAE,IAAI;qBACZ;oBACD;wBACE,OAAO,EAAEkC,kBAAe;wBACxB,KAAK,EAAE,IAAI;wBACX,IAAI,EAAE,CAAC1G,WAAQ,CAAC;wBAChB,UAAU,EAAE,cAAc;qBAC3B;oBACD;wBACE,OAAO,EAAE0G,kBAAe;wBACxB,KAAK,EAAE,IAAI;wBACX,IAAI,EAAE,CAAC1G,WAAQ,CAAC;wBAChB,UAAU,EAAE,iBAAiB;qBAC9B;oBACD;wBACE,OAAO,EAAE0G,kBAAe;wBACxB,KAAK,EAAE,IAAI;wBACX,IAAI,EAAE,CAACrB,WAAmB,CAAC;wBAC3B,UAAU,EAAE,IAAI;qBACjB;oBACD;wBACE,OAAO,EAAEqB,kBAAe;wBACxB,KAAK,EAAE,IAAI;wBACX,IAAI,EAAE,CAACnC,WAAa,CAAC;wBACrB,UAAU,EAAE,IAAI;qBACjB;oBACD,EAAE,OAAO,EAAEoC,iBAAY,EAAE,UAAU,EAAE,cAAc,EAAE;iBACtD;aACF,CAAC;SACH;yBACF;KAjED,IAiEC;AAjEYL,sBAAU;QALtBxB,WAAQ,CAAC;YACR,OAAO,EAAE,CAACY,sBAAc,EAAEb,0BAAkB,CAAC;YAC7C,OAAO,EAAE,CAACa,sBAAc,EAAEb,0BAAkB,CAAC;YAC7C,SAAS,EAAE,CAACH,UAAgB,CAAC;SAC9B,CAAC;OACW4B,kBAAU,CAiEtB;;ACnMYM,qBAAS;QACpB,mBAAoB,YAA0B,EAAU,QAAkB;YAAtD,iBAAY,GAAZ,YAAY,CAAc;YAAU,aAAQ,GAAR,QAAQ,CAAU;SAAI;QAE9E,+BAAW,GAAX,UACE,CAAyB,EACzB,KAA0B;YAE1B,IAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC9E,SAAM,CAAC,CAAC;YAEzC,IAAM,mBAAmB,GAAG,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;YACpE,IAAI,mBAAmB,EAAE;gBACvB,OAAO,mBAAmB,CAAC;aAC5B;YAED,MAAM,CAAC,QAAQ,CAAC,CAAC,gBAAgB,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,WAAW,EAAE,KAAK,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;YAC3E,OAAO,IAAI,CAAC;SACb;wBACF;KAjBD,IAiBC;;AAjBY8E,qBAAS;QAHrBpG,aAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAEkCC,iBAAY,EAAoBT,WAAQ;OAD/D4G,iBAAS,CAiBrB;;ACnBYC,2BAAe;QAC1B,yBAAoB,KAAY;YAAZ,UAAK,GAAL,KAAK,CAAO;SAAI;QAEpC,qCAAW,GAAX,UAAY,KAA6B,EAAE,KAA0B;YAArE,iBAsBC;YArBC,IAAI,QAAQ,GACV,GAAG,CAAC,cAAM,OAAA,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,GAAA,CAAC,IAAI,GAAG,CAAC,cAAM,OAAA,KAAK,CAAC,IAAI,CAAC,cAAwB,GAAA,CAAC,CAAC;YAChG,IAAI,CAAC,QAAQ,EAAE;gBACb,QAAQ,GAAG,GAAG,CACZ,cACE,OAAA,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAA,KAAK,IAAI,OAAA,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAA,CAAC,CAAC,IAAI;qBAC9E,cAAc,GAAA,CACpB,CAAC;gBAEF,IAAI,CAAC,QAAQ,EAAE;oBACb,OAAO7F,OAAE,CAAC,IAAI,CAAC,CAAC;iBACjB;aACF;YAED,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAACJ,WAAW,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CACnEE,aAAG,CAAC,UAAA,MAAM;gBACR,IAAI,CAAC,MAAM,EAAE;oBACX,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,cAAc,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;iBAC1D;aACF,CAAC,CACH,CAAC;SACH;8BACF;KA1BD,IA0BC;;AA1BY+F,2BAAe;QAH3BrG,aAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAE2BE,QAAK;OADrBmG,uBAAe,CA0B3B;;;QCjCC,uBAAY,aAA6C;YAA7C,8BAAA,EAAA,kBAA6C;YACvD,KAAK,IAAM,GAAG,IAAI,aAAa,EAAE;gBAC/B,IAAI,aAAa,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;oBACrC,IAAI,CAAC,GAAG,CAAC,GAAG,aAAa,CAAC,GAAG,CAAC,CAAC;iBAChC;aACF;SACF;4BACF;KAAA,IAAA;;QAEsC,kCAAgB;QAGrD,wBAAY,aAA8C;YAA9C,8BAAA,EAAA,kBAA8C;mBACxD,kBAAM,aAAa,CAAC;SACrB;6BACF;KAND,CAAuC,aAAgB,GAMtD;;QAKC,iCAAY,aAAoD;YAApD,8BAAA,EAAA,kBAAoD;YAFhE,mBAAc,GAAG,EAAE,CAAC;YAGlB,KAAK,IAAM,GAAG,IAAI,aAAa,EAAE;gBAC/B,IAAI,aAAa,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;oBACrC,IAAI,CAAC,GAAG,CAAC,GAAG,aAAa,CAAC,GAAG,CAAC,CAAC;iBAChC;aACF;SACF;sCACF;KAAA,IAAA;;QAE0C,yCAAuB;QAGhE,+BAAY,aAAkD;YAAlD,8BAAA,EAAA,kBAAkD;mBAC5D,kBAAM,aAAa,CAAC;SACrB;oCACF;KAND,CAA2C,uBAAuB,GAMjE;;QAEmD,kDAAqB;QAGvE,wCAAY,aAA2D;YAA3D,8BAAA,EAAA,kBAA2D;mBACrE,kBAAM,aAAa,CAAC;SACrB;6CACF;KAND,CAAoD,qBAAqB,GAMxE;;QAKC,mBAAY,aAA4C;YAA5C,8BAAA,EAAA,kBAA4C;YACtD,KAAK,IAAM,GAAG,IAAI,aAAa,EAAE;gBAC/B,IAAI,aAAa,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;oBACrC,IAAI,CAAC,GAAG,CAAC,GAAG,aAAa,CAAC,GAAG,CAAC,CAAC;iBAChC;aACF;SACF;wBACF;KAAA,IAAA;;QAEmE,4CAAsB;QAIxF,kCAAY,aAAkE;YAAlE,8BAAA,EAAA,kBAAkE;mBAC5E,kBAAM,aAAa,CAAC;SACrB;uCACF;KAPD,CAAoE,SAAsB,GAOzF;;QAKS,oDAAqC;QAG7C,0CACE,aAAoF;YAApF,8BAAA,EAAA,kBAAoF;mBAEpF,kBAAM,aAAa,CAAC;SACrB;+CACF;KAXD,CAGU,wBAAqC,GAQ9C;;QAE2D,oCAAqC;QAI/F,0BAAY,aAA0D;YAA1D,8BAAA,EAAA,kBAA0D;mBACpE,kBAAM,aAAa,CAAC;SACrB;+BACF;KAPD,CAA4D,wBAAqC,GAOhG;;QAE6E,4CAE7E;QAIC,kCAAY,aAA4E;YAA5E,8BAAA,EAAA,kBAA4E;mBACtF,kBAAM,aAAa,CAAC;SACrB;uCACF;KATD,CAA8E,gBAE7E,GAOA;;QAE+D,wCAA6B;QAK3F,8BAAY,aAA8D;YAA9D,8BAAA,EAAA,kBAA8D;mBACxE,kBAAM,aAAa,CAAC;SACrB;mCACF;KARD,CAAgE,gBAA6B,GAQ5F;;QAKS,gDAAiC;QAKzC,sCAAY,aAAgF;YAAhF,8BAAA,EAAA,kBAAgF;mBAC1F,kBAAM,aAAa,CAAC;SACrB;2CACF;KAXD,CAGU,oBAAiC,GAQ1C;;QAKC,0BAAY,aAA6C;YAA7C,8BAAA,EAAA,kBAA6C;YACvD,KAAK,IAAM,GAAG,IAAI,aAAa,EAAE;gBAC/B,IAAI,aAAa,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;oBACrC,IAAI,CAAC,GAAG,CAAC,GAAG,aAAa,CAAC,GAAG,CAAC,CAAC;iBAChC;aACF;SACF;+BACF;KAAA,IAAA;;QAEuD,uCAAgB;QAGtE,6BAAY,aAAsD;YAAtD,8BAAA,EAAA,kBAAsD;mBAChE,kBAAM,aAAa,CAAC;SACrB;kCACF;KAND,CAAwD,gBAAgB,GAMvE;;QAE6E,sDAE7E;QAIC,4CAAY,aAA4E;YAA5E,8BAAA,EAAA,kBAA4E;mBACtF,kBAAM,aAAa,CAAC;SACrB;iDACF;KATD,CAA8E,mBAE7E,GAOA;;QAIS,8CAA+C;QAIvD,oCAAY,aAAoE;YAApE,8BAAA,EAAA,kBAAoE;mBAC9E,kBAAM,aAAa,CAAC;SACrB;yCACF;KATD,CAEU,kCAA+C,GAOxD;;QAKS,sDAAuC;QAI/C,4CAAY,aAA4E;YAA5E,8BAAA,EAAA,kBAA4E;mBACtF,kBAAM,aAAa,CAAC;SACrB;iDACF;KAVD,CAGU,0BAAuC,GAOhD;;QAKS,8DAA+C;QAGvD,oDACE,aAAoF;YAApF,8BAAA,EAAA,kBAAoF;mBAEpF,kBAAM,aAAa,CAAC;SACrB;yDACF;KAXD,CAGU,kCAA+C,GAQxD;;QAIS,kDAAuC;QAK/C,wCAAY,aAAwE;YAAxE,8BAAA,EAAA,kBAAwE;mBAClF,kBAAM,aAAa,CAAC;SACrB;6CACF;KAVD,CAEU,0BAAuC,GAQhD;;QAKS,0DAA2C;QAKnD,gDAAY,aAAgF;YAAhF,8BAAA,EAAA,kBAAgF;mBAC1F,kBAAM,aAAa,CAAC;SACrB;qDACF;KAXD,CAGU,8BAA2C;;ACtMxCC,2CAA+B;QAK1C,yCAAoB,IAAiB,EAAU,KAAY;YAAvC,SAAI,GAAJ,IAAI,CAAa;YAAU,UAAK,GAAL,KAAK,CAAO;SAAI;QAJ/D,sBAAI,oDAAO;iBAAX;gBACE,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAAClG,WAAW,CAAC,OAAO,CAAC,8BAA8B,CAAC,CAAC,CAAC;aACvF;;;WAAA;QAID,0DAAgB,GAAhB;YACE,IAAM,OAAO,GAAuB;gBAClC,MAAM,EAAE,KAAK;gBACb,GAAG,EAAE,oCAAoC;aAC1C,CAAC;YAEF,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAA0C,OAAO,EAAE;gBACzE,OAAO,EAAE,IAAI,CAAC,OAAO;aACtB,CAAC,CAAC;SACJ;8CACF;KAjBD,IAiBC;;AAjBYkG,2CAA+B;QAH3CtG,aAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAM0BqD,UAAW,EAAiBnD,QAAK;OALhDoG,uCAA+B,CAiB3C;;ACZYC,uBAAW;QACtB,qBACU,IAAiB,EACjB,YAA0B,EAC1B,KAAY,EAC2B,OAAY;YAHnD,SAAI,GAAJ,IAAI,CAAa;YACjB,iBAAY,GAAZ,YAAY,CAAc;YAC1B,UAAK,GAAL,KAAK,CAAO;YAC2B,YAAO,GAAP,OAAO,CAAK;YAE3D,IAAI,CAAC,YAAY,CAAC,SAAS,CACzB,IAAI,CAAC,KAAK,CAAC,cAAc,CAACnG,WAAW,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,CACzE,CAAC;SACH;QAED,2BAAK,GAAL,UAAM,QAAgB,EAAE,QAAgB;YAAxC,iBAqBC;YApBC,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAACX,WAAY,CAAC,SAAS,CAAC,CAAC;YAEjE,OAAO+G,SAAI,CAAC,IAAI,CAAC,YAAY,CAAC,qBAAqB,EAAE,CAAC,CAAC,IAAI,CACzDjG,mBAAS,CAAC,cACR,OAAAiG,SAAI,CACF,KAAI,CAAC,YAAY,CAAC,2BAA2B,CAC3C,QAAQ,EACR,QAAQ,EACR,IAAIC,gBAAW,oBAAO,MAAM,IAAI,MAAM,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,EAAE,EAAE,GAAI,CACzE,CACF,GAAA,CACF,EACDlG,mBAAS,CAAC,cAAM,OAAA,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,mBAAmB,EAAE,CAAC,GAAA,CAAC,EAC/DD,aAAG,CAAC;gBACF,IAAM,WAAW,GACf,GAAG,CAAC,cAAM,OAAA,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,GAAA,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,IAAI,EAAE,EAAE,WAAW,IAAI,GAAG,CAAC;gBACzF,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAIoG,qBAAQ,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;aAClD,CAAC,EACF/G,cAAI,CAAC,CAAC,CAAC,CACR,CAAC;SACH;QAED,4BAAM,GAAN;YAAA,iBAkBC;YAjBC,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAACS,WAAW,CAAC,OAAO,CAAC,gCAAgC,CAAC,CAAC,CAAC;YAEhG,OAAO,IAAI,CAAC,IAAI;iBACb,OAAO,CACN;gBACE,MAAM,EAAE,KAAK;gBACb,GAAG,EAAE,qBAAqB;aAC3B,EACD,IAAI,EACJ,MAAM,CACP;iBACA,IAAI,CACHG,mBAAS,CAAC;gBACR,KAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBAC/B,OAAO,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,mBAAmB,EAAE,CAAC,CAAC;aACvD,CAAC,CACH,CAAC;SACL;0BACF;KAtDD,IAsDC;;AAtDYgG,uBAAW;QAHvBvG,aAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;QAMG,WAAAwB,WAAQ,EAAE,CAAA,EAAE,WAAA8B,SAAM,CAAC,iBAAiB,CAAC,CAAA;yCAHxBD,UAAW;YACHpD,iBAAY;YACnBC,QAAK;OAJXqG,mBAAW,CAsDvB;;AC9DYI,8BAAkB;QAC7B,4BAAoB,KAAY;YAAZ,UAAK,GAAL,KAAK,CAAO;SAAI;QAEpC,mCAAM,GAAN;YACE,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAACvG,WAAW,CAAC,MAAM,CAAC,CAAC;SACtD;QAED,+CAAkB,GAAlB;YACE,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAACA,WAAW,CAAC,kBAAkB,CAAC,CAAC;SAClE;QAED,mCAAM,GAAN;YAAO,cAA8C;iBAA9C,UAA8C,EAA9C,qBAA8C,EAA9C,IAA8C;gBAA9C,yBAA8C;;YACnD,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAACA,WAAW,CAAC,MAAM,OAAlBA,WAAW,WAAW,IAAI,GAAE,CAAC;SAC/D;QAED,oCAAO,GAAP;YAAQ,cAA+C;iBAA/C,UAA+C,EAA/C,qBAA+C,EAA/C,IAA+C;gBAA/C,yBAA+C;;YACrD,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAACA,WAAW,CAAC,OAAO,OAAnBA,WAAW,WAAY,IAAI,GAAE,CAAC;SAChE;QAED,sCAAS,GAAT;YAAU,cAAiD;iBAAjD,UAAiD,EAAjD,qBAAiD,EAAjD,IAAiD;gBAAjD,yBAAiD;;YACzD,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAACA,WAAW,CAAC,SAAS,OAArBA,WAAW,WAAc,IAAI,GAAE,CAAC;SAClE;QAED,uCAAU,GAAV;YAAW,cAAkD;iBAAlD,UAAkD,EAAlD,qBAAkD,EAAlD,IAAkD;gBAAlD,yBAAkD;;YAC3D,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAACA,WAAW,CAAC,UAAU,OAAtBA,WAAW,WAAe,IAAI,GAAE,CAAC;SACnE;QAED,wCAAW,GAAX;YAAY,cAAmD;iBAAnD,UAAmD,EAAnD,qBAAmD,EAAnD,IAAmD;gBAAnD,yBAAmD;;YAC7D,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAACA,WAAW,CAAC,WAAW,OAAvBA,WAAW,WAAgB,IAAI,GAAE,CAAC;SACpE;QAED,6CAAgB,GAAhB;YAAiB,cAAwD;iBAAxD,UAAwD,EAAxD,qBAAwD,EAAxD,IAAwD;gBAAxD,yBAAwD;;YACvE,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAACA,WAAW,CAAC,gBAAgB,OAA5BA,WAAW,WAAqB,IAAI,GAAE,CAAC;SACzE;QAED,4CAAe,GAAf;YAAgB,cAAuD;iBAAvD,UAAuD,EAAvD,qBAAuD,EAAvD,IAAuD;gBAAvD,yBAAuD;;YACrE,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAACA,WAAW,CAAC,eAAe,OAA3BA,WAAW,WAAoB,IAAI,GAAE,CAAC;SACxE;QAED,wDAA2B,GAA3B;YACE,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,mBAAmB,EAAE,CAAC,CAAC;SACvD;QAED,mDAAsB,GAAtB;YAAuB,cAAqD;iBAArD,UAAqD,EAArD,qBAAqD,EAArD,IAAqD;gBAArD,yBAAqD;;YAC1E,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,MAAK,cAAc,YAAd,cAAc,qBAAI,IAAI,MAAE,CAAC;SACzD;iCACF;KA9CD,IA8CC;;AA9CYuG,8BAAkB;QAH9B3G,aAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAE2BE,QAAK;OADrByG,0BAAkB,CA8C9B;;AClDYC,oCAAwB;QACnC,kCAAoB,QAAkB;YAAlB,aAAQ,GAAR,QAAQ,CAAU;SAAI;QAE1C,iDAAc,GAAd,UACE,kBAAyC,EACzC,QAAwB;YAAxB,yBAAA,EAAA,WAAW,IAAI,CAAC,QAAQ;YAExB,OAAO,kBAAkB,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;SACnD;uCACF;KATD,IASC;;AATYA,oCAAwB;QADpC5G,aAAU,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC;yCAEHR,WAAQ;OAD3BoH,gCAAwB,CASpC;;ACRYC,+BAAmB;QAAhC;YACmB,aAAQ,GAAG,IAAI,GAAG,EAAU,CAAC;SA2B/C;QAzBC,2CAAa,GAAb,UACE,eAAmC;YAEnC,IAAM,IAAI,GAAG,YAAY,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;YAEnD,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC;gBAAE,OAAO;YAEpC,IAAM,OAAO,GAAG,eAAe,CAAC,aAAa,EAAE,CAAC;YAChD,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAExB,OAAO,OAAO,CAAC;SAChB;QAED,2CAAa,GAAb,UAAc,OAA6C;YACzD,IAAM,IAAI,GAAG,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;YAC/C,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAE3B,OAAO,CAAC,UAAU,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;SACzC;QAED,iCAAG,GAAH,UAAI,OAAe;YACjB,IAAM,IAAI,GAAG,YAAY,CAAC,OAAO,CAAC,CAAC;YAEnC,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SAChC;kCACF;KA5BD,IA4BC;;AA5BYA,+BAAmB;QAD/B7G,aAAU,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC;OACtB6G,2BAAmB,CA4B/B;;ACzBYC,2BAAe;QAA5B;YACW,WAAM,GAAG,IAAI,GAAG,EAA+C,CAAC;SA2B1E;QAzBC,8BAAI,GAAJ,UAAK,QAAyB,EAAE,UAAmB,EAAE,UAAmB;YAAxE,iBAcC;YAbC,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC;gBAAE,OAAOtG,OAAE,CAAC,IAAI,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC;YAEvE,OAAO,QAAQ,CAAC,YAAY,EAAE,CAAC,IAAI,CACjCuG,mBAAS,CAAC,UAAA,MAAM,IACd,OAAAC,WAAM,CACJ,MAAM,CAAC,IAAI,CAACC,eAAK,CAAC,UAAU,CAAC,EAAEtH,cAAI,CAAC,UAAU,CAAC,CAAC,EAChDe,eAAU,CAAC,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC,CACrC,GAAA,CACF,EACDJ,aAAG,CAAC,cAAM,OAAA,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,OAAO,CAAC,GAAA,CAAC,EAC3D2G,eAAK,CAAC,GAAG,CAAC,EACVC,qBAAW,CAAC,EAAE,UAAU,EAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAC/C,CAAC;SACH;QAED,gCAAM,GAAN,UAAO,IAAY;YACjB,IAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAEtC,IAAI,CAAC,OAAO;gBAAE,OAAO,KAAK,CAAC;YAE3B,OAAO,CAAC,UAAU,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;YACxC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YACzB,OAAO,IAAI,CAAC;SACb;8BACF;KA5BD,IA4BC;;AA5BYJ,2BAAe;QAH3B9G,aAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;OACW8G,uBAAe,CA4B3B;;QClCY,wBAAwB,GAAG,IAAIlE,iBAAc,CAAS,0BAA0B;;ACOhFuE,uBAAW;QAuEtB,qBAAkE,KAAa;YAA/E,iBAEC;YAFiE,UAAK,GAAL,KAAK,CAAQ;YAtEvE,YAAO,GAAG,EAAE,CAAC;YASb,oBAAe,GAAG,EAAE,CAAC;YASrB,UAAK,GAAG,CAAC,CAAC;YAWV,aAAQ,GAAG,EAAE,CAAC;YASd,eAAU,GAAG,EAAE,CAAC;YAShB,YAAO,GAAG,IAAIC,kBAAa,CAAkB,CAAC,CAAC,CAAC;YAQhD,gBAAW,GAAG,IAAItG,oBAAe,CAAC,KAAK,CAAC,CAAC;YAMjD,QAAG,GAAG;gBACJ,KAAI,CAAC,OAAO,CAAC,IAAI,CAAE;oBACjB,MAAM,EAAE,KAAI,CAAC,OAAO,IAAI,SAAS;oBACjC,cAAc,EAAE,KAAI,CAAC,eAAe;oBACpC,SAAS,EAAE,KAAI,CAAC,KAAK,GAAG,KAAI,CAAC,eAAe;oBAC5C,OAAO,EAAE,KAAI,CAAC,UAAU,GAAM,KAAI,CAAC,QAAQ,SAAI,KAAI,CAAC,UAAY,GAAG,SAAS;iBAClD,CAAC,CAAC;aAC/B,CAAC;YAGA,IAAI,CAAC,GAAG,EAAE,CAAC;SACZ;QAvED,sBAAI,+BAAM;iBAIV;gBACE,OAAO,IAAI,CAAC,OAAO,CAAC;aACrB;iBAND,UAAW,KAAa;gBACtB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,IAAI,CAAC,GAAG,EAAE,CAAC;aACZ;;;WAAA;QAMD,sBAAI,uCAAc;iBAIlB;gBACE,OAAO,IAAI,CAAC,eAAe,CAAC;aAC7B;iBAND,UAAmB,KAAa;gBAC9B,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC7B,IAAI,CAAC,GAAG,EAAE,CAAC;aACZ;;;WAAA;QAMD,sBAAI,6BAAI;iBAMR;gBACE,OAAO,IAAI,CAAC,KAAK,CAAC;aACnB;iBARD,UAAS,KAAa;gBACpB,IAAI,KAAK,KAAK,IAAI,CAAC,KAAK;oBAAE,OAAO;gBAEjC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;gBACnB,IAAI,CAAC,GAAG,EAAE,CAAC;aACZ;;;WAAA;QAMD,sBAAI,gCAAO;iBAIX;gBACE,OAAO,IAAI,CAAC,QAAQ,CAAC;aACtB;iBAND,UAAY,KAAa;gBACvB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACtB,IAAI,CAAC,GAAG,EAAE,CAAC;aACZ;;;WAAA;QAMD,sBAAI,kCAAS;iBAIb;gBACE,OAAO,IAAI,CAAC,UAAU,CAAC;aACxB;iBAND,UAAc,KAAa;gBACzB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,IAAI,CAAC,GAAG,EAAE,CAAC;aACZ;;;WAAA;QAOD,sBAAI,+BAAM;iBAAV;gBACE,OAAO,IAAI,CAAC,OAAO;qBAChB,YAAY,EAAE;qBACd,IAAI,CAACoB,sBAAY,CAAC,IAAI,CAAC,KAAK,IAAI,GAAG,CAAC,EAAEgF,qBAAW,CAAC,EAAE,UAAU,EAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;aAC1F;;;WAAA;QAID,sBAAI,mCAAU;iBAAd;gBACE,OAAO,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;aACxC;;;WAAA;QAeD,iCAAW,GAAX,UACE,qBAAqE;YADvE,iBAYC;YATC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAE5B,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CACrB3G,mBAAS,CAAC,UAAA,KAAK,IAAI,OAAA,qBAAqB,CAAC,KAAK,CAAC,CAAC,IAAI,CAACE,oBAAU,CAAC,cAAM,OAAAD,OAAE,CAAC,IAAI,CAAC,GAAA,CAAC,CAAC,GAAA,CAAC,EACjFyC,gBAAM,CAAC,OAAO,CAAC,EACf3C,aAAG,CAAC,cAAM,OAAA,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,GAAA,CAAC,EACvC4G,qBAAW,CAAC,EAAE,UAAU,EAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,EAC9C,gBAAgB,CAAC,IAAI,CAAC,CACvB,CAAC;SACH;QAED,iCAAW,GAAX,eAAgB;0BACjB;KA1FD,IA0FC;AA1FYC,uBAAW;QADvBnH,aAAU,EAAE;QAwEE,WAAAwB,WAAQ,EAAE,CAAA,EAAE,WAAA8B,SAAM,CAAC,wBAAwB,CAAC,CAAA;;OAvE9C6D,mBAAW,CA0FvB;;AC1FYE,+BAAmB;QAC9B,6BAAoB,KAAY;YAAZ,UAAK,GAAL,KAAK,CAAO;SAAI;QAEpC,wCAAU,GAAV;YACE,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC7D,UAAY,CAAC,UAAU,CAAC,CAAC;SAC3D;QAED,gDAAkB,GAAlB;YACE,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,UAAU,EAAE,CAAC,CAAC;SAC9C;QAED,mDAAqB,GAArB;YAAsB,cAAoD;iBAApD,UAAoD,EAApD,qBAAoD,EAApD,IAAoD;gBAApD,yBAAoD;;YACxE,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,MAAK,aAAa,YAAb,aAAa,qBAAI,IAAI,MAAE,CAAC;SACxD;QAED,oDAAsB,GAAtB;YAAuB,cAAqD;iBAArD,UAAqD,EAArD,qBAAqD,EAArD,IAAqD;gBAArD,yBAAqD;;YAC1E,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,MAAK,cAAc,YAAd,cAAc,qBAAI,IAAI,MAAE,CAAC;SACzD;kCACF;KAlBD,IAkBC;;AAlBY6D,+BAAmB;QAH/BrH,aAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAE2BE,QAAK;OADrBmH,2BAAmB,CAkB/B;;ACdYC,+BAAmB;QAC9B,6BAAoB,KAAY;YAAZ,UAAK,GAAL,KAAK,CAAO;SAAI;QAEpC,yCAAW,GAAX;YACE,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC7H,WAAY,CAAC,WAAW,CAAC,CAAC;SAC5D;QAED,uCAAS,GAAT;YACE,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAACA,WAAY,CAAC,SAAS,CAAC,CAAC;SAC1D;QAED,8CAAgB,GAAhB;YACE,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAACA,WAAY,CAAC,gBAAgB,CAAC,CAAC;SACjE;QAED,iDAAmB,GAAnB;YAAoB,cAAkD;iBAAlD,UAAkD,EAAlD,qBAAkD,EAAlD,IAAkD;gBAAlD,yBAAkD;;YACpE,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,MAAK,WAAW,YAAX,WAAW,qBAAI,IAAI,MAAE,CAAC;SACtD;QAED,+CAAiB,GAAjB;YAAkB,cAAgD;iBAAhD,UAAgD,EAAhD,qBAAgD,EAAhD,IAAgD;gBAAhD,yBAAgD;;YAChE,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,MAAK,SAAS,YAAT,SAAS,qBAAI,IAAI,MAAE,CAAC;SACpD;QAED,iDAAmB,GAAnB;YAAoB,cAAkD;iBAAlD,UAAkD,EAAlD,qBAAkD,EAAlD,IAAkD;gBAAlD,yBAAkD;;YACpE,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,MAAK,WAAW,YAAX,WAAW,qBAAI,IAAI,MAAE,CAAC;SACtD;QAED,0DAA4B,GAA5B;YAA6B,cAA2D;iBAA3D,UAA2D,EAA3D,qBAA2D,EAA3D,IAA2D;gBAA3D,yBAA2D;;YACtF,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,MAAK,oBAAoB,YAApB,oBAAoB,qBAAI,IAAI,MAAE,CAAC;SAC/D;kCACF;KA9BD,IA8BC;;AA9BY6H,+BAAmB;QAH/BtH,aAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAE2BE,QAAK;OADrBoH,2BAAmB,CA8B/B;;QCxCY,OAAO,GAAG,UAAU,GAAY,IAAyB,OAAA,UAAC,CAAC,EAAE,IAAI,IAAK,OAAA,IAAI,CAAC,GAAG,CAAC,GAAA,IAAC;QAEhF,WAAW,GAAG;QACzB,cAA8C;aAA9C,UAA8C,EAA9C,qBAA8C,EAA9C,IAA8C;YAA9C,yBAA8C;;QACvB,OAAA,UAAC,CAAC,EAAE,IAAI,IAAK,OAAA,IAAI,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,GAAG,IAAK,OAAA,GAAG,CAAC,GAAG,CAAC,GAAA,EAAE,IAAI,CAAC,GAAA;IAAtD,EAAuD;AAKnEC,0BAAc;QAA3B;YACE,OAAE,GAAG,OAAO,CAAC;YAEb,WAAM,GAAG,WAAW,CAAC;SACtB;6BAAA;KAJD,IAIC;;AAJYA,0BAAc;QAH1BvH,aAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;OACWuH,sBAAc,CAI1B;;;QCbC,2BAAmB,YAA8B;YAA9B,iBAAY,GAAZ,YAAY,CAAkB;SAAI;QAIrD,mCAAO,GAAP,eAAkB;gCACnB;KAAA,IAAA;;QAE2C,0CAAiB;QAA7D;;SAQC;QAPC,yCAAQ,GAAR;YACE,OAAO,CAAC,CAAC;SACV;QAED,wCAAO,GAAP;YACE,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;SAC3B;qCACF;KARD,CAA4C,iBAAiB,GAQ5D;;QAEgD,+CAAiB;QAChE,qCAAY,YAA8B,EAAU,KAAa;YAAjE,YACE,kBAAM,YAAY,CAAC,SACpB;YAFmD,WAAK,GAAL,KAAK,CAAQ;;SAEhE;QAED,8CAAQ,GAAR;YACE,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;SACpE;0CACF;KARD,CAAiD,iBAAiB,GAQjE;QAEY,kBAAkB,GAAG;QAChC,KAAK,YAAC,YAA8B;YAClC,OAAO,IAAI,sBAAsB,CAAC,YAAY,CAAC,CAAC;SACjD;QACD,MAAM,YAAC,YAA8B;YACnC,OAAO,IAAI,2BAA2B,CAAC,YAAY,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC;SAC3E;QACD,OAAO,YAAC,YAA8B;YACpC,OAAO,IAAI,2BAA2B,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;SACzD;QACD,MAAM,YAAC,YAA8B,EAAE,KAAa;YAClD,OAAO,IAAI,2BAA2B,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;SAC7D;;;;QCzCD,iCAAmB,KAAc;YAAd,UAAK,GAAL,KAAK,CAAS;SAAI;sCAGtC;KAAA,IAAA;;QAEiD,gDAAuB;QACvE,sCAAY,KAAa;mBACvB,kBAAM,KAAK,CAAC;SACb;QAED,+CAAQ,GAAR,UAAS,OAA6C;YACpD,OAAO,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;SAC3C;2CACF;KARD,CAAkD,uBAAuB,GAQxE;;QAE8C,6CAAuB;QACpE;mBACE,iBAAO;SACR;QAED,4CAAQ,GAAR,UAAS,CAAuC,KAAI;wCACrD;KAND,CAA+C,uBAAuB,GAMrE;QAEY,yBAAyB,GAAG;QACvC,KAAK,YAAC,KAAa;YACjB,OAAO,IAAI,4BAA4B,CAAC,KAAK,CAAC,CAAC;SAChD;QACD,IAAI;YACF,OAAO,IAAI,yBAAyB,EAAE,CAAC;SACxC;;;;QC1BD,yBACS,OAAe,EACZ,WAAsD,EACtD,uBAAmF;YADnF,4BAAA,EAAA,cAA2B,YAAY,CAAC,YAAY,EAAE;YACtD,wCAAA,EAAA,0BAAmD,yBAAyB,CAAC,IAAI,EAAE;YAFtF,YAAO,GAAP,OAAO,CAAQ;YACZ,gBAAW,GAAX,WAAW,CAA2C;YACtD,4BAAuB,GAAvB,uBAAuB,CAA4D;SAC3F;QAIJ,uCAAa,GAAb;YACE,IAAM,OAAO,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YAErC,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAC/C,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAExC,OAAO,OAAO,CAAC;SAChB;8BACF;KAAA,IAAA;;QAEyC,wCAAiC;QAA3E;;SAOC;QANC,4CAAa,GAAb;YACE,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAChD,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC;YAEnC,OAAO,OAAO,CAAC;SAChB;mCACF;KAPD,CAA0C,eAAiC,GAO1E;;QAE0C,yCAAkC;QAA7E;;SAOC;QANC,6CAAa,GAAb;YACE,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YACjD,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC;YAEnC,OAAO,OAAO,CAAC;SAChB;oCACF;KAPD,CAA2C,eAAkC,GAO5E;QAEY,gBAAgB,GAAG;QAC9B,kBAAkB,YAAC,OAAe;YAChC,OAAO,IAAI,qBAAqB,CAAC,OAAO,EAAE,YAAY,CAAC,YAAY,EAAE,CAAC,CAAC;SACxE;QACD,kBAAkB,YAAC,OAAe;YAChC,OAAO,IAAI,qBAAqB,CAAC,OAAO,EAAE,YAAY,CAAC,YAAY,EAAE,CAAC,CAAC;SACxE;QACD,iBAAiB,YAAC,OAAe;YAC/B,OAAO,IAAI,oBAAoB,CAAC,OAAO,EAAE,YAAY,CAAC,YAAY,EAAE,CAAC,CAAC;SACvE;QACD,kBAAkB,YAAC,OAAe;YAChC,OAAO,IAAI,oBAAoB,CAAC,OAAO,EAAE,YAAY,CAAC,aAAa,EAAE,CAAC,CAAC;SACxE;;;;QChDD,yBAAmB,OAAgC;YAAhC,YAAO,GAAP,OAAO,CAAyB;SAAI;;QAGvD,oCAAU,GAAV,UAAW,YAAkD;YAC3D,OAAO,IAAI,CAAC,OAAO,CAAC;SACrB;8BACF;KAAA,IAAA;;QAIS,qCAAkB;QAC1B;mBACE,kBAAM,SAAS,CAAC;SACjB;gCACF;KAND,CAEU,eAAkB,GAI3B;;QAEwE,4CAAkB;QAA3F;;SAMC;QALC,6CAAU,GAAV,UAAW,YAAiD;YAA5D,iBAIC;YAHC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,UAAA,GAAG,IAAI,QAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAC,CAAC,CAAC;YAC3F,YAAY,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;YAC/C,OAAO,IAAI,CAAC,OAAO,CAAC;SACrB;uCACF;KAND,CAAyE,eAAkB,GAM1F;;QAE8E,2CAAkB;QAAjG;;SAIC;QAHC,4CAAU,GAAV;YACE,OAAO,IAAI,CAAC,OAAO,CAAC;SACrB;sCACF;KAJD,CAA+E,eAAkB,GAIhG;QAEY,gBAAgB,GAAG;QAC9B,IAAI;YACF,OAAO,IAAI,iBAAiB,EAAK,CAAC;SACnC;QACD,SAAS,YAA4B,OAAuC;YAC1E,OAAO,IAAI,wBAAwB,CAAI,OAAO,CAAC,CAAC;SACjD;QACD,QAAQ,YAAmC,OAAsC;YAC/E,OAAO,IAAI,uBAAuB,CAAI,OAAO,CAAC,CAAC;SAChD;;;;QClCD,yBACS,IAAY,EACT,WAAsD,EACtD,mBAA4E;YAD5E,4BAAA,EAAA,cAA2B,YAAY,CAAC,YAAY,EAAE;YACtD,oCAAA,EAAA,sBAA2C,qBAAqB,CAAC,SAAS,EAAE;YAF/E,SAAI,GAAJ,IAAI,CAAQ;YACT,gBAAW,GAAX,WAAW,CAA2C;YACtD,wBAAmB,GAAnB,mBAAmB,CAAyD;SACpF;QAIJ,sCAAY,GAAZ;YAAA,iBAMC;YALC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YAEpC,OAAO/G,OAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAClBD,mBAAS,CAAC,cAAM,OAAA,YAAY,CAAI,KAAI,CAAC,OAAO,EAAE,KAAI,CAAC,WAAW,EAAE,KAAI,CAAC,mBAAmB,CAAC,GAAA,CAAC,CAC3F,CAAC;SACH;8BACF;KAAA,IAAA;;QAE0C,yCAAkC;QAC3E,+BAAY,GAAW,EAAE,WAAyB,EAAE,mBAAyC;mBAC3F,kBAAM,GAAG,EAAE,WAAW,EAAE,mBAAmB,CAAC;SAC7C;QAED,6CAAa,GAAb;YACE,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YACjD,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;YAExB,OAAO,OAAO,CAAC;SAChB;oCACF;KAXD,CAA2C,eAAkC,GAW5E;;QAEyC,wCAAgC;QACxE,8BAAY,IAAY,EAAE,WAAyB,EAAE,mBAAyC;mBAC5F,kBAAM,IAAI,EAAE,WAAW,EAAE,mBAAmB,CAAC;SAC9C;QAED,4CAAa,GAAb;YACE,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YAC/C,OAAO,CAAC,GAAG,GAAG,YAAY,CAAC;YAC3B,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YAEzB,OAAO,OAAO,CAAC;SAChB;mCACF;KAZD,CAA0C,eAAgC,GAYzE;QAEY,gBAAgB,GAAG;QAC9B,2BAA2B,YAAC,GAAW,EAAE,SAAkB;YACzD,OAAO,IAAI,qBAAqB,CAC9B,GAAG,EACH,YAAY,CAAC,YAAY,EAAE,EAC3B,qBAAqB,CAAC,SAAS,CAAC,SAAS,CAAC,CAC3C,CAAC;SACH;QACD,2BAA2B,YAAC,GAAW,EAAE,SAAkB;YACzD,OAAO,IAAI,qBAAqB,CAC9B,GAAG,EACH,YAAY,CAAC,YAAY,EAAE,EAC3B,qBAAqB,CAAC,SAAS,CAAC,SAAS,CAAC,CAC3C,CAAC;SACH;QACD,0BAA0B,YAAC,GAAW,EAAE,SAAkB;YACxD,OAAO,IAAI,oBAAoB,CAC7B,GAAG,EACH,YAAY,CAAC,YAAY,EAAE,EAC3B,qBAAqB,CAAC,SAAS,CAAC,SAAS,CAAC,CAC3C,CAAC;SACH;QACD,4BAA4B,YAAC,GAAW,EAAE,SAAkB;YAC1D,OAAO,IAAI,qBAAqB,CAC9B,GAAG,EACH,YAAY,CAAC,aAAa,EAAE,EAC5B,qBAAqB,CAAC,SAAS,CAAC,SAAS,CAAC,CAC3C,CAAC;SACH;QACD,2BAA2B,YAAC,GAAW,EAAE,SAAkB;YACzD,OAAO,IAAI,oBAAoB,CAC7B,GAAG,EACH,YAAY,CAAC,aAAa,EAAE,EAC5B,qBAAqB,CAAC,SAAS,CAAC,SAAS,CAAC,CAC3C,CAAC;SACH;;;;QCxED,4BAAmB,OAAU;YAAV,YAAO,GAAP,OAAO,CAAG;SAAI;iCAGlC;KAAA,IAAA;;QAEqE,+CAAqB;QACzF,qCACE,SAAY,EACJ,iBAAoC,EACpC,eAA0D;YAA1D,gCAAA,EAAA,kBAAmC,gBAAgB,CAAC,IAAI,EAAE;YAHpE,YAKE,kBAAM,SAAS,CAAC,SACjB;YAJS,uBAAiB,GAAjB,iBAAiB,CAAmB;YACpC,qBAAe,GAAf,eAAe,CAA2C;;SAGnE;QAED,mDAAa,GAAb,UAAc,QAAkB;YAC9B,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,CAAC;YAEjC,IAAM,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAACqD,2BAAwB,CAA6B,CAAC;YACpF,IAAM,OAAO,GAAG,QAAQ,CAAC,uBAAuB,CAAwB,IAAI,CAAC,OAAO,CAAC,CAAC;YAEtF,IAAM,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,eAAe,CACtE,OAAO,EACP,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,EACjC,QAAQ,CACT,CAAC;YACF,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;YAE9C,OAAO,YAAgD,CAAC;SACzD;0CACF;KAxBD,CAAsE,kBAAqB,GAwB1F;;QAEyE,mDAAqB;QAC7F,yCACE,SAAY,EACJ,eAA0D,EAC1D,WAAsD;YADtD,gCAAA,EAAA,kBAAmC,gBAAgB,CAAC,IAAI,EAAE;YAC1D,4BAAA,EAAA,cAA2B,YAAY,CAAC,YAAY,EAAE;YAHhE,YAKE,kBAAM,SAAS,CAAC,SACjB;YAJS,qBAAe,GAAf,eAAe,CAA2C;YAC1D,iBAAW,GAAX,WAAW,CAA2C;;SAG/D;QAED,uDAAa,GAAb,UAAc,QAAkB;YAC9B,IAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC4D,iBAAc,CAAC,CAAC;YAC5C,IAAM,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC5D,2BAAwB,CAA6B,CAAC;YACpF,IAAM,YAAY,GAAG,QAAQ;iBAC1B,uBAAuB,CAAwB,IAAI,CAAC,OAAO,CAAC;iBAC5D,MAAM,CAAC,QAAQ,CAAC,CAAC;YAEpB,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;YAE9C,MAAM,CAAC,UAAU,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;YACzC,IAAM,OAAO,GAAiB,YAAY,CAAC,QAAiC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAC1F,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAExC,OAAO,YAAgD,CAAC;SACzD;8CACF;KAxBD,CAA0E,kBAAqB,GAwB9F;;QAE2E,8CAAqB;QAC/F,oCACE,WAAc,EACN,iBAAoC,EACpC,eAAyC;YAAzC,gCAAA,EAAA,kBAAkB,gBAAgB,CAAC,IAAI,EAAE;YAHnD,YAKE,kBAAM,WAAW,CAAC,SACnB;YAJS,uBAAiB,GAAjB,iBAAiB,CAAmB;YACpC,qBAAe,GAAf,eAAe,CAA0B;;SAGlD;QAED,kDAAa,GAAb;YACE,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,CAAC;YAEjC,IAAM,eAAe,GAAG,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,kBAAkB,CAC5E,IAAI,CAAC,OAAO,EACZ,IAAI,CAAC,eAAe,CAAC,OAAO,EAC5B,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,CAClC,CAAC;YACF,eAAe,CAAC,aAAa,EAAE,CAAC;YAEhC,OAAO,eAAmD,CAAC;SAC5D;yCACF;KArBD,CAA4E,kBAAqB,GAqBhG;QAEY,mBAAmB,GAAG;QACjC,qBAAqB,YACnB,SAAY,EACZ,OAAwC;YAExC,OAAO,IAAI,+BAA+B,CACxC,SAAS,EACT,OAAO,IAAI,gBAAgB,CAAC,SAAS,CAAC,OAAO,CAAC,CAC/C,CAAC;SACH;QACD,0BAA0B,YACxB,SAAY,EACZ,YAA8B,EAC9B,OAAwC;YAExC,OAAO,IAAI,2BAA2B,CACpC,SAAS,EACT,kBAAkB,CAAC,MAAM,CAAC,YAAY,CAAC,EACvC,OAAO,IAAI,gBAAgB,CAAC,SAAS,CAAC,OAAO,CAAC,CAC/C,CAAC;SACH;QACD,yBAAyB,YACvB,WAAc,EACd,YAA8B,EAC9B,OAAuC;YAEvC,OAAO,IAAI,0BAA0B,CACnC,WAAW,EACX,kBAAkB,CAAC,MAAM,CAAC,YAAY,CAAC,EACvC,OAAO,IAAI,gBAAgB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAC9C,CAAC;SACH;QACD,2BAA2B,YACzB,SAAY,EACZ,YAA8B,EAC9B,OAAwC;YAExC,OAAO,IAAI,2BAA2B,CACpC,SAAS,EACT,kBAAkB,CAAC,OAAO,CAAC,YAAY,CAAC,EACxC,OAAO,IAAI,gBAAgB,CAAC,SAAS,CAAC,OAAO,CAAC,CAC/C,CAAC;SACH;QACD,0BAA0B,YACxB,WAAc,EACd,YAA8B,EAC9B,OAAuC;YAEvC,OAAO,IAAI,0BAA0B,CACnC,WAAW,EACX,kBAAkB,CAAC,OAAO,CAAC,YAAY,CAAC,EACxC,OAAO,IAAI,gBAAgB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAC9C,CAAC;SACH;QACD,2BAA2B,YACzB,SAAY,EACZ,YAA8B,EAC9B,OAAwC;YAExC,OAAO,IAAI,2BAA2B,CACpC,SAAS,EACT,kBAAkB,CAAC,KAAK,CAAC,YAAY,CAAC,EACtC,OAAO,IAAI,gBAAgB,CAAC,SAAS,CAAC,OAAO,CAAC,CAC/C,CAAC;SACH;QACD,0BAA0B,YACxB,WAAc,EACd,YAA8B,EAC9B,OAAuC;YAEvC,OAAO,IAAI,0BAA0B,CACnC,WAAW,EACX,kBAAkB,CAAC,KAAK,CAAC,YAAY,CAAC,EACtC,OAAO,IAAI,gBAAgB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAC9C,CAAC;SACH;;;aC/Ja,cAAc,CAAC,EAAgC;YAA9B,kCAAQ,EAAR,6BAAQ;QACvC,OAAO,UAAC,OAAwB;YAC9B,IAAI,OAAO,CAAC,QAAQ;gBAAE,OAAO,IAAI,CAAC;YAElC,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAAE,OAAO,IAAI,CAAC;YAEnE,OAAO,aAAa,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,GAAG,IAAI,GAAG,EAAE,MAAM,EAAE,EAAE,GAAG,KAAA,EAAE,EAAE,CAAC;SACvE,CAAC;IACJ,CAAC;IAED,SAAS,aAAa,CAAC,KAAsB,EAAE,MAAc;QAC3D,IAAM,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;QACxB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,MAAM,CAAC,CAAC;QAC9C,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;QAE/B,OAAO,MAAM,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;IACnD;;aCtBgB,kBAAkB;QAChC,OAAO,UAAC,OAAwB;YAC9B,IAAI,OAAO,CAAC,QAAQ;gBAAE,OAAO,IAAI,CAAC;YAElC,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAAE,OAAO,IAAI,CAAC;YAEnE,OAAO,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,GAAG,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;SAC/E,CAAC;IACJ,CAAC;IAED,SAAS,iBAAiB,CAAC,KAAa;QACtC,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;QAEnC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC;YAAE,OAAO,KAAK,CAAC;QAEhD,IAAI,QAAQ,GAAG,CAAC,CAAC;QACjB,IAAI,UAAU,GAAG,CAAC,CAAC;QAEnB,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YACrC,IAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC;;YAEhD,QAAQ,IAAI,CAAC,KAAK,GAAG,EAAE,IAAI,CAAC,EAAE,KAAK,GAAG,EAAE,CAAC,CAAC;YAE1C,UAAU,GAAG,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,CAAC;SACnC;QAED,OAAO,QAAQ,GAAG,EAAE,KAAK,CAAC,CAAC;IAC7B;;aCnBgB,aAAa,CAAC,EAAsD;YAAtD,4BAAsD,EAApD,eAAkB,EAAlB,uCAAkB,EAAE,eAAW,EAAX,gCAAW;QAC7D,OAAO,UAAC,OAAwB;YAC9B,IAAI,OAAO,CAAC,QAAQ;gBAAE,OAAO,IAAI,CAAC;YAElC,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAAE,OAAO,IAAI,CAAC;YAEnE,IAAM,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YACpC,OAAO,WAAW,CAAC,KAAK,EAAE,OAAO,EAAE,OAAO,CAAC,IAAI,WAAW,CAAC,KAAK,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;SACrF,CAAC;IACJ,CAAC;IAED,SAAS,WAAW,CAAC,KAAa,EAAE,GAAW,EAAE,GAAW;QAC1D,OAAO,KAAK,GAAG,GAAG,GAAG,EAAE,KAAK,EAAE,EAAE,GAAG,KAAA,EAAE,GAAG,KAAA,EAAE,EAAE,GAAG,IAAI,CAAC;IACtD,CAAC;IAED,SAAS,WAAW,CAAC,KAAa,EAAE,GAAW,EAAE,GAAW;QAC1D,OAAO,KAAK,GAAG,GAAG,GAAG,EAAE,KAAK,EAAE,EAAE,GAAG,KAAA,EAAE,GAAG,KAAA,EAAE,EAAE,GAAG,IAAI,CAAC;IACtD;;aCrBgB,gBAAgB,CAAC,EAA2C;YAAzC,+DAAiB;QAClD,OAAO,UAAC,OAAwB;YAC9B,OAAO,OAAO,CAAC,QAAQ,IAAI,eAAe,CAAC,OAAO,CAAC,KAAK,EAAE,iBAAiB,CAAC;kBACxE,IAAI;kBACJ,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;SACxB,CAAC;IACJ,CAAC;IAED,SAAS,eAAe,CAAC,KAAU,EAAE,iBAA0B;QAC7D,IAAI,KAAK,IAAI,KAAK,KAAK,CAAC,IAAI,KAAK,KAAK,KAAK;YAAE,OAAO,IAAI,CAAC;QAEzD,IAAI,iBAAiB,IAAI,KAAK,KAAK,EAAE;YAAE,OAAO,IAAI,CAAC;QAEnD,OAAO,KAAK,CAAC;IACf;;aCRgB,oBAAoB,CAAC,EAGV;YAHU,4BAGV,EAFzB,qBAAwB,EAAxB,6CAAwB,EACxB,qBAAiB,EAAjB,sCAAiB;QAEjB,OAAO,UAAC,OAAwB;YAC9B,IAAI,OAAO,CAAC,QAAQ;gBAAE,OAAO,IAAI,CAAC;YAElC,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAAE,OAAO,IAAI,CAAC;YAEnE,IAAM,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YAEpC,OAAO,iBAAiB,CAAC,KAAK,EAAE,aAAa,CAAC,IAAI,iBAAiB,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC;SAC3F,CAAC;IACJ,CAAC;IAED,SAAS,iBAAiB,CAAC,KAAa,EAAE,cAAsB;QAC9D,OAAO,KAAK,CAAC,MAAM,GAAG,cAAc,GAAG,EAAE,SAAS,EAAE,EAAE,cAAc,gBAAA,EAAE,EAAE,GAAG,IAAI,CAAC;IAClF,CAAC;IAED,SAAS,iBAAiB,CAAC,KAAa,EAAE,cAAsB;QAC9D,OAAO,KAAK,CAAC,MAAM,GAAG,cAAc,GAAG,EAAE,SAAS,EAAE,EAAE,cAAc,gBAAA,EAAE,EAAE,GAAG,IAAI,CAAC;IAClF;;aC/BgB,WAAW;QACzB,OAAO,UAAC,OAAwB;YAC9B,IAAI,OAAO,CAAC,QAAQ;gBAAE,OAAO,IAAI,CAAC;YAElC,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAAE,OAAO,IAAI,CAAC;YAEnE,OAAO,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;SACzD,CAAC;IACJ,CAAC;IAED,SAAS,UAAU,CAAC,KAAa;QAC/B,IAAI,oBAAoB,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;YACnE,IAAM,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YACtC,CAAC,CAAC,IAAI,GAAG,KAAK,CAAC;YACf,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;SACjB;QAED,OAAO,KAAK,CAAC;IACf;;aCRgB,cAAM,OAAA6D,gBAAU,CAAC,KAAK;QAFzB,aAAa,GAAG;QAC3B,UAAU,EAAE,kBAAkB;QAC9B,YAAY,IAAwB;QACpC,MAAM,EAAE,cAAc;QACtB,KAAK,EAAE,aAAa;QACpB,QAAQ,EAAE,gBAAgB;QAC1B,YAAY,EAAE,oBAAoB;QAClC,GAAG,EAAE,WAAW;;;ICrBlB;;;;ICAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}