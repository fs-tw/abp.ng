!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/router"),require("@ngxs/store"),require("rxjs"),require("rxjs/operators"),require("@angular/common/http"),require("snq"),require("angular-oauth2-oidc"),require("@angular/common"),require("@ngxs/router-plugin"),require("just-clone"),require("just-compare"),require("@angular/forms"),require("@ngxs/storage-plugin")):"function"==typeof define&&define.amd?define("@abp/ng.core",["exports","@angular/core","@angular/router","@ngxs/store","rxjs","rxjs/operators","@angular/common/http","snq","angular-oauth2-oidc","@angular/common","@ngxs/router-plugin","just-clone","just-compare","@angular/forms","@ngxs/storage-plugin"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).abp=t.abp||{},t.abp.ng=t.abp.ng||{},t.abp.ng.core={}),t.ng.core,t.ng.router,t.i1,t.rxjs,t.rxjs.operators,t.ng.common.http,t.snq,t.i1$1,t.ng.common,t.routerPlugin,t.clone,t.compare,t.ng.forms,t.storagePlugin)}(this,(function(t,e,n,r,o,i,a,u,s,c,p,l,f,d,h){"use strict";function y(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var g=y(u),v=y(l),m=y(f),b=function(){function t(t){this.injector=t,this.valueFn=function(t){return t},this.valueLimitFn=function(t){return!1},this.cdRef=t.get(e.ChangeDetectorRef)}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value||this.defaultValue},set:function(t){t=this.valueFn(t,this._value),!1!==this.valueLimitFn(t,this._value)||this.readonly||(this._value=t,this.notifyValueChange())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValue",{get:function(){return this._value},enumerable:!1,configurable:!0}),t.prototype.notifyValueChange=function(){this.onChange&&this.onChange(this.value)},t.prototype.writeValue=function(t){var e=this;this._value=this.valueLimitFn(t,this._value)||t,setTimeout((function(){return e.cdRef.markForCheck()}),0)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t}();b.decorators=[{type:e.Component,args:[{template:""}]}],b.ctorParameters=function(){return[{type:e.Injector}]},b.propDecorators={disabled:[{type:e.Input}],readonly:[{type:e.Input}],valueFn:[{type:e.Input}],valueLimitFn:[{type:e.Input}],value:[{type:e.Input}]};var S=function(){};S.type="[Config] Get App Configuration";var C=function(t){this.environment=t};C.type="[Config] Set Environment";var O=function(t){this.payload=t};O.type="[Loader] Start";var j=function(t){this.payload=t};j.type="[Loader] Stop";var A=function(){};A.type="[Profile] Get";var I=function(t){this.payload=t};I.type="[Profile] Update";var R=function(t){this.payload=t};R.type="[Profile] Change Password";var w=function(t,e){this.payload=t,this.reload=e};w.type="[ReplaceableComponents] Add";var E=function(t){this.payload=t};E.type="[Rest] Error";var P=function(t,e){this.payload=t,this.dispatchAppConfiguration=e};P.type="[Session] Set Language";var T=function(t){this.payload=t};T.type="[Session] Set Tenant";var _=function(t){this.operation=t};_.type="[Session] Modify Opened Tab Count";var D=function(t){this.payload=t};D.type="[Session] Set Remember";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var x=function(t,e){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function L(t,e){function n(){this.constructor=t}x(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function k(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function N(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function F(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function M(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))}function z(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}Object.create;function U(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function B(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(U(arguments[e]));return t}var V,$;Object.create;function G(t){return function(e){var n=[],r=t.replace(/\./g,"\\.").replace(/\{\s?([0-9a-zA-Z]+)\s?\}/g,(function(t,e){return n.push(e),"(.+)"}));return(e.match(r)||[]).slice(1).reduce((function(t,e,r){var o=n[r];return t[o]=B(t[o]||[],[e]).filter(Boolean),t}),{})}}function q(t,e){return t.replace(/(['"]?\{\s*(\d+)\s*\}['"]?)/g,(function(t,n,r){var o;return null!==(o=e[r])&&void 0!==o?o:n})).replace(/\s+/g," ")}function H(){return function(){}}function W(t){return void 0===t||""===t}function Y(t){return null==t}function Z(t){return!Y(t)}function K(t){return t instanceof Object}function J(t){return Array.isArray(t)}function Q(t){return K(t)&&!J(t)}t.ɵbi=V=function(){function t(t,e,n){var a=this;this.oAuthService=t,this.store=e,this.actions=n,n.pipe(r.ofActionSuccessful(S)).pipe(i.take(1)).subscribe((function(){var t,e=(null===(t=a.store.selectSnapshot(V))||void 0===t?void 0:t.sessionDetail)||{},n=(new Date).valueOf()-3e5;e.lastExitTime&&0===e.openedTabCount&&a.oAuthService.hasValidAccessToken()&&!1===e.remember&&e.lastExitTime<n&&a.oAuthService.logOut(),a.store.dispatch(new _("increase")),o.fromEvent(window,"unload").subscribe((function(t){a.store.dispatch(new _("decrease"))}))}))}return t.getLanguage=function(t){return t.language},t.getTenant=function(t){return t.tenant},t.getSessionDetail=function(t){return t.sessionDetail},t.prototype.setLanguage=function(t,e){var n=t.patchState,r=t.dispatch,o=e.payload,i=e.dispatchAppConfiguration,a=void 0===i||i;if(n({language:o}),a)return r(new S)},t.prototype.setTenant=function(t,e){(0,t.patchState)({tenant:e.payload})},t.prototype.setRemember=function(t,e){var n=t.getState,r=t.patchState,o=e.payload,i=n().sessionDetail;r({sessionDetail:Object.assign(Object.assign({},i),{remember:o})})},t.prototype.modifyOpenedTabCount=function(t,e){var n=t.getState,r=t.patchState,o=e.operation,i=n().sessionDetail||{openedTabCount:0},a=i.openedTabCount,u=i.lastExitTime,s=k(i,["openedTabCount","lastExitTime"]);"increase"===o?a++:"decrease"===o&&(a--,u=(new Date).valueOf()),(!a||a<0)&&(a=0),r({sessionDetail:Object.assign({openedTabCount:a,lastExitTime:u},s)})},t}(),t.ɵbi.decorators=[{type:e.Injectable}],t.ɵbi.ctorParameters=function(){return[{type:s.OAuthService},{type:r.Store},{type:r.Actions}]},N([r.Action(P),F("design:type",Function),F("design:paramtypes",[Object,P]),F("design:returntype",void 0)],t.ɵbi.prototype,"setLanguage",null),N([r.Action(T),F("design:type",Function),F("design:paramtypes",[Object,T]),F("design:returntype",void 0)],t.ɵbi.prototype,"setTenant",null),N([r.Action(D),F("design:type",Function),F("design:paramtypes",[Object,D]),F("design:returntype",void 0)],t.ɵbi.prototype,"setRemember",null),N([r.Action(_),F("design:type",Function),F("design:paramtypes",[Object,_]),F("design:returntype",void 0)],t.ɵbi.prototype,"modifyOpenedTabCount",null),N([r.Selector(),F("design:type",Function),F("design:paramtypes",[Object]),F("design:returntype",String)],t.ɵbi,"getLanguage",null),N([r.Selector(),F("design:type",Function),F("design:paramtypes",[Object]),F("design:returntype",Object)],t.ɵbi,"getTenant",null),N([r.Selector(),F("design:type",Function),F("design:paramtypes",[Object]),F("design:returntype",Object)],t.ɵbi,"getSessionDetail",null),t.ɵbi=V=N([r.State({name:"SessionState",defaults:{sessionDetail:{openedTabCount:0}}}),F("design:paramtypes",[s.OAuthService,r.Store,r.Actions])],t.ɵbi),t.ɵbo=$=function(){function e(t,e){this.http=t,this.store=e}return e.getAll=function(t){return t},e.getApplicationInfo=function(t){return t.environment.application||{}},e.getOne=function(t){return r.createSelector([$],(function(e){return e[t]}))},e.getDeep=function(t){if("string"==typeof t&&(t=t.split(".")),!Array.isArray(t))throw new Error("The argument must be a dot string or an string array.");return r.createSelector([$],(function(e){return t.reduce((function(t,e){if(t)return t[e]}),e)}))},e.getApiUrl=function(t){return r.createSelector([$],(function(e){return(e.environment.apis[t||"default"]||e.environment.apis.default).url}))},e.getFeature=function(t){return r.createSelector([$],(function(e){return g.default((function(){return e.features.values[t]}))}))},e.getSetting=function(t){return r.createSelector([$],(function(e){return g.default((function(){return e.setting.values[t]}))}))},e.getSettings=function(t){return r.createSelector([$],(function(e){var n=g.default((function(){return e.setting.values}),{});return t?Object.keys(n).filter((function(e){return e.indexOf(t)>-1})).reduce((function(t,e){return t[e]=n[e],t}),{}):n}))},e.getGrantedPolicy=function(t){return r.createSelector([$],(function(e){if(!t)return!0;var n,r=function(t){return g.default((function(){return e.auth.grantedPolicies[t]}),!1)};return/\|\|/g.test(t)?!((n=t.split("||").filter(Boolean)).length<2)&&n.some((function(t){return r(t.trim())})):/&&/g.test(t)?!((n=t.split("&&").filter(Boolean)).length<2)&&n.every((function(t){return r(t.trim())})):r(t)}))},e.getLocalizationResource=function(t){return r.createSelector([$],(function(e){return e.localization.values[t]}))},e.getLocalization=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];t||(t=""),"string"!=typeof t&&(e=t.defaultValue,t=t.key);var i=t.split("::"),a=r.createSelector([$],(function(r){var o=function(t){r.environment.production||console.warn(t)};if(i.length<2)return o("The localization source separator (::) not found."),e||t;if(!r.localization)return e||i[1];var a=i[0]||g.default((function(){return r.environment.localization.defaultResourceName}))||r.localization.defaultResourceName,u=i[1];if("_"===a)return e||u;if(!a)return o("Localization source name is not specified and the defaultResourceName was not defined!"),e||u;var s=r.localization.values[a];if(!s)return o("Could not find localization source: "+a),e||u;var c=s[u];return void 0===c?e||u:(n=n.filter((function(t){return null!=t})),c&&(c=q(c,n)),"string"!=typeof c&&(c=""),c||e||t)}));return a},e.prototype.addData=function(e){var n=this,r=e.patchState,a=e.dispatch,u=this.store.selectSnapshot($.getApiUrl("default"));return this.http.get(u+"/api/abp/application-configuration").pipe(i.tap((function(t){return r(Object.assign({},t))})),i.switchMap((function(e){var r=e.localization.currentCulture.cultureName;return r.includes(";")&&(r=r.split(";")[0]),document.documentElement.setAttribute("lang",r),n.store.selectSnapshot(t.ɵbi.getLanguage)?o.of(null):a(new P(r,!1))})),i.catchError((function(t){return a(new E(t)),o.throwError(t)})))},e.prototype.setEnvironment=function(t,e){return(0,t.patchState)({environment:e.environment})},e}(),t.ɵbo.decorators=[{type:e.Injectable}],t.ɵbo.ctorParameters=function(){return[{type:a.HttpClient},{type:r.Store}]},N([r.Action(S),F("design:type",Function),F("design:paramtypes",[Object]),F("design:returntype",void 0)],t.ɵbo.prototype,"addData",null),N([r.Action(C),F("design:type",Function),F("design:paramtypes",[Object,C]),F("design:returntype",void 0)],t.ɵbo.prototype,"setEnvironment",null),N([r.Selector(),F("design:type",Function),F("design:paramtypes",[Object]),F("design:returntype",void 0)],t.ɵbo,"getAll",null),N([r.Selector(),F("design:type",Function),F("design:paramtypes",[Object]),F("design:returntype",Object)],t.ɵbo,"getApplicationInfo",null),t.ɵbo=$=N([r.State({name:"ConfigState",defaults:{}}),F("design:paramtypes",[a.HttpClient,r.Store])],t.ɵbo);var X={"ar-sa":"ar-SA","ca-ES-valencia":"ca-ES-VALENCIA","de-de":"de","es-ES":"es","en-US":"en","fil-Latn":"en","ku-Arab":"en","ky-Cyrl":"en","mi-Latn":"en","prs-Arab":"en","qut-Latn":"en",nso:"en",quz:"en","fr-FR":"fr","gd-Latn":"gd","ha-Latn":"ha","ig-Latn":"ig","it-it":"it","mn-Cyrl":"mn","pt-BR":"pt","sd-Arab":"pa-Arab","sr-Cyrl-RS":"sr-Cyrl","sr-Latn-RS":"sr-Latn","tg-Cyrl":"tg","tk-Latn":"tk","tt-Cyrl":"tt","ug-Arab":"ug","yo-Latn":"yo"},tt=new e.InjectionToken("CORE_OPTIONS");function et(t){var e=t.cultureNameLocaleFileMap,n=void 0===e?{}:e,r=k(t,["cultureNameLocaleFileMap"]);return Object.assign(Object.assign({},r),{cultureNameLocaleFileMap:Object.assign(Object.assign({},X),n)})}var nt=function(){function e(t,e,n){this.options=t,this.http=e,this.store=n}return e.prototype.getApiFromStore=function(e){return this.store.selectSnapshot(t.ɵbo.getApiUrl(e))},e.prototype.handleError=function(t){return this.store.dispatch(new E(t)),o.throwError(t)},e.prototype.request=function(t,e,n){var r=this;e=e||{},n=n||this.getApiFromStore(e.apiName);var a=t.method,u=t.params,s=k(t,["method","params"]),c=e.observe,p=void 0===c?"body":c,l=e.skipHandleError;return this.http.request(a,n+t.url,Object.assign(Object.assign({observe:p},u&&{params:Object.keys(u).reduce((function(t,e){var n=u[e];return W(n)?t:null!==n||r.options.sendNullsAsQueryParam?(t[e]=n,t):t}),{})}),s)).pipe(i.catchError((function(t){return l?o.throwError(t):r.handleError(t)})))},e}();nt.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new nt(e.ɵɵinject(tt),e.ɵɵinject(a.HttpClient),e.ɵɵinject(r.Store))},token:nt,providedIn:"root"}),nt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],nt.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[tt]}]},{type:a.HttpClient},{type:r.Store}]};var rt=localStorage,ot=function(){function e(e){var n=this;this.injector=e,this.catchError=function(t){return n.store.dispatch(new E(t))},this.store=e.get(r.Store),this.oAuthService=e.get(s.OAuthService),this.oAuthConfig=this.store.selectSnapshot(t.ɵbo.getDeep("environment.oAuthConfig"))}return e.prototype.init=function(){return M(this,void 0,void 0,(function(){return z(this,(function(e){return function(t,e){var n="abpOAuthClientId";if(!e.getItem(n))return e.setItem(n,t),!1;var r=e.getItem(n)!==t;r&&e.setItem(n,t);return r}(this.store.selectSnapshot(t.ɵbo.getDeep("environment.oAuthConfig.clientId")),rt)&&st(rt),this.oAuthService.configure(this.oAuthConfig),[2,this.oAuthService.loadDiscoveryDocument().catch(this.catchError)]}))}))},e}(),it=function(t){function e(){var e=t.apply(this,B(arguments))||this;return e.isInternalAuth=!1,e}return L(e,t),e.prototype.init=function(){var e=Object.create(null,{init:{get:function(){return t.prototype.init}}});return M(this,void 0,void 0,(function(){var t=this;return z(this,(function(n){return[2,e.init.call(this).then((function(){return t.oAuthService.tryLogin()})).then((function(){return t.oAuthService.hasValidAccessToken()||!t.oAuthService.getRefreshToken()?Promise.resolve():t.oAuthService.refreshToken()})).then((function(){return t.oAuthService.setupAutomaticSilentRefresh({},"access_token")}))]}))}))},e.prototype.login=function(){this.oAuthService.initCodeFlow()},e.prototype.checkIfInternalAuth=function(){return this.oAuthService.initCodeFlow(),!1},e.prototype.logout=function(){return this.oAuthService.logOut(),o.of(null)},e.prototype.destroy=function(){},e}(ot),at=function(e){function r(){var t=e.apply(this,B(arguments))||this;return t.isInternalAuth=!0,t}return L(r,e),r.prototype.login=function(){this.injector.get(n.Router).navigateByUrl("/account/login")},r.prototype.checkIfInternalAuth=function(){return!0},r.prototype.logout=function(){var e=this,n=this.injector.get(nt),r=this.store.selectSnapshot(t.ɵbo.getDeep("environment.oAuthConfig.issuer"));return n.request({method:"GET",url:"/api/account/logout"},null,r).pipe(i.tap((function(){return e.oAuthService.logOut()})),i.switchMap((function(){return e.store.dispatch(new S)})))},r.prototype.destroy=function(){},r}(ot),ut={Code:function(t){return new it(t)},Password:function(t){return new at(t)}};function st(t){void 0===t&&(t=rt);["access_token","id_token","refresh_token","nonce","PKCE_verifier","expires_at","id_token_claims_obj","id_token_expires_at","id_token_stored_at","access_token_stored_at","granted_scopes","session_state"].forEach((function(e){return t.removeItem(e)}))}var ct=function(){function e(e,n,r,o,i,a){var u=this;this.actions=e,this.injector=n,this.rest=r,this.oAuthService=o,this.store=i,this.options=a,this.setStrategy=function(){var e=u.store.selectSnapshot(t.ɵbo.getDeep("environment.oAuthConfig.responseType"))||"password";u.flow!==e&&(u.strategy&&u.strategy.destroy(),u.flow=e,u.strategy="code"===u.flow?ut.Code(u.injector):ut.Password(u.injector))},this.setStrategy(),this.listenToSetEnvironment()}return Object.defineProperty(e.prototype,"isInternalAuth",{get:function(){return this.strategy.isInternalAuth},enumerable:!1,configurable:!0}),e.prototype.listenToSetEnvironment=function(){this.actions.pipe(r.ofActionSuccessful(C)).subscribe(this.setStrategy)},e.prototype.login=function(e,n){var r=this,u=this.store.selectSnapshot(t.ɵbi.getTenant);return o.from(this.oAuthService.fetchTokenUsingPasswordFlow(e,n,new a.HttpHeaders(Object.assign({},u&&u.id&&{__tenant:u.id})))).pipe(i.switchMap((function(){return r.store.dispatch(new S)})),i.tap((function(){var t=g.default((function(){return window.history.state.redirectUrl}))||(r.options||{}).redirectUrl||"/";r.store.dispatch(new p.Navigate([t]))})),i.take(1))},e.prototype.init=function(){return M(this,void 0,void 0,(function(){return z(this,(function(t){switch(t.label){case 0:return[4,this.strategy.init()];case 1:return[2,t.sent()]}}))}))},e.prototype.logout=function(){return this.strategy.logout()},e.prototype.initLogin=function(){this.strategy.login()},e}();function pt(t,e){return Q(t)&&Q(e)?lt(t,e):Y(t)&&Y(e)?{}:Z(e)?e:t}function lt(t,e){if(Y(t)||Y(e)||J(t)||J(e)||!K(t)||!K(e))return Z(e)?e:t;var n=Object.keys(t),r=Object.keys(e);return B(new Set(n.concat(r))).reduce((function(n,r){return n[r]=lt(t[r],e[r]),n}),{})}function ft(t,e){var n=e.remoteEnv,o=n||{},u=o.headers,s=void 0===u?{}:u,c=o.method,p=void 0===c?"GET":c,l=o.url;if(!l)return Promise.resolve();var f=t.get(a.HttpClient),d=t.get(r.Store);return f.request(p,l,{headers:s}).pipe(i.catchError((function(t){return d.dispatch(new E(t))})),i.switchMap((function(t){return d.dispatch(function(t,e,n){switch(n.mergeStrategy){case"deepmerge":return new C(pt(t,e));case"overwrite":case null:case void 0:return new C(e);default:return new C(n.mergeStrategy(t,e))}}(e,t,n))}))).toPromise()}ct.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new ct(e.ɵɵinject(r.Actions),e.ɵɵinject(e.INJECTOR),e.ɵɵinject(nt),e.ɵɵinject(s.OAuthService),e.ɵɵinject(r.Store),e.ɵɵinject("ACCOUNT_OPTIONS",8))},token:ct,providedIn:"root"}),ct.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],ct.ctorParameters=function(){return[{type:r.Actions},{type:e.Injector},{type:nt},{type:s.OAuthService},{type:r.Store},{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:["ACCOUNT_OPTIONS"]}]}]};var dt=function(){function t(t,e){this.restService=t,this.store=e,this._domainTenant=null,this.isTenantBoxVisible=!0,this.apiName="abp"}return Object.defineProperty(t.prototype,"domainTenant",{get:function(){return this._domainTenant},set:function(t){this._domainTenant=t,this.store.dispatch(new T(t))},enumerable:!1,configurable:!0}),t.prototype.findTenantByName=function(t,e){return this.restService.request({url:"/api/abp/multi-tenancy/tenants/by-name/"+t,method:"GET",headers:e},{apiName:this.apiName})},t.prototype.findTenantById=function(t,e){return this.restService.request({url:"/api/abp/multi-tenancy/tenants/by-id/"+t,method:"GET",headers:e},{apiName:this.apiName})},t}();dt.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new dt(e.ɵɵinject(nt),e.ɵɵinject(r.Store))},token:dt,providedIn:"root"}),dt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],dt.ctorParameters=function(){return[{type:nt},{type:r.Store}]};var ht="{0}";function yt(e){return M(this,void 0,void 0,(function(){var n,o,a,u,s;return z(this,(function(c){return n=e.get(r.Store),o=e.get(dt),a=n.selectSnapshot(t.ɵbo.getOne("environment")),u=a.application.baseUrl,(s=function(t){var e;"/"!==t.charAt(t.length-1)&&(t+="/");var n=G(t),r=ht.replace(/[}{]/g,"");return null===(e=n(window.location.href)[r])||void 0===e?void 0:e[0]}(void 0===u?"":u))?(o.isTenantBoxVisible=!1,[2,gt(n,s).pipe(i.switchMap((function(){return o.findTenantByName(s,{__tenant:""})})),i.tap((function(t){o.domainTenant=t.success?{id:t.tenantId,name:t.name}:null}))).toPromise()]):[2,Promise.resolve()]}))}))}function gt(e,n){var r=v.default(e.selectSnapshot(t.ɵbo.getOne("environment")));return r.application.baseUrl&&(r.application.baseUrl=r.application.baseUrl.replace(ht,n)),r.oAuthConfig.issuer=r.oAuthConfig.issuer.replace(ht,n),Object.keys(r.apis).forEach((function(t){Object.keys(r.apis[t]).forEach((function(e){r.apis[t][e]=r.apis[t][e].replace(ht,n)}))})),e.dispatch(new C(r))}function vt(t){var e=this;return function(){return M(e,void 0,void 0,(function(){var e,n;return z(this,(function(o){switch(o.label){case 0:return e=t.get(r.Store),n=t.get(tt),[4,ft(t,n.environment)];case 1:return o.sent(),[4,yt(t)];case 2:return o.sent(),[4,t.get(ct).init()];case 3:return o.sent(),n.skipGetAppConfiguration?[2]:[2,e.dispatch(new S).pipe(i.tap((function(n){return mt(e,t)}))).toPromise()]}}))}))}}function mt(e,n){n.get(s.OAuthService).hasValidAccessToken()&&!e.selectSnapshot(t.ɵbo.getDeep("currentUser.id"))&&st()}function bt(t){return function(){var e=t.get(r.Store),n=t.get(tt),o=e.selectSnapshot((function(t){return t.SessionState.language}))||"en";return new Promise((function(t,e){St(o,n.cultureNameLocaleFileMap).then((function(){return t("resolved")}),e)}))}}function St(t,e){return import("@angular/common/locales/"+(e[t]||t)+".js").then((function(t){c.registerLocaleData(t.default)}))}function Ct(t){return function(e,n,r){if("_"===e)return n;var o=t.values[e];return o&&o[n]||r}}function Ot(t){var e=jt(t);return function(t,n,r){return e(t,n).localized||r}}function jt(t){var e=Ct(t);return function(n,r){for(var o=(n=n.concat(t.defaultResourceName).filter(Boolean)).length,i=r.length,a=0;a<o;a++)for(var u=n[a],s=0;s<i;s++){var c=r[s],p=e(u,c,null);if(p)return{resourceName:u,key:c,localized:p}}return{resourceName:void 0,key:void 0,localized:void 0}}}var At=function(){function e(t,e,n,r,o){if(this.actions=t,this.store=e,this.injector=n,this.ngZone=r,o)throw new Error("LocalizationService should have only one instance.");this.listenToSetLanguage()}return Object.defineProperty(e.prototype,"currentLang",{get:function(){return this.store.selectSnapshot((function(t){return t.SessionState.language}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageChange",{get:function(){return this.actions.pipe(r.ofActionSuccessful(P),i.filter((function(t){return!1!==t.dispatchAppConfiguration})))},enumerable:!1,configurable:!0}),e.prototype.listenToSetLanguage=function(){var t=this;this.languageChange.subscribe((function(e){var n=e.payload;return t.registerLocale(n)}))},e.prototype.registerLocale=function(t){var e=this,r=this.injector.get(n.Router),i=this.injector.get(tt).cultureNameLocaleFileMap,a=r.routeReuseStrategy.shouldReuseRoute;return r.routeReuseStrategy.shouldReuseRoute=function(){return!1},r.navigated=!1,St(t,i).then((function(){e.ngZone.run((function(){return M(e,void 0,void 0,(function(){return z(this,(function(t){switch(t.label){case 0:return[4,r.navigateByUrl(r.url).catch(o.noop)];case 1:return t.sent(),r.routeReuseStrategy.shouldReuseRoute=a,[2]}}))}))}))}))},e.prototype.get=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return this.store.select(t.ɵbo.getLocalization.apply(t.ɵbo,B([e],n)))},e.prototype.getResource=function(e){return this.store.select(t.ɵbo.getLocalizationResource(e))},e.prototype.instant=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return this.store.selectSnapshot(t.ɵbo.getLocalization.apply(t.ɵbo,B([e],n)))},e.prototype.localize=function(e,n,r){return this.store.select(t.ɵbo.getOne("localization")).pipe(i.map(Ct),i.map((function(t){return t(e,n,r)})))},e.prototype.localizeSync=function(e,n,r){return Ct(this.store.selectSnapshot(t.ɵbo.getOne("localization")))(e,n,r)},e.prototype.localizeWithFallback=function(e,n,r){return this.store.select(t.ɵbo.getOne("localization")).pipe(i.map(Ot),i.map((function(t){return t(e,n,r)})))},e.prototype.localizeWithFallbackSync=function(e,n,r){return Ot(this.store.selectSnapshot(t.ɵbo.getOne("localization")))(e,n,r)},e}();At.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new At(e.ɵɵinject(r.Actions),e.ɵɵinject(r.Store),e.ɵɵinject(e.INJECTOR),e.ɵɵinject(e.NgZone),e.ɵɵinject(At,12))},token:At,providedIn:"root"}),At.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],At.ctorParameters=function(){return[{type:r.Actions},{type:r.Store},{type:e.Injector},{type:e.NgZone},{type:At,decorators:[{type:e.Optional},{type:e.SkipSelf}]}]};var It=function(){function t(t){var e=this;this.initialState=t,this.state$=new o.BehaviorSubject(this.initialState),this.update$=new o.Subject,this.sliceState=function(t,n){return void 0===n&&(n=m.default),e.state$.pipe(i.map(t),i.distinctUntilChanged(n))},this.sliceUpdate=function(t,n){return void 0===n&&(n=function(t){return void 0!==t}),e.update$.pipe(i.map(t),i.filter(n))}}return Object.defineProperty(t.prototype,"state",{get:function(){return this.state$.value},enumerable:!1,configurable:!0}),t.prototype.patch=function(t){this.state$.next(pt(this.state,t)),this.update$.next(t)},t.prototype.reset=function(){this.patch(this.initialState)},t}();function Rt(t,e){var n=t.find((function(t){return t.path===e}));return n||"/"===e?n:Rt(t,e.split("/").slice(0,-1).join("/"))}function wt(t,e){void 0===e&&(e=t.url);return"/"+(t.parseUrl(e).root.children[n.PRIMARY_OUTLET]||{segments:[]}).segments.map((function(t){return t.path})).join("/")}function Et(t,e){var n=this,r=t.routeReuseStrategy.shouldReuseRoute,o=function(e){t.routeReuseStrategy.shouldReuseRoute=e};o((function(){return!1})),t.navigated=!1,e.run((function(){return M(n,void 0,void 0,(function(){return z(this,(function(e){switch(e.label){case 0:return[4,t.navigateByUrl(t.url).catch(H)];case 1:return e.sent(),o(r),[2]}}))}))}))}var Pt=function(){function t(t,e){this.ngZone=t,this.router=e,this.store=new It([])}return Object.defineProperty(t.prototype,"replaceableComponents$",{get:function(){return this.store.sliceState((function(t){return t}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"replaceableComponents",{get:function(){return this.store.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onUpdate$",{get:function(){return this.store.sliceUpdate((function(t){return t}))},enumerable:!1,configurable:!0}),t.prototype.add=function(t,e){var n=B(this.store.state),r=n.findIndex((function(e){return e.key===t.key}));r>-1?n[r]=t:n.push(t),this.store.patch(n),e&&Et(this.router,this.ngZone)},t.prototype.get=function(t){return this.replaceableComponents.find((function(e){return e.key===t}))},t.prototype.get$=function(t){return this.replaceableComponents$.pipe(i.map((function(e){return e.find((function(e){return e.key===t}))})))},t}();function Tt(t){return function(e){return t.push(e),t}}Pt.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new Pt(e.ɵɵinject(e.NgZone),e.ɵɵinject(n.Router))},token:Pt,providedIn:"root"}),Pt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],Pt.ctorParameters=function(){return[{type:e.NgZone},{type:n.Router}]};var _t=function(){function t(t){this.children=[],this.isLeaf=!0,Object.assign(this,t)}return t.create=function(e){return new t(e)},t}();function Dt(t,e,n,r){var o=xt(t,e,r),i=[];return t.forEach((function(t){var r=e(t),a=n(t),u=o.get(r);if(u)if(a){var s=o.get(a);if(!s)return;s.children.push(u),s.isLeaf=!1,u.parent=s}else i.push(u)})),i}function xt(t,e,n){var r=new Map;return t.forEach((function(t){return r.set(e(t),n(t))})),r}var Lt=function(){function t(){this._flat$=new o.BehaviorSubject([]),this._tree$=new o.BehaviorSubject([]),this._visible$=new o.BehaviorSubject([])}return Object.defineProperty(t.prototype,"flat",{get:function(){return this._flat$.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flat$",{get:function(){return this._flat$.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tree",{get:function(){return this._tree$.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tree$",{get:function(){return this._tree$.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible$.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible$",{get:function(){return this._visible$.asObservable()},enumerable:!1,configurable:!0}),t.prototype.createTree=function(t){var e=this;return Dt(t,(function(t){return t[e.id]}),(function(t){return t[e.parentId]}),(function(t){return _t.create(t)}))},t.prototype.filterWith=function(t){var e=this;return this._flat$.value.filter((function(n){return!t.has(n[e.id])}))},t.prototype.findItemsToRemove=function(t){var e=this;return this._flat$.value.reduce((function(t,n){if(!t.has(n[e.parentId]))return t;var r=new Set([n[e.id]]),o=e.findItemsToRemove(r);return new Set(B(t,o))}),t)},t.prototype.publish=function(t,e){return this._flat$.next(t),this._tree$.next(this.createTree(t)),this._visible$.next(this.createTree(e)),t},t.prototype.add=function(t){var e=this,n=new Map;t.forEach((function(t){return n.set(t[e.id],t)}));var r=this.filterWith(n);n.forEach(Tt(r)),r.sort(this.sort);var o=r.filter((function(t){return!e.hide(t)}));return this.publish(r,o)},t.prototype.find=function(t,e){var n=this;return void 0===e&&(e=this.tree),e.reduce((function(e,r){return e||(t(r)?r:n.find(t,r.children))}),null)},t.prototype.patch=function(t,e){var n=this,r=this._flat$.value,o=r.findIndex((function(e){return e[n.id]===t}));if(o<0)return!1;r[o]=Object.assign(Object.assign({},r[o]),e),r.sort(this.sort);var i=r.filter((function(t){return!n.hide(t)}));return this.publish(r,i)},t.prototype.refresh=function(){return this.add([])},t.prototype.remove=function(t){var e=this,n=new Set;t.forEach((function(t){return n.add(t)}));var r=this.findItemsToRemove(n),o=this.filterWith(r),i=o.filter((function(t){return!e.hide(t)}));return this.publish(o,i)},t.prototype.search=function(t,e){var n=this;void 0===e&&(e=this.tree);var r=Object.keys(t);return e.reduce((function(e,o){return e||(r.every((function(e){return o[e]===t[e]}))?o:n.search(t,o.children))}),null)},t}(),kt=function(e){function n(t,n){var o=e.call(this)||this;return o.actions=t,o.store=n,o.id="name",o.parentId="parentName",o.hide=function(t){return t.invisible||!o.isGranted(t)},o.sort=function(t,e){return Number.isInteger(t.order)?Number.isInteger(e.order)?t.order-e.order:-1:1},o.subscription=o.actions.pipe(r.ofActionSuccessful(S)).subscribe((function(){return o.refresh()})),o}return L(n,e),n.prototype.isGranted=function(e){var n=e.requiredPolicy;return this.store.selectSnapshot(t.ɵbo.getGrantedPolicy(n))},n.prototype.hasChildren=function(t){var e,n=this,r=this.find((function(e){return e[n.id]===t}));return Boolean(null===(e=null==r?void 0:r.children)||void 0===e?void 0:e.length)},n.prototype.hasInvisibleChild=function(t){var e,n=this,r=this.find((function(e){return e[n.id]===t}));return null===(e=null==r?void 0:r.children)||void 0===e?void 0:e.some((function(t){return t.invisible}))},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n}(Lt);kt.decorators=[{type:e.Injectable}],kt.ctorParameters=function(){return[{type:r.Actions},{type:r.Store}]};var Nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return L(e,t),e}(kt);Nt.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new Nt(e.ɵɵinject(r.Actions),e.ɵɵinject(r.Store))},token:Nt,providedIn:"root"}),Nt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var Ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return L(e,t),e}(kt);Ft.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new Ft(e.ɵɵinject(r.Actions),e.ɵɵinject(r.Store))},token:Ft,providedIn:"root"}),Ft.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var Mt=function(){function t(){this.subscription=new o.Subscription}return Object.defineProperty(t.prototype,"isClosed",{get:function(){return this.subscription.closed},enumerable:!1,configurable:!0}),t.prototype.addOne=function(t,e,n){var r=t.subscribe(e,n);return this.subscription.add(r),r},t.prototype.closeAll=function(){this.subscription.unsubscribe()},t.prototype.closeOne=function(t){this.removeOne(t),t.unsubscribe()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.removeOne=function(t){t&&this.subscription.remove(t)},t.prototype.reset=function(){this.subscription.unsubscribe(),this.subscription=new o.Subscription},t}();Mt.decorators=[{type:e.Injectable}];var zt=function(){function t(t,e,r,o,i){var a=this;if(this.localizationService=e,this.replaceableComponents=r,this.subscription=o,this.layouts=new Map([["application","Theme.ApplicationLayoutComponent"],["account","Theme.AccountLayoutComponent"],["empty","Theme.EmptyLayoutComponent"]]),this.isLayoutVisible=!0,!i){var u=t.get(n.ActivatedRoute),s=t.get(n.Router),c=t.get(Nt);this.subscription.addOne(s.events,(function(t){var e;if(t instanceof n.NavigationEnd){var r=(u.snapshot.data||{}).layout;if(!r){var o=Rt(c,wt(s));for(o={parent:o};o.parent;)if((o=o.parent).layout){r=o.layout;break}}r||(r="empty");var i=a.layouts.get(r);a.layout=null===(e=a.getComponent(i))||void 0===e?void 0:e.component}})),this.listenToLanguageChange()}}return t.prototype.listenToLanguageChange=function(){var t=this;this.subscription.addOne(this.localizationService.languageChange,(function(){t.isLayoutVisible=!1,setTimeout((function(){return t.isLayoutVisible=!0}),0)}))},t.prototype.getComponent=function(t){return this.replaceableComponents.get(t)},t}();zt.decorators=[{type:e.Component,args:[{selector:"abp-dynamic-layout",template:'\n    <ng-container *ngTemplateOutlet="layout ? componentOutlet : routerOutlet"></ng-container>\n    <ng-template #routerOutlet><router-outlet></router-outlet></ng-template>\n    <ng-template #componentOutlet\n      ><ng-container *ngIf="isLayoutVisible" [ngComponentOutlet]="layout"></ng-container\n    ></ng-template>\n  ',providers:[Mt]}]}],zt.ctorParameters=function(){return[{type:e.Injector},{type:At},{type:Pt},{type:Mt},{type:zt,decorators:[{type:e.Optional},{type:e.SkipSelf}]}]};var Ut=function(){function t(t,e,n){this.route=t,this.replaceableComponents=e,this.subscription=n}return t.prototype.ngOnInit=function(){var t=this;this.defaultComponent=this.route.snapshot.data.replaceableComponent.defaultComponent,this.componentKey=this.route.snapshot.data.replaceableComponent.key;var e=this.replaceableComponents.get$(this.componentKey).pipe(i.distinctUntilChanged());this.subscription.addOne(e,(function(e){void 0===e&&(e={}),t.externalComponent=e.component}))},t}();Ut.decorators=[{type:e.Component,args:[{selector:"abp-replaceable-route-container",template:'\n    <ng-container *ngComponentOutlet="externalComponent || defaultComponent"></ng-container>\n  ',providers:[Mt]}]}],Ut.ctorParameters=function(){return[{type:n.ActivatedRoute},{type:Pt},{type:Mt}]};var Bt=function(){};Bt.decorators=[{type:e.Component,args:[{selector:"abp-router-outlet",template:"\n    <router-outlet></router-outlet>\n  "}]}];var Vt=function(){function t(t){this.elRef=t,this.delay=0}return t.prototype.ngAfterViewInit=function(){var t=this;setTimeout((function(){return t.elRef.nativeElement.focus()}),this.delay)},t}();Vt.decorators=[{type:e.Directive,args:[{selector:"[autofocus]"}]}],Vt.ctorParameters=function(){return[{type:e.ElementRef}]},Vt.propDecorators={delay:[{type:e.Input,args:["autofocus"]}]};var $t=function(){function t(t,n){this.el=t,this.subscription=n,this.debounce=300,this.debounceEvent=new e.EventEmitter}return t.prototype.ngOnInit=function(){var t=this,e=o.fromEvent(this.el.nativeElement,"input").pipe(i.debounceTime(this.debounce));this.subscription.addOne(e,(function(e){t.debounceEvent.emit(e)}))},t}();$t.decorators=[{type:e.Directive,args:[{selector:"[input.debounce]",providers:[Mt]}]}],$t.ctorParameters=function(){return[{type:e.ElementRef},{type:Mt}]},$t.propDecorators={debounce:[{type:e.Input}],debounceEvent:[{type:e.Output,args:["input.debounce"]}]};var Gt=function(){function t(t,e){this.cdRef=t,this.elRef=e,this.enabled=!0}return Object.defineProperty(t.prototype,"inlineClass",{get:function(){return this.enabled&&this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"class",{get:function(){return this.enabled&&!this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this.enabled&&this.width?this.width||"170px":void 0},enumerable:!1,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.title=this.title||this.elRef.nativeElement.innerText,this.cdRef.detectChanges()},t}();Gt.decorators=[{type:e.Directive,args:[{selector:"[abpEllipsis]"}]}],Gt.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef}]},Gt.propDecorators={width:[{type:e.Input,args:["abpEllipsis"]}],title:[{type:e.HostBinding,args:["title"]},{type:e.Input}],enabled:[{type:e.Input,args:["abpEllipsisEnabled"]}],inlineClass:[{type:e.HostBinding,args:["class.abp-ellipsis-inline"]}],class:[{type:e.HostBinding,args:["class.abp-ellipsis"]}],maxWidth:[{type:e.HostBinding,args:["style.max-width"]}]};var qt=function(t,e,n,r){this.$implicit=t,this.index=e,this.count=n,this.list=r},Ht=function(t,e){this.record=t,this.view=e},Wt=function(){function t(t,e,n){this.tempRef=t,this.vcRef=e,this.differs=n}return Object.defineProperty(t.prototype,"compareFn",{get:function(){return this.compareBy||m.default},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackByFn",{get:function(){return this.trackBy||function(t,e){return e.id||t}},enumerable:!1,configurable:!0}),t.prototype.iterateOverAppliedOperations=function(t){var e=this,n=[];t.forEachOperation((function(t,r,o){if(null==t.previousIndex){var i=e.vcRef.createEmbeddedView(e.tempRef,new qt(null,-1,-1,e.items),o);n.push(new Ht(t,i))}else if(null==o)e.vcRef.remove(r);else{i=e.vcRef.get(r);e.vcRef.move(i,o),n.push(new Ht(t,i))}}));for(var r=0,o=n.length;r<o;r++)n[r].view.context.$implicit=n[r].record.item},t.prototype.iterateOverAttachedViews=function(t){for(var e=this,n=0,r=this.vcRef.length;n<r;n++){var o=this.vcRef.get(n);o.context.index=n,o.context.count=r,o.context.list=this.items}t.forEachIdentityChange((function(t){e.vcRef.get(t.currentIndex).context.$implicit=t.item}))},t.prototype.projectItems=function(t){if(!t.length&&this.emptyRef)return this.vcRef.clear(),this.vcRef.createEmbeddedView(this.emptyRef).rootNodes,this.isShowEmptyRef=!0,void(this.differ=null);if(this.emptyRef&&this.isShowEmptyRef&&(this.vcRef.clear(),this.isShowEmptyRef=!1),!this.differ&&t&&(this.differ=this.differs.find(t).create(this.trackByFn)),this.differ){var e=this.differ.diff(t);e&&(this.iterateOverAppliedOperations(e),this.iterateOverAttachedViews(e))}},t.prototype.sortItems=function(t){var e=this;this.orderBy?t.sort((function(t,n){return t[e.orderBy]>n[e.orderBy]?1:t[e.orderBy]<n[e.orderBy]?-1:0})):t.sort()},t.prototype.ngOnChanges=function(){var t=this,e=v.default(this.items);if(Array.isArray(e)){var n=this.compareFn;switch(void 0!==this.filterBy&&void 0!==this.filterVal&&""!==this.filterVal&&(e=e.filter((function(e){return n(e[t.filterBy],t.filterVal)}))),this.orderDir){case"ASC":this.sortItems(e),this.projectItems(e);break;case"DESC":this.sortItems(e),e.reverse(),this.projectItems(e);break;default:this.projectItems(e)}}},t}();Wt.decorators=[{type:e.Directive,args:[{selector:"[abpFor]"}]}],Wt.ctorParameters=function(){return[{type:e.TemplateRef},{type:e.ViewContainerRef},{type:e.IterableDiffers}]},Wt.propDecorators={items:[{type:e.Input,args:["abpForOf"]}],orderBy:[{type:e.Input,args:["abpForOrderBy"]}],orderDir:[{type:e.Input,args:["abpForOrderDir"]}],filterBy:[{type:e.Input,args:["abpForFilterBy"]}],filterVal:[{type:e.Input,args:["abpForFilterVal"]}],trackBy:[{type:e.Input,args:["abpForTrackBy"]}],compareBy:[{type:e.Input,args:["abpForCompareBy"]}],emptyRef:[{type:e.Input,args:["abpForEmptyRef"]}]};var Yt=function(){function t(t,n,r,o){this.formGroupDirective=t,this.host=n,this.cdRef=r,this.subscription=o,this.debounce=200,this.ngSubmit=new e.EventEmitter,this.executedNgSubmit=!1}return t.prototype.ngOnInit=function(){var t=this;this.subscription.addOne(this.formGroupDirective.ngSubmit,(function(){t.markAsDirty(),t.executedNgSubmit=!0}));var e=o.fromEvent(this.host.nativeElement,"keyup").pipe(i.debounceTime(this.debounce),i.filter((function(t){return t&&"Enter"===t.key})));this.subscription.addOne(e,(function(){t.executedNgSubmit||t.host.nativeElement.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0})),t.executedNgSubmit=!1}))},t.prototype.markAsDirty=function(){var t=this.formGroupDirective.form;Zt(t.controls),t.markAsDirty(),this.cdRef.detectChanges()},t}();function Zt(t){Array.isArray(t)?t.forEach((function(t){Zt(t.controls)})):Object.keys(t).forEach((function(e){t[e].markAsDirty(),t[e].updateValueAndValidity()}))}Yt.decorators=[{type:e.Directive,args:[{selector:"form[ngSubmit][formGroup]",providers:[Mt]}]}],Yt.ctorParameters=function(){return[{type:d.FormGroupDirective,decorators:[{type:e.Self}]},{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:Mt}]},Yt.propDecorators={debounce:[{type:e.Input}],notValidateOnSubmit:[{type:e.Input}],ngSubmit:[{type:e.Output}]};var Kt,Jt=function(){function t(t){this.elRef=t,this.init=new e.EventEmitter}return t.prototype.ngAfterViewInit=function(){this.init.emit(this.elRef)},t}();function Qt(){e.isDevMode()&&console.warn("\n     ReplacableComponentsState has been deprecated. Use ReplaceableComponentsService instead.\n     See the doc https://docs.abp.io/en/abp/latest/UI/Angular/Component-Replacement\n     ")}Jt.decorators=[{type:e.Directive,args:[{selector:"[abpInit]"}]}],Jt.ctorParameters=function(){return[{type:e.ElementRef}]},Jt.propDecorators={init:[{type:e.Output,args:["abpInit"]}]},t.ɵv=Kt=function(){function t(t){this.service=t}return t.getAll=function(t){var e=t.replaceableComponents;return Qt(),e||[]},t.getComponent=function(t){return r.createSelector([Kt],(function(e){return Qt(),g.default((function(){return e.replaceableComponents.find((function(e){return e.key===t}))}))}))},t.prototype.replaceableComponentsAction=function(t,e){var n=t.getState,r=t.patchState,o=e.payload,i=e.reload;Qt();var a=n().replaceableComponents,u=g.default((function(){return a.findIndex((function(t){return t.key===o.key}))}),-1);u>-1?a[u]=o:a=B(a,[o]),r({replaceableComponents:a}),this.service.add(o,i)},t}(),t.ɵv.decorators=[{type:e.Injectable}],t.ɵv.ctorParameters=function(){return[{type:Pt}]},N([r.Action(w),F("design:type",Function),F("design:paramtypes",[Object,w]),F("design:returntype",void 0)],t.ɵv.prototype,"replaceableComponentsAction",null),N([r.Selector(),F("design:type",Function),F("design:paramtypes",[Object]),F("design:returntype",Array)],t.ɵv,"getAll",null),t.ɵv=Kt=N([r.State({name:"ReplaceableComponentsState",defaults:{replaceableComponents:[]}}),F("design:paramtypes",[Pt])],t.ɵv);var Xt=function(){function t(t){this.rest=t,this.apiName="AbpIdentity"}return t.prototype.get=function(){return this.rest.request({method:"GET",url:"/api/identity/my-profile"},{apiName:this.apiName})},t.prototype.update=function(t){var e={method:"PUT",url:"/api/identity/my-profile",body:t};return this.rest.request(e,{apiName:this.apiName})},t.prototype.changePassword=function(t,e){void 0===e&&(e=!1);var n={method:"POST",url:"/api/identity/my-profile/change-password",body:t};return this.rest.request(n,{skipHandleError:e,apiName:this.apiName})},t}();Xt.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new Xt(e.ɵɵinject(nt))},token:Xt,providedIn:"root"}),Xt.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],Xt.ctorParameters=function(){return[{type:nt}]},t.ɵy=function(){function t(t){this.profileService=t}return t.getProfile=function(t){return t.profile},t.prototype.getProfile=function(t){var e=t.patchState;return this.profileService.get().pipe(i.tap((function(t){return e({profile:t})})))},t.prototype.updateProfile=function(t,e){var n=t.patchState,r=e.payload;return this.profileService.update(r).pipe(i.tap((function(t){return n({profile:t})})))},t.prototype.changePassword=function(t,e){var n=e.payload;return this.profileService.changePassword(n,!0)},t}(),t.ɵy.decorators=[{type:e.Injectable}],t.ɵy.ctorParameters=function(){return[{type:Xt}]},N([r.Action(A),F("design:type",Function),F("design:paramtypes",[Object]),F("design:returntype",void 0)],t.ɵy.prototype,"getProfile",null),N([r.Action(I),F("design:type",Function),F("design:paramtypes",[Object,I]),F("design:returntype",void 0)],t.ɵy.prototype,"updateProfile",null),N([r.Action(R),F("design:type",Function),F("design:paramtypes",[Object,R]),F("design:returntype",void 0)],t.ɵy.prototype,"changePassword",null),N([r.Selector(),F("design:type",Function),F("design:paramtypes",[Object]),F("design:returntype",Object)],t.ɵy,"getProfile",null),t.ɵy=N([r.State({name:"ProfileState",defaults:{}}),F("design:paramtypes",[Xt])],t.ɵy);var te=function(){function e(t,e,n,r,o){this.elRef=t,this.renderer=e,this.store=n,this.templateRef=r,this.vcRef=o}return e.prototype.check=function(){var e=this;this.subscription&&this.subscription.unsubscribe(),this.subscription=this.store.select(t.ɵbo.getGrantedPolicy(this.condition)).subscribe((function(t){e.templateRef&&t?(e.vcRef.clear(),e.vcRef.createEmbeddedView(e.templateRef)):e.templateRef&&!t?e.vcRef.clear():t||e.templateRef||e.renderer.removeChild(e.elRef.nativeElement.parentElement,e.elRef.nativeElement)}))},e.prototype.ngOnInit=function(){this.templateRef&&!this.condition&&this.vcRef.createEmbeddedView(this.templateRef)},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.ngOnChanges=function(t){(t.condition||{currentValue:null}).currentValue&&this.check()},e}();te.decorators=[{type:e.Directive,args:[{selector:"[abpPermission]"}]}],te.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2},{type:r.Store},{type:e.TemplateRef,decorators:[{type:e.Optional}]},{type:e.ViewContainerRef}]},te.propDecorators={condition:[{type:e.Input,args:["abpPermission"]}]};var ee=function(){function t(t,e,n,r,o,i){var a=this;this.injector=t,this.templateRef=e,this.cfRes=n,this.vcRef=r,this.replaceableComponents=o,this.subscription=i,this.providedData={inputs:{},outputs:{}},this.context={},this.defaultComponentSubscriptions={},this.initialized=!1,this.context={initTemplate:function(t){a.resetDefaultComponent(),a.defaultComponentRef=t,a.setDefaultComponentInputs()}}}return t.prototype.ngOnInit=function(){var t=this,n=this.replaceableComponents.get$(this.data.componentKey).pipe(i.filter((function(e){return void 0===e&&(e={}),!t.initialized||!m.default(e.component,t.externalComponent)})));this.subscription.addOne(n,(function(n){if(void 0===n&&(n={}),t.vcRef.clear(),t.externalComponent=n.component,t.defaultComponentRef&&t.resetDefaultComponent(),n.component){t.setProvidedData();var r=e.Injector.create({providers:[{provide:"REPLACEABLE_DATA",useValue:t.providedData}],parent:t.injector});t.vcRef.createComponent(t.cfRes.resolveComponentFactory(n.component),0,r)}else t.vcRef.createEmbeddedView(t.templateRef,t.context);t.initialized=!0}))},t.prototype.ngOnChanges=function(t){g.default((function(){return t.data.currentValue.inputs}))&&this.defaultComponentRef&&this.setDefaultComponentInputs()},t.prototype.setDefaultComponentInputs=function(){var t=this;if(this.defaultComponentRef&&(this.data.inputs||this.data.outputs)){if(this.data.inputs)for(var e in this.data.inputs)this.data.inputs.hasOwnProperty(e)&&(m.default(this.defaultComponentRef[e],this.data.inputs[e].value)||(this.defaultComponentRef[e]=this.data.inputs[e].value));if(this.data.outputs){var n=function(e){r.data.outputs.hasOwnProperty(e)&&(r.defaultComponentSubscriptions[e]||(r.defaultComponentSubscriptions[e]=r.defaultComponentRef[e].subscribe((function(n){t.data.outputs[e](n)}))))},r=this;for(var e in this.data.outputs)n(e)}}},t.prototype.setProvidedData=function(){var t=this;this.providedData=Object.assign(Object.assign({},this.data),{inputs:{}}),this.data.inputs&&Object.defineProperties(this.providedData.inputs,Object.assign({},Object.keys(this.data.inputs).reduce((function(e,n){var r;return Object.assign(Object.assign({},e),((r={})[n]=Object.assign({enumerable:!0,configurable:!0,get:function(){return t.data.inputs[n].value}},t.data.inputs[n].twoWay&&{set:function(e){t.data.inputs[n].value=e,t.data.outputs[n+"Change"](e)}}),r))}),{})))},t.prototype.resetDefaultComponent=function(){var t=this;Object.keys(this.defaultComponentSubscriptions).forEach((function(e){t.defaultComponentSubscriptions[e].unsubscribe()})),this.defaultComponentSubscriptions={},this.defaultComponentRef=null},t}();ee.decorators=[{type:e.Directive,args:[{selector:"[abpReplaceableTemplate]",providers:[Mt]}]}],ee.ctorParameters=function(){return[{type:e.Injector},{type:e.TemplateRef},{type:e.ComponentFactoryResolver},{type:e.ViewContainerRef},{type:Pt},{type:Mt}]},ee.propDecorators={data:[{type:e.Input,args:["abpReplaceableTemplate"]}]};var ne=function(){function t(t,n){this.el=t,this.subscription=n,this.stopPropEvent=new e.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;this.subscription.addOne(o.fromEvent(this.el.nativeElement,"click"),(function(e){e.stopPropagation(),t.stopPropEvent.emit(e)}))},t}();ne.decorators=[{type:e.Directive,args:[{selector:"[click.stop]",providers:[Mt]}]}],ne.ctorParameters=function(){return[{type:e.ElementRef},{type:Mt}]},ne.propDecorators={stopPropEvent:[{type:e.Output,args:["click.stop"]}]};var re=function(){function t(t,e){this.elRef=t,this.renderer=e,this.completed$=new o.Subject}return t.prototype.ngAfterViewInit=function(){var t,e=this;!this.focusedElement&&this.elRef&&(this.focusedElement=this.elRef.nativeElement),(t=new MutationObserver((function(t){t.forEach((function(t){t.target&&(g.default((function(){return Array.from(t.target.childNodes).filter((function(t){return t instanceof HTMLElement}))}),[]).length||e.removeFromDOM())}))}))).observe(this.focusedElement,{childList:!0}),setTimeout((function(){g.default((function(){return Array.from(e.focusedElement.childNodes).filter((function(t){return t instanceof HTMLElement}))}),[]).length||e.removeFromDOM()}),0),this.completed$.subscribe((function(){return t.disconnect()}))},t.prototype.disconnect=function(){this.completed$.next(),this.completed$.complete()},t.prototype.removeFromDOM=function(){this.elRef.nativeElement&&(this.renderer.removeChild(this.elRef.nativeElement.parentElement,this.elRef.nativeElement),this.disconnect())},t}();re.decorators=[{type:e.Directive,args:[{selector:"[abpVisibility]"}]}],re.ctorParameters=function(){return[{type:e.ElementRef,decorators:[{type:e.Optional}]},{type:e.Renderer2}]},re.propDecorators={focusedElement:[{type:e.Input,args:["abpVisibility"]}]};var oe=function(){function t(t,e,n){this.actions=t,this.oAuthService=e,this.options=n,this.listenToSetEnvironment()}return t.prototype.listenToSetEnvironment=function(){var t=this;this.actions.pipe(r.ofActionSuccessful(C)).pipe(i.map((function(t){return t.environment.oAuthConfig})),i.filter((function(e){return!m.default(e,t.options.environment.oAuthConfig)}))).subscribe((function(e){t.oAuthService.configure(e)}))},t}();oe.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new oe(e.ɵɵinject(r.Actions),e.ɵɵinject(s.OAuthService),e.ɵɵinject(tt))},token:oe,providedIn:"root"}),oe.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],oe.ctorParameters=function(){return[{type:r.Actions},{type:s.OAuthService},{type:void 0,decorators:[{type:e.Inject,args:[tt]}]}]};var ie=function(){function t(t,e){this.routes=t,this.router=e,this.addRoutes()}return t.prototype.addRoutes=function(){var t,e,n=this;null===(e=null===(t=this.router)||void 0===t?void 0:t.config)||void 0===e||e.forEach((function(t){var e=t.path,r=void 0===e?"":e,o=t.data;if(null==o?void 0:o.routes)if(Array.isArray(o.routes))n.routes.add(o.routes);else{var i=ae([Object.assign({path:r},o.routes)],{path:""});n.routes.add(i)}}))},t}();function ae(t,e){return t?t.reduce((function(t,n){var r=Object.assign(Object.assign({},n),{parentName:e.name,path:(e.path+"/"+n.path).replace(/\/\//g,"/")}),o=r.children,i=k(r,["children"]);return t.push.apply(t,B([i],ae(o,i))),t}),[]):[]}ie.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new ie(e.ɵɵinject(Nt),e.ɵɵinject(n.Router,8))},token:ie,providedIn:"root"}),ie.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],ie.ctorParameters=function(){return[{type:Nt},{type:n.Router,decorators:[{type:e.Optional}]}]};var ue=function(){function e(t,e){this.oAuthService=t,this.store=e}return e.prototype.intercept=function(t,e){var n=this;return this.store.dispatch(new O(t)),e.handle(t.clone({setHeaders:this.getAdditionalHeaders(t.headers)})).pipe(i.finalize((function(){return n.store.dispatch(new j(t))})))},e.prototype.getAdditionalHeaders=function(e){var n={},r=this.oAuthService.getAccessToken();!(null==e?void 0:e.has("Authorization"))&&r&&(n.Authorization="Bearer "+r);var o=this.store.selectSnapshot(t.ɵbi.getLanguage);!(null==e?void 0:e.has("Accept-Language"))&&o&&(n["Accept-Language"]=o);var i=this.store.selectSnapshot(t.ɵbi.getTenant);return!(null==e?void 0:e.has("__tenant"))&&i&&(n.__tenant=i.id),n},e}();ue.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new ue(e.ɵɵinject(s.OAuthService),e.ɵɵinject(r.Store))},token:ue,providedIn:"root"}),ue.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],ue.ctorParameters=function(){return[{type:s.OAuthService},{type:r.Store}]};var se=function(){function e(t){this.store=t}return e.prototype.transform=function(e){void 0===e&&(e="");for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return this.store.selectSnapshot(t.ɵbo.getLocalization.apply(t.ɵbo,B([e],n.reduce((function(t,e){return Array.isArray(e)?B(t,e):B(t,[e])}),[]))))},e}();se.decorators=[{type:e.Injectable},{type:e.Pipe,args:[{name:"abpLocalization"}]}],se.ctorParameters=function(){return[{type:r.Store}]};var ce=function(){function t(){}return t.prototype.transform=function(t){void 0===t&&(t="");for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return"string"==typeof t?t:t.defaultValue},t}();ce.decorators=[{type:e.Injectable},{type:e.Pipe,args:[{name:"abpLocalization"}]}];var pe=function(){};pe.decorators=[{type:e.NgModule,args:[{exports:[se],declarations:[se]}]}];var le=function(){function t(){}return t.prototype.transform=function(t,e,n){if(void 0===e&&(e="asc"),e=e&&e.toLowerCase(),!t||"asc"!==e&&"desc"!==e)return t;var r=[],o=[];n?(r=t.filter((function(t){return"number"==typeof t[n]})).sort((function(t,e){return t[n]-e[n]})),o=t.filter((function(t){return"string"==typeof t[n]})).sort((function(t,e){return t[n]<e[n]?-1:t[n]>e[n]?1:0}))):(r=t.filter((function(t){return"number"==typeof t})).sort(),o=t.filter((function(t){return"string"==typeof t})).sort());var i=B(r,o,t.filter((function(t){return"number"!=typeof(n?t[n]:t)&&"string"!=typeof(n?t[n]:t)})));return"asc"===e?i:i.reverse()},t}();le.decorators=[{type:e.Injectable},{type:e.Pipe,args:[{name:"abpSort"}]}];var fe=new e.InjectionToken("NGXS_CONFIG_PLUGIN_OPTIONS"),de=function(){function t(t){this.options=t,this.initialized=!1}return t.prototype.handle=function(t,e,n){var o=r.actionMatcher(e);return(o(r.InitState)||o(r.UpdateState))&&!this.initialized&&(t=r.setValue(t,"ConfigState",Object.assign(Object.assign({},t.ConfigState&&Object.assign({},t.ConfigState)),this.options)),this.initialized=!0),n(t,e)},t}();de.decorators=[{type:e.Injectable}],de.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[fe]}]}]};var he=function(t){function e(e){var n=t.call(this)||this;return n.localizationService=e,n}return L(e,t),e.prototype.toString=function(){var t=this.localizationService.currentLang;return X[t]||t},e.prototype.valueOf=function(){return this.toString()},e}(String),ye={provide:e.LOCALE_ID,useClass:he,deps:[At]};function ge(){return rt}Date.prototype.toLocalISOString=function(){var t=this.getTimezoneOffset();return new Date(this.getTime()-6e4*t).toISOString()};var ve=function(){};ve.decorators=[{type:e.NgModule,args:[{exports:[c.CommonModule,a.HttpClientModule,d.FormsModule,d.ReactiveFormsModule,n.RouterModule,b,Vt,zt,Gt,Wt,Yt,Jt,$t,te,Ut,ee,Bt,le,ne,re],imports:[s.OAuthModule,c.CommonModule,a.HttpClientModule,d.FormsModule,d.ReactiveFormsModule,n.RouterModule],declarations:[b,Vt,zt,Gt,Wt,Yt,Jt,$t,te,Ut,ee,Bt,le,ne,re],entryComponents:[Bt,zt,Ut]}]}];var me=function(){};me.decorators=[{type:e.NgModule,args:[{exports:[ve,pe],imports:[ve,pe,r.NgxsModule.forFeature([t.ɵv,t.ɵy,t.ɵbi,t.ɵbo]),p.NgxsRouterPluginModule.forRoot(),h.NgxsStoragePluginModule.forRoot(),s.OAuthModule.forRoot()]}]}];var be=function(){};be.decorators=[{type:e.NgModule,args:[{exports:[n.RouterModule,ve,ce],imports:[n.RouterModule.forRoot([]),ve],declarations:[ce]}]}];var Se=function(){function t(){}return t.forTest=function(t){var e=(void 0===t?{}:t).baseHref,n=void 0===e?"/":e;return{ngModule:be,providers:[{provide:c.APP_BASE_HREF,useValue:n},{provide:se,useClass:ce}]}},t.forRoot=function(t){var n;return void 0===t&&(t={}),{ngModule:me,providers:[ye,{provide:r.NGXS_PLUGINS,useClass:de,multi:!0},{provide:fe,useValue:{environment:t.environment}},{provide:"CORE_OPTIONS",useValue:t},{provide:tt,useFactory:et,deps:["CORE_OPTIONS"]},{provide:a.HTTP_INTERCEPTORS,useExisting:ue,multi:!0},{provide:e.APP_INITIALIZER,multi:!0,deps:[oe],useFactory:H},{provide:e.APP_INITIALIZER,multi:!0,deps:[e.Injector],useFactory:vt},{provide:e.APP_INITIALIZER,multi:!0,deps:[e.Injector],useFactory:bt},{provide:e.APP_INITIALIZER,multi:!0,deps:[At],useFactory:H},{provide:e.APP_INITIALIZER,multi:!0,deps:[ie],useFactory:H},{provide:s.OAuthStorage,useFactory:ge},{provide:h.NGXS_STORAGE_PLUGIN_OPTIONS,useValue:Object.assign(Object.assign({storage:0,serialize:JSON.stringify,deserialize:JSON.parse,beforeSerialize:Ce,afterDeserialize:Ce},t.ngxsStoragePluginOptions),{key:B((null===(n=t.ngxsStoragePluginOptions)||void 0===n?void 0:n.key)||[],["SessionState"])})}]}},t}();function Ce(t){return t}Se.decorators=[{type:e.NgModule,args:[{exports:[ve,pe],imports:[ve,pe],providers:[se]}]}];var Oe=function(){function t(t,e){this.oauthService=t,this.injector=e}return t.prototype.canActivate=function(t,e){var r=this.injector.get(n.Router),o=this.oauthService.hasValidAccessToken();return o||(r.navigate(["/account/login"],{state:{redirectUrl:e.url}}),!0)},t}();Oe.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new Oe(e.ɵɵinject(s.OAuthService),e.ɵɵinject(e.INJECTOR))},token:Oe,providedIn:"root"}),Oe.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],Oe.ctorParameters=function(){return[{type:s.OAuthService},{type:e.Injector}]};var je=function(){function e(t,e,n){this.router=t,this.routes=e,this.store=n}return e.prototype.canActivate=function(e,n){var r=this,a=(e.data||{}).requiredPolicy;if(!a){var u=Rt(this.routes,wt(this.router,n.url));a=null==u?void 0:u.requiredPolicy}return a?this.store.select(t.ɵbo.getGrantedPolicy(a)).pipe(i.tap((function(t){t||r.store.dispatch(new E({status:403}))}))):o.of(!0)},e}();je.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new je(e.ɵɵinject(n.Router),e.ɵɵinject(Nt),e.ɵɵinject(r.Store))},token:je,providedIn:"root"}),je.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],je.ctorParameters=function(){return[{type:n.Router},{type:Nt},{type:r.Store}]};var Ae=function(t){for(var e in void 0===t&&(t={}),t)t.hasOwnProperty(e)&&(this[e]=t[e])},Ie=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return L(e,t),e}(Ae),Re=function(t){for(var e in void 0===t&&(t={}),this.maxResultCount=10,t)t.hasOwnProperty(e)&&(this[e]=t[e])},we=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return L(e,t),e}(Re),Ee=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return L(e,t),e}(we),Pe=function(t){for(var e in void 0===t&&(t={}),t)t.hasOwnProperty(e)&&(this[e]=t[e])},Te=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return L(e,t),e}(Pe),_e=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return L(e,t),e}(Te),De=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return L(e,t),e}(Te),xe=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return L(e,t),e}(De),Le=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return L(e,t),e}(De),ke=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return L(e,t),e}(Le),Ne=function(t){for(var e in void 0===t&&(t={}),t)t.hasOwnProperty(e)&&(this[e]=t[e])},Fe=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return L(e,t),e}(Ne),Me=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return L(e,t),e}(Fe),ze=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return L(e,t),e}(Me),Ue=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return L(e,t),e}(ze),Be=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return L(e,t),e}(Me),Ve=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return L(e,t),e}(ze),$e=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return L(e,t),e}(Ve),Ge=function(t){for(var e in void 0===t&&(t={}),t)t.hasOwnProperty(e)&&(this[e]=t[e])},qe=function(){function e(t,e){this.rest=t,this.store=e}return Object.defineProperty(e.prototype,"apiName",{get:function(){return this.store.selectSnapshot(t.ɵbo.getDeep("environment.application.name"))},enumerable:!1,configurable:!0}),e.prototype.getConfiguration=function(){return this.rest.request({method:"GET",url:"/api/abp/application-configuration"},{apiName:this.apiName})},e}();qe.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new qe(e.ɵɵinject(nt),e.ɵɵinject(r.Store))},token:qe,providedIn:"root"}),qe.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],qe.ctorParameters=function(){return[{type:nt},{type:r.Store}]};var He=function(){function e(t){this.store=t}return e.prototype.getAll=function(){return this.store.selectSnapshot(t.ɵbo.getAll)},e.prototype.getApplicationInfo=function(){return this.store.selectSnapshot(t.ɵbo.getApplicationInfo)},e.prototype.getOne=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.store.selectSnapshot(t.ɵbo.getOne.apply(t.ɵbo,B(e)))},e.prototype.getDeep=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.store.selectSnapshot(t.ɵbo.getDeep.apply(t.ɵbo,B(e)))},e.prototype.getApiUrl=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.store.selectSnapshot(t.ɵbo.getApiUrl.apply(t.ɵbo,B(e)))},e.prototype.getFeature=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.store.selectSnapshot(t.ɵbo.getFeature.apply(t.ɵbo,B(e)))},e.prototype.getSetting=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.store.selectSnapshot(t.ɵbo.getSetting.apply(t.ɵbo,B(e)))},e.prototype.getSettings=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.store.selectSnapshot(t.ɵbo.getSettings.apply(t.ɵbo,B(e)))},e.prototype.getGrantedPolicy=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.store.selectSnapshot(t.ɵbo.getGrantedPolicy.apply(t.ɵbo,B(e)))},e.prototype.getLocalization=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.store.selectSnapshot(t.ɵbo.getLocalization.apply(t.ɵbo,B(e)))},e.prototype.getLocalizationResource=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.store.selectSnapshot(t.ɵbo.getLocalizationResource.apply(t.ɵbo,B(e)))},e.prototype.dispatchGetAppConfiguration=function(){return this.store.dispatch(new S)},e.prototype.dispatchSetEnvironment=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(C.bind.apply(C,B([void 0],t))))},e}();He.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new He(e.ɵɵinject(r.Store))},token:He,providedIn:"root"}),He.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],He.ctorParameters=function(){return[{type:r.Store}]};var We=function(){function t(t){this.injector=t}return t.prototype.projectContent=function(t,e){return void 0===e&&(e=this.injector),t.injectContent(e)},t}();We.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new We(e.ɵɵinject(e.INJECTOR))},token:We,providedIn:"root"}),We.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],We.ctorParameters=function(){return[{type:e.Injector}]};var Ye=function(t){function n(e){var n=t.call(this)||this;return n.moduleWithProviders=e,n}return L(n,t),Object.defineProperty(n.prototype,"moduleType",{get:function(){return this.moduleWithProviders.ngModule},enumerable:!1,configurable:!0}),n.prototype.create=function(t){var n=e.Injector.create({parent:t,providers:this.moduleWithProviders.providers});return n.get(e.Compiler).compileModuleSync(this.moduleType).create(n)},n}(e.NgModuleFactory);function Ze(t){return t==Number(t)}function Ke(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return e}var Je=function(){function t(t,e){this.crossorigin=t,this.integrity=e}return t.prototype.setCrossOrigin=function(t){this.integrity&&t.setAttribute("integrity",this.integrity),t.setAttribute("crossorigin",this.crossorigin)},t}(),Qe={Anonymous:function(t){return new Je("anonymous",t)},UseCredentials:function(t){return new Je("use-credentials",t)}},Xe=function(){function t(t,e){void 0===t&&(t=document.head),void 0===e&&(e="beforeend"),this.target=t,this.position=e}return t.prototype.insertElement=function(t){this.target.insertAdjacentElement(this.position,t)},t}(),tn={AfterElement:function(t){return new Xe(t,"afterend")},AppendToBody:function(){return new Xe(document.body,"beforeend")},AppendToHead:function(){return new Xe(document.head,"beforeend")},BeforeElement:function(t){return new Xe(t,"beforebegin")},PrependToHead:function(){return new Xe(document.head,"afterbegin")}};function en(t,e,n){return void 0===e&&(e=tn.AppendToHead()),void 0===n&&(n=Qe.Anonymous()),n.setCrossOrigin(t),e.insertElement(t),new o.Observable((function(e){t.onload=function(n){nn(t),e.next(n),e.complete()};var n=function(t,e){return function(n){nn(e),e.parentNode.removeChild(e),t.error(n)}}(e,t);return t.onerror=n,t.onabort=n,t.onemptied=n,t.onstalled=n,t.onsuspend=n,function(){nn(t),e.complete()}}))}function nn(t){t.onload=null,t.onerror=null,t.onabort=null,t.onemptied=null,t.onstalled=null,t.onsuspend=null}function rn(t){return"function"==typeof t}var on=function(){function t(){this.inserted=new Set}return t.prototype.insertContent=function(t){var e=Ke(t.content);if(!this.inserted.has(e)){var n=t.insertElement();return this.inserted.add(e),n}},t.prototype.removeContent=function(t){var e=Ke(t.textContent);this.inserted.delete(e),t.parentNode.removeChild(t)},t.prototype.has=function(t){var e=Ke(t);return this.inserted.has(e)},t}();on.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new on},token:on,providedIn:"root"}),on.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var an=function(){function t(){this.loaded=new Map}return t.prototype.load=function(t,e,n){var r=this;return this.loaded.has(t.path)?o.of(new CustomEvent("load")):t.createStream().pipe(i.retryWhen((function(t){return o.concat(t.pipe(i.delay(n),i.take(e)),o.throwError(new CustomEvent("error")))})),i.tap((function(){return r.loaded.set(t.path,t.element)})),i.delay(100),i.shareReplay({bufferSize:1,refCount:!0}))},t.prototype.remove=function(t){var e=this.loaded.get(t);return!!e&&(e.parentNode.removeChild(e),this.loaded.delete(t),!0)},t}();an.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new an},token:an,providedIn:"root"}),an.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var un=new e.InjectionToken("LIST_QUERY_DEBOUNCE_TIME"),sn=function(){function t(t){var e=this;this.delay=t,this._filter="",this._maxResultCount=10,this._page=0,this._sortKey="",this._sortOrder="",this._query$=new o.ReplaySubject(1),this._isLoading$=new o.BehaviorSubject(!1),this.destroy$=new o.Subject,this.get=function(){e._query$.next({filter:e._filter||void 0,maxResultCount:e._maxResultCount,skipCount:e._page*e._maxResultCount,sorting:e._sortOrder?e._sortKey+" "+e._sortOrder:void 0})},this.get()}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter!==t&&(this._page=0),this._filter=t,this.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxResultCount",{get:function(){return this._maxResultCount},set:function(t){this._maxResultCount=t,this.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this._page},set:function(t){t!==this._page&&(this._page=t,this.get())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortKey",{get:function(){return this._sortKey},set:function(t){this._sortKey=t,this.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortOrder",{get:function(){return this._sortOrder},set:function(t){this._sortOrder=t,this.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"query$",{get:function(){return this._query$.asObservable().pipe(i.debounceTime(this.delay||300),i.shareReplay({bufferSize:1,refCount:!0}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading$",{get:function(){return this._isLoading$.asObservable()},enumerable:!1,configurable:!0}),t.prototype.hookToQuery=function(t){var e=this;return this._isLoading$.next(!0),this.query$.pipe(i.switchMap((function(e){return t(e).pipe(i.catchError((function(){return o.of(null)})))})),i.filter(Boolean),i.tap((function(){return e._isLoading$.next(!1)})),i.shareReplay({bufferSize:1,refCount:!0}),i.takeUntil(this.destroy$))},t.prototype.ngOnDestroy=function(){this.destroy$.next()},t}();sn.decorators=[{type:e.Injectable}],sn.ctorParameters=function(){return[{type:Number,decorators:[{type:e.Optional},{type:e.Inject,args:[un]}]}]};var cn=function(){function e(t){this.store=t}return e.prototype.getProfile=function(){return this.store.selectSnapshot(t.ɵy.getProfile)},e.prototype.dispatchGetProfile=function(){return this.store.dispatch(new A)},e.prototype.dispatchUpdateProfile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(I.bind.apply(I,B([void 0],t))))},e.prototype.dispatchChangePassword=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(R.bind.apply(R,B([void 0],t))))},e}();cn.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new cn(e.ɵɵinject(r.Store))},token:cn,providedIn:"root"}),cn.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],cn.ctorParameters=function(){return[{type:r.Store}]};var pn=function(){function e(t){this.store=t}return e.prototype.getLanguage=function(){return this.store.selectSnapshot(t.ɵbi.getLanguage)},e.prototype.getTenant=function(){return this.store.selectSnapshot(t.ɵbi.getTenant)},e.prototype.getSessionDetail=function(){return this.store.selectSnapshot(t.ɵbi.getSessionDetail)},e.prototype.dispatchSetLanguage=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(P.bind.apply(P,B([void 0],t))))},e.prototype.dispatchSetTenant=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(T.bind.apply(T,B([void 0],t))))},e.prototype.dispatchSetRemember=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(D.bind.apply(D,B([void 0],t))))},e.prototype.dispatchModifyOpenedTabCount=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(_.bind.apply(_,B([void 0],t))))},e}();pn.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new pn(e.ɵɵinject(r.Store))},token:pn,providedIn:"root"}),pn.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],pn.ctorParameters=function(){return[{type:r.Store}]};var ln=function(t){return function(e,n){return n[t]}},fn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,n){return t.reduce((function(t,e){return t[e]}),n)}},dn=function(){this.by=ln,this.byDeep=fn};dn.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new dn},token:dn,providedIn:"root"}),dn.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var hn=function(){function t(t){this.containerRef=t}return t.prototype.prepare=function(){},t}(),yn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return L(e,t),e.prototype.getIndex=function(){return 0},e.prototype.prepare=function(){this.containerRef.clear()},e}(hn),gn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.index=n,r}return L(e,t),e.prototype.getIndex=function(){return Math.min(Math.max(0,this.index),this.containerRef.length)},e}(hn),vn={Clear:function(t){return new yn(t)},Append:function(t){return new gn(t,t.length)},Prepend:function(t){return new gn(t,0)},Insert:function(t,e){return new gn(t,e)}},mn=function(t){this.nonce=t},bn=function(t){function e(e){return t.call(this,e)||this}return L(e,t),e.prototype.applyCSP=function(t){t.setAttribute("nonce",this.nonce)},e}(mn),Sn=function(t){function e(){return t.call(this)||this}return L(e,t),e.prototype.applyCSP=function(t){},e}(mn),Cn={Loose:function(t){return new bn(t)},None:function(){return new Sn}},On=function(){function t(t,e,n){void 0===e&&(e=tn.AppendToHead()),void 0===n&&(n=Cn.None()),this.content=t,this.domStrategy=e,this.contentSecurityStrategy=n}return t.prototype.insertElement=function(){var t=this.createElement();return this.contentSecurityStrategy.applyCSP(t),this.domStrategy.insertElement(t),t},t}(),jn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return L(e,t),e.prototype.createElement=function(){var t=document.createElement("style");return t.textContent=this.content,t},e}(On),An=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return L(e,t),e.prototype.createElement=function(){var t=document.createElement("script");return t.textContent=this.content,t},e}(On),In={AppendScriptToBody:function(t){return new An(t,tn.AppendToBody())},AppendScriptToHead:function(t){return new An(t,tn.AppendToHead())},AppendStyleToHead:function(t){return new jn(t,tn.AppendToHead())},PrependStyleToHead:function(t){return new jn(t,tn.PrependToHead())}},Rn=function(){function t(t){this.context=t}return t.prototype.setContext=function(t){return this.context},t}(),wn=function(t){function e(){return t.call(this,void 0)||this}return L(e,t),e}(Rn),En=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return L(e,t),e.prototype.setContext=function(t){var e=this;return Object.keys(this.context).forEach((function(n){return t.instance[n]=e.context[n]})),t.changeDetectorRef.detectChanges(),this.context},e}(Rn),Pn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return L(e,t),e.prototype.setContext=function(){return this.context},e}(Rn),Tn={None:function(){return new wn},Component:function(t){return new En(t)},Template:function(t){return new Pn(t)}},_n=function(){function t(t,e,n){void 0===e&&(e=tn.AppendToHead()),void 0===n&&(n=Qe.Anonymous()),this.path=t,this.domStrategy=e,this.crossOriginStrategy=n}return t.prototype.createStream=function(){var t=this;return this.element=this.createElement(),o.of(null).pipe(i.switchMap((function(){return en(t.element,t.domStrategy,t.crossOriginStrategy)})))},t}(),Dn=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return L(e,t),e.prototype.createElement=function(){var t=document.createElement("script");return t.src=this.path,t},e}(_n),xn=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return L(e,t),e.prototype.createElement=function(){var t=document.createElement("link");return t.rel="stylesheet",t.href=this.path,t},e}(_n),Ln={AppendAnonymousScriptToBody:function(t,e){return new Dn(t,tn.AppendToBody(),Qe.Anonymous(e))},AppendAnonymousScriptToHead:function(t,e){return new Dn(t,tn.AppendToHead(),Qe.Anonymous(e))},AppendAnonymousStyleToHead:function(t,e){return new xn(t,tn.AppendToHead(),Qe.Anonymous(e))},PrependAnonymousScriptToHead:function(t,e){return new Dn(t,tn.PrependToHead(),Qe.Anonymous(e))},PrependAnonymousStyleToHead:function(t,e){return new xn(t,tn.PrependToHead(),Qe.Anonymous(e))}},kn=function(t){this.content=t},Nn=function(t){function n(e,n,r){void 0===r&&(r=Tn.None());var o=t.call(this,e)||this;return o.containerStrategy=n,o.contextStrategy=r,o}return L(n,t),n.prototype.injectContent=function(t){this.containerStrategy.prepare();var n=t.get(e.ComponentFactoryResolver).resolveComponentFactory(this.content),r=this.containerStrategy.containerRef.createComponent(n,this.containerStrategy.getIndex(),t);return this.contextStrategy.setContext(r),r},n}(kn),Fn=function(t){function n(e,n,r){void 0===n&&(n=Tn.None()),void 0===r&&(r=tn.AppendToBody());var o=t.call(this,e)||this;return o.contextStrategy=n,o.domStrategy=r,o}return L(n,t),n.prototype.injectContent=function(t){var n=t.get(e.ApplicationRef),r=t.get(e.ComponentFactoryResolver).resolveComponentFactory(this.content).create(t);this.contextStrategy.setContext(r),n.attachView(r.hostView);var o=r.hostView.rootNodes[0];return this.domStrategy.insertElement(o),r},n}(kn),Mn=function(t){function e(e,n,r){void 0===r&&(r=Tn.None());var o=t.call(this,e)||this;return o.containerStrategy=n,o.contextStrategy=r,o}return L(e,t),e.prototype.injectContent=function(){this.containerStrategy.prepare();var t=this.containerStrategy.containerRef.createEmbeddedView(this.content,this.contextStrategy.context,this.containerStrategy.getIndex());return t.detectChanges(),t},e}(kn),zn={AppendComponentToBody:function(t,e){return new Fn(t,e&&Tn.Component(e))},AppendComponentToContainer:function(t,e,n){return new Nn(t,vn.Append(e),n&&Tn.Component(n))},AppendTemplateToContainer:function(t,e,n){return new Mn(t,vn.Append(e),n&&Tn.Template(n))},PrependComponentToContainer:function(t,e,n){return new Nn(t,vn.Prepend(e),n&&Tn.Component(n))},PrependTemplateToContainer:function(t,e,n){return new Mn(t,vn.Prepend(e),n&&Tn.Template(n))},ProjectComponentToContainer:function(t,e,n){return new Nn(t,vn.Clear(e),n&&Tn.Component(n))},ProjectTemplateToContainer:function(t,e,n){return new Mn(t,vn.Clear(e),n&&Tn.Template(n))}};function Un(t){var e=(void 0===t?{}:t).age,n=void 0===e?18:e;return function(t){return t.pristine||["",null,void 0].indexOf(t.value)>-1?null:(e=t.value,r=n,(o=new Date).setFullYear(o.getFullYear()-r),o.setHours(23,59,59,999),Number(new Date(e))<=o.valueOf()?null:{minAge:{age:n}});var e,r,o}}function Bn(){return function(t){return t.pristine||["",null,void 0].indexOf(t.value)>-1||function(t){if(t=t.replace(/[ -]/g,""),!/^[0-9]{13,19}$/.test(t))return!1;for(var e=0,n=1,r=t.length;r>0;r--){var o=Number(t[r-1])*n;e+=o%10+~~(o/10),n=2*n%3}return e%10==0}(String(t.value))?null:{creditCard:!0}}}function Vn(t){var e=void 0===t?{}:t,n=e.maximum,r=void 0===n?1/0:n,o=e.minimum,i=void 0===o?0:o;return function(t){if(t.pristine)return null;if(["",null,void 0].indexOf(t.value)>-1)return null;var e=Number(t.value);return function(t,e,n){return t<e?{range:{min:e,max:n}}:null}(e,i,r)||function(t,e,n){return t>e?{range:{max:e,min:n}}:null}(e,r,i)}}function $n(t){var e=(void 0===t?{}:t).allowEmptyStrings;return function(t){return t.pristine||function(t,e){return!(!t&&0!==t&&!1!==t)||!(!e||""!==t)}(t.value,e)?null:{required:!0}}}function Gn(t){var e=void 0===t?{}:t,n=e.maximumLength,r=void 0===n?1/0:n,o=e.minimumLength,i=void 0===o?0:o;return function(t){if(t.pristine)return null;if(["",null,void 0].indexOf(t.value)>-1)return null;var e=String(t.value);return function(t,e){return t.length<e?{minlength:{requiredLength:e}}:null}(e,i)||function(t,e){return t.length>e?{maxlength:{requiredLength:e}}:null}(e,r)}}function qn(){return function(t){return t.pristine||["",null,void 0].indexOf(t.value)>-1||function(t){if(/^http(s)?:\/\/[^/]/.test(t)||/^ftp:\/\/[^/]/.test(t)){var e=document.createElement("a");return e.href=t,!!e.host}return!1}(t.value)?null:{url:!0}}}var Hn=function(){return d.Validators.email},Wn={creditCard:Bn,emailAddress:Hn,minAge:Un,range:Vn,required:$n,stringLength:Gn,url:qn};t.AUTH_FLOW_STRATEGY=ut,t.AbpValidators=Wn,t.AbstractNavTreeService=kt,t.AbstractNgModelComponent=b,t.AbstractTreeService=Lt,t.AddReplaceableComponent=w,t.ApiInterceptor=ue,t.ApplicationConfigurationService=qe,t.AuditedEntityDto=De,t.AuditedEntityWithUserDto=xe,t.AuthCodeFlowStrategy=it,t.AuthFlowStrategy=ot,t.AuthGuard=Oe,t.AuthPasswordFlowStrategy=at,t.AuthService=ct,t.AutofocusDirective=Vt,t.BaseCoreModule=ve,t.BaseTreeNode=_t,t.CONTAINER_STRATEGY=vn,t.CONTENT_SECURITY_STRATEGY=Cn,t.CONTENT_STRATEGY=In,t.CONTEXT_STRATEGY=Tn,t.CORE_OPTIONS=tt,t.CROSS_ORIGIN_STRATEGY=Qe,t.ChangePassword=R,t.ClearContainerStrategy=yn,t.ComponentContextStrategy=En,t.ComponentProjectionStrategy=Nn,t.ConfigPlugin=de,t.ConfigState=t.ɵbo,t.ConfigStateService=He,t.ContainerStrategy=hn,t.ContentProjectionService=We,t.ContentSecurityStrategy=mn,t.ContentStrategy=On,t.ContextStrategy=Rn,t.CoreModule=Se,t.CreationAuditedEntityDto=Te,t.CreationAuditedEntityWithUserDto=_e,t.CrossOriginStrategy=Je,t.DOM_STRATEGY=tn,t.DomInsertionService=on,t.DomStrategy=Xe,t.DynamicLayoutComponent=zt,t.EllipsisDirective=Gt,t.EntityDto=Pe,t.ExtensibleAuditedEntityDto=ze,t.ExtensibleAuditedEntityWithUserDto=Ue,t.ExtensibleCreationAuditedEntityDto=Me,t.ExtensibleCreationAuditedEntityWithUserDto=Be,t.ExtensibleEntityDto=Fe,t.ExtensibleFullAuditedEntityDto=Ve,t.ExtensibleFullAuditedEntityWithUserDto=$e,t.ExtensibleObject=Ne,t.FindTenantResultDto=Ge,t.ForDirective=Wt,t.FormSubmitDirective=Yt,t.FullAuditedEntityDto=Le,t.FullAuditedEntityWithUserDto=ke,t.GetAppConfiguration=S,t.GetProfile=A,t.InitDirective=Jt,t.InputEventDebounceDirective=$t,t.InsertIntoContainerStrategy=gn,t.InternalStore=It,t.LIST_QUERY_DEBOUNCE_TIME=un,t.LOADING_STRATEGY=Ln,t.LazyLoadService=an,t.LazyModuleFactory=Ye,t.LimitedResultRequestDto=Re,t.ListResultDto=Ae,t.ListService=sn,t.LoadingStrategy=_n,t.LocalizationModule=pe,t.LocalizationPipe=se,t.LocalizationService=At,t.LooseContentSecurityStrategy=bn,t.MockLocalizationPipe=ce,t.ModifyOpenedTabCount=_,t.MultiTenancyService=dt,t.NGXS_CONFIG_PLUGIN_OPTIONS=fe,t.NoContentSecurityStrategy=Sn,t.NoContextStrategy=wn,t.PROJECTION_STRATEGY=zn,t.PagedAndSortedResultRequestDto=Ee,t.PagedResultDto=Ie,t.PagedResultRequestDto=we,t.PermissionDirective=te,t.PermissionGuard=je,t.ProfileService=Xt,t.ProfileState=t.ɵy,t.ProfileStateService=cn,t.ProjectionStrategy=kn,t.ReplaceableComponentsService=Pt,t.ReplaceableComponentsState=t.ɵv,t.ReplaceableRouteContainerComponent=Ut,t.ReplaceableTemplateDirective=ee,t.RestOccurError=E,t.RestService=nt,t.RootComponentProjectionStrategy=Fn,t.RootCoreModule=me,t.RouterOutletComponent=Bt,t.RoutesService=Nt,t.ScriptContentStrategy=An,t.ScriptLoadingStrategy=Dn,t.SessionState=t.ɵbi,t.SessionStateService=pn,t.SetEnvironment=C,t.SetLanguage=P,t.SetRemember=D,t.SetTenant=T,t.SettingTabsService=Ft,t.SortPipe=le,t.StartLoader=O,t.StopLoader=j,t.StopPropagationDirective=ne,t.StyleContentStrategy=jn,t.StyleLoadingStrategy=xn,t.SubscriptionService=Mt,t.TemplateContextStrategy=Pn,t.TemplateProjectionStrategy=Mn,t.TestCoreModule=be,t.TrackByService=dn,t.UpdateProfile=I,t.VisibilityDirective=re,t.checkAccessToken=mt,t.clearOAuthStorage=st,t.coreOptionsFactory=et,t.createLocalizationPipeKeyGenerator=function(t){var e=jt(t);return function(t,n,r){var o=e(t,n),i=o.resourceName,a=o.key;return i?"_"===i?a:i+"::"+a:r}},t.createLocalizer=Ct,t.createLocalizerWithFallback=Ot,t.createMapFromList=xt,t.createTokenParser=G,t.createTreeFromList=Dt,t.deepMerge=pt,t.downloadBlob=function(t,e){var n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),document.body.removeChild(r)},t.exists=Z,t.findRoute=Rt,t.fromLazyLoad=en,t.generateHash=Ke,t.generatePassword=function(t){void 0===t&&(t=8),t=Math.min(Math.max(4,t),128);var e="abcdefghijklmnopqrstuvwxyz",n="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r="0123456789",o="!@#$%&*()_+{}<>?[]./",i=function(t){return t[Math.floor(Math.random()*t.length)]},a=Array({length:t});a[0]=i(e),a[1]=i(n),a[2]=i(r),a[3]=i(o);for(var u=4;u<t;u++)a[u]=i("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%&*()_+{}<>?[]./");return a.sort((function(){return.5-Math.random()})).join("")},t.getInitialData=vt,t.getLocaleDirection=function(t){return/^(ar(-[A-Z]{2})?|ckb(-IR)?|fa(-AF)?|he|ks|lrc(-IQ)?|mzn|pa-Arab|ps(-PK)?|sd|ug|ur(-IN)?|uz-Arab|yi)$/.test(t)?"rtl":"ltr"},t.getRemoteEnv=ft,t.getRoutePath=wt,t.getShortDateFormat=function(t){return t.getDeep("localization.currentCulture.dateTimeFormat").shortDatePattern},t.getShortDateShortTimeFormat=function(t){var e=t.getDeep("localization.currentCulture.dateTimeFormat");return e.shortDatePattern+" "+e.shortTimePattern.replace("tt","a")},t.getShortTimeFormat=function(t){return t.getDeep("localization.currentCulture.dateTimeFormat").shortTimePattern.replace("tt","a")},t.interpolate=q,t.isArray=J,t.isNullOrUndefined=Y,t.isNumber=Ze,t.isObject=K,t.isObjectAndNotArray=Q,t.isUndefinedOrEmptyString=W,t.localeInitializer=bt,t.mapEnumToOptions=function(t){var e=[];for(var n in t)Ze(n)||e.push({key:n,value:t[n]});return e},t.ngxsStoragePluginSerialize=Ce,t.noop=H,t.oAuthStorage=rt,t.parseTenantFromUrl=yt,t.pushValueTo=Tt,t.registerLocale=St,t.reloadRoute=Et,t.storageFactory=ge,t.takeUntilDestroy=function(t,e){return void 0===e&&(e="ngOnDestroy"),function(n){var r=t[e];if(!1===rn(r))throw new Error(t.constructor.name+" is using untilDestroyed but doesn't implement "+e);return t.__takeUntilDestroy||(t.__takeUntilDestroy=new o.Subject,t[e]=function(){rn(r)&&r.apply(this,arguments),t.__takeUntilDestroy.next(!0),t.__takeUntilDestroy.complete()}),n.pipe(i.takeUntil(t.__takeUntilDestroy))}},t.trackBy=ln,t.trackByDeep=fn,t.uuid=function t(e){return e?(e^16*Math.random()>>e/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,t)},t.validateCreditCard=Bn,t.validateMinAge=Un,t.validateRange=Vn,t.validateRequired=$n,t.validateStringLength=Gn,t.validateUrl=qn,t.ɵ0=Hn,t.ɵa=rt,t.ɵb=b,t.ɵba=nt,t.ɵbb=tt,t.ɵbc=et,t.ɵbe=A,t.ɵbf=I,t.ɵbg=R,t.ɵbj=P,t.ɵbk=T,t.ɵbl=_,t.ɵbm=D,t.ɵbp=S,t.ɵbq=C,t.ɵbs=he,t.ɵbt=ye,t.ɵbu=fe,t.ɵbv=de,t.ɵbw=ue,t.ɵbx=oe,t.ɵby=H,t.ɵbz=vt,t.ɵc=Vt,t.ɵca=bt,t.ɵcb=ie,t.ɵcc=Lt,t.ɵcd=kt,t.ɵce=Nt,t.ɵd=zt,t.ɵe=Mt,t.ɵf=At,t.ɵg=Pt,t.ɵh=Gt,t.ɵi=Wt,t.ɵj=Yt,t.ɵk=Jt,t.ɵl=$t,t.ɵm=te,t.ɵn=Ut,t.ɵo=ee,t.ɵp=Bt,t.ɵq=le,t.ɵr=ne,t.ɵs=re,t.ɵt=se,t.ɵu=ce,t.ɵw=w,t.ɵz=Xt,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=abp-ng.core.umd.min.js.map